function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function _(e,t,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=l(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function h(e,t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,i){var a,s=l(e,t);if(s){if((a=Object.getOwnPropertyDescriptor(s,t)).set)return a.set.call(i,n),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(i,t)){if(!a.writable)return!1;a.value=n,Object.defineProperty(i,t,a)}else o(i,t,n);return!0})(e,t,n,i)}function d(e,t,n,i,o){if(!h(e,t,n,i||e)&&o)throw new Error("failed to set property");return n}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var m,g,v,f=/^\s*<[\S\s]*$/,y=function(){function e(){t(this,e),this._elements=new Array}return i(e,[{key:"append",value:function(e){var t=C(e);return this._elements.forEach((function(e,n){t.forEach((function(t){var i=0!==n?t.cloneNode():t;e.appendChild(i)}))})),this}},{key:"remove",value:function(){this._elements.forEach((function(e){e.parentNode.removeChild(e)}))}},{key:"prepend",value:function(e){var t=C(e);return this._elements.forEach((function(e,n){var i=e.firstChild;t.forEach((function(t){var o=0!==n?t.cloneNode():t;e.insertBefore(o,i)}))})),this}},{key:"content",value:function(e){return this.empty().append(e)}},{key:"disable",value:function(){return this.disabled(!0)}},{key:"enable",value:function(){return this.disabled(!1)}},{key:"attr",value:function(e){return this._elements.forEach((function(t){!function(e,t){Object.keys(t).forEach((function(n){t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}))}(t,e)})),this}},{key:"focus",value:function(){return this._elements.forEach((function(e){e.focus()})),this}},{key:"addClass",value:function(e){return this._elements.forEach((function(t){!function(e,t){w(e,t)||(e.className+=" "+t,e.className=e.className.replace(/  +/g," "))}(t,e)})),this}},{key:"removeClass",value:function(e){return this._elements.forEach((function(t){!function(e,t){if(w(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/  +/g," ")}}(t,e)})),this}},{key:"setClass",value:function(e){return this._elements.forEach((function(t){t.className=e})),this}},{key:"find",value:function(t){var n=new e;return this._elements.forEach((function(e){b(e,t).forEach((function(e){n.push(e)}))})),n}},{key:"hide",value:function(){return this._elements.forEach((function(e){e.style.display="none"})),this}},{key:"show",value:function(){return this._elements.forEach((function(e){e.style.display=""})),this}},{key:"empty",value:function(){return this._elements.forEach((function(e){e.innerHTML=""})),this}},{key:"text",value:function(e){return this._elements.forEach((function(t){t.textContent=e})),this}},{key:"on",value:function(e,t){var n=this;return e.trim().split(" ").forEach((function(e){n._elements.forEach((function(n){n.addEventListener(e,t)}))})),this}},{key:"hover",value:function(e,t){return this._elements.forEach((function(n){n.addEventListener("mouseover",e),n.addEventListener("mouseout",t)})),this}},{key:"first",value:function(){var t=new e;return this._elements.length?t.push(this._elements[0]):t}},{key:"get",value:function(e){return this._elements[e]}},{key:"disabled",value:function(e){return this._elements.forEach((function(t){t.disabled!=e&&(t.disabled=e)})),this}},{key:"blockInteraction",value:function(){var e=this;return this._elements.forEach((function(t){t.style.pointerEvents="none",t.addEventListener("keydown",e.keydownBlockEventHandler)})),this}},{key:"unblockInteraction",value:function(){var e=this;return this._elements.forEach((function(t){t.style.pointerEvents="auto",t.removeEventListener("keydown",e.keydownBlockEventHandler)})),this}},{key:"push",value:function(){var e;return(e=this._elements).push.apply(e,arguments),this}},{key:"keydownBlockEventHandler",value:function(e){e.preventDefault()}},{key:"length",get:function(){return this._elements.length}},{key:"elements",get:function(){return p(this._elements)}}],[{key:"createTSQueryElement",value:function(t){var n=C(t),i=new e;return i.push.apply(i,p(n)),i}}]),e}();function C(e){var t,n;return e instanceof y?e.elements:e instanceof Array?e:e instanceof HTMLElement?[e]:f.test(e)?(t=e,(n=document.createElement("div")).innerHTML=t,k(n.childNodes)):b(document,e)}function k(e){var t=[];return[].forEach.call(e,(function(e){e instanceof HTMLElement&&t.push(e)})),t}function b(e,t){return k(e.querySelectorAll(t))}function w(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function S(e){return y.createTSQueryElement(e)}!function(e){e.Mousedown="mousedown",e.Mouseup="mouseup",e.Mouseenter="mouseenter",e.Mouseleave="mouseleave",e.Click="click"}(m||(m={})),function(e){e.Keydown="keydown",e.Keypress="keypress"}(g||(g={})),function(e){e.Selected="xmui--selected",e.Disabled="xmui--disabled",e.Active="xmui--active",e.Error="xmui--error"}(v||(v={}));var x,I=function(){function e(){t(this,e),this._active=!1,this._selected=!1,this._disabled=!1,this._error=!1,this._key="",this.element=this.buildElement()}return i(e,[{key:"appendInto",value:function(e){e.append(this.element)}},{key:"prependInto",value:function(e){e.prepend(this.element)}},{key:"remove",value:function(){this.element.remove()}},{key:"onClick",value:function(e){this.onMouseEvent(m.Click,e)}},{key:"onMousedown",value:function(e){this.onMouseEvent(m.Mousedown,e)}},{key:"onMouseup",value:function(e){this.onMouseEvent(m.Mouseup,e)}},{key:"onMouseenter",value:function(e){this.onMouseEvent(m.Mouseenter,e)}},{key:"onMouseleave",value:function(e){this.onMouseEvent(m.Mouseleave,e)}},{key:"onMouseEvent",value:function(e,t){var n=this;this.element.on(e,(function(e){t(n,e)}))}},{key:"onKeydown",value:function(e){this.onKeyboardEvent(g.Keydown,e)}},{key:"onKeypress",value:function(e){this.onKeyboardEvent(g.Keypress,e)}},{key:"onKeyboardEvent",value:function(e,t){var n=this;this.element.on(e,(function(e){t(n,e)}))}},{key:"onPaste",value:function(e){this.element.on("paste",e)}},{key:"onCut",value:function(e){this.element.on("cut",e)}},{key:"onBlur",value:function(e){this.element.on("blur",e)}},{key:"onFocus",value:function(e){this.element.on("focus",e)}},{key:"onFocusIn",value:function(e){this.element.on("focusin",e)}},{key:"onFocusOut",value:function(e){this.element.on("focusout",e)}},{key:"onHover",value:function(e,t){this.element.hover(e,t)}},{key:"addClass",value:function(e){this.element.addClass(e)}},{key:"removeClass",value:function(e){this.element.removeClass(e)}},{key:"focus",value:function(){var e=this;setTimeout((function(){e.element.focus()}))}},{key:"scrollIntoView",value:function(){var e=this;setTimeout((function(){e.htmlElement.scrollIntoView()}))}},{key:"show",set:function(e){e?this.element.show():this.element.hide()}},{key:"id",set:function(e){this.htmlElement.id=e},get:function(){return this.htmlElement.id}},{key:"value",set:function(e){this._value=e},get:function(){return this._value}},{key:"className",set:function(e){this.element.setClass(e)}},{key:"ariaRole",set:function(e){this.attr={"aria-role":e}}},{key:"role",set:function(e){this.attr={role:e}}},{key:"ariaLabel",set:function(e){this.attr={"aria-label":e}}},{key:"ariaLabeledBy",set:function(e){this.attr={"aria-labelledby":e}}},{key:"ariaDescribedBy",set:function(e){this.attr={"aria-describedby":e}}},{key:"ariaMultiselectable",set:function(e){this.attr={"aria-multiselectable":e.toString()}}},{key:"ariaActiveDescendant",set:function(e){this.attr={"aria-activedescendant":e}}},{key:"ariaLive",set:function(e){this.attr={"aria-live":e}}},{key:"ariaSelected",set:function(e){this.attr={"aria-selected":e.toString()}}},{key:"ariaDisabled",set:function(e){this.attr={"aria-disabled":e.toString()}}},{key:"automationId",set:function(e){this.attr={"tsc-name":e}}},{key:"tabindex",set:function(e){this.attr={tabindex:e.toString()}}},{key:"spellcheck",set:function(e){this.attr={spellcheck:e?"true":"false"}}},{key:"attr",set:function(e){this.element.attr(e)}},{key:"htmlElement",get:function(){return this.element.get(0)}},{key:"active",set:function(e){e!==this._active&&e?this.addClass(v.Active):this.removeClass(v.Active),this._active=e},get:function(){return this._active}},{key:"selected",set:function(e){e!==this._selected&&e?this.addClass(v.Selected):this.removeClass(v.Selected),this._selected=e,this.ariaSelected=e},get:function(){return this._selected}},{key:"disabled",set:function(e){e!==this._disabled&&e?this.addClass(v.Disabled):this.removeClass(v.Disabled),this._disabled=e,this.ariaDisabled=e},get:function(){return this._disabled}},{key:"key",get:function(){return this._key},set:function(e){this._key=e}},{key:"error",set:function(e){this._error=e,e?this.addClass(v.Error):this.removeClass(v.Error)},get:function(){return this._error}}]),e}(),E=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t(this,n),(e=u(this,s(n).call(this))).setText(i),e}return a(n,I),i(n,[{key:"buildElement",value:function(){return S("<span></span>")}},{key:"setText",value:function(e){this.element.text(null==e?"":e)}}]),n}(),A=function(e){function n(){var e;return t(this,n),(e=u(this,s(n).apply(this,arguments))).children=[],e}return a(n,I),i(n,[{key:"prependChild",value:function(e){e.prependInto(this.element),this.children.push(e)}},{key:"prependChildren",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){e.prependChild(t)}))}},{key:"appendChild",value:function(e){e.appendInto(this.element),this.children.push(e)}},{key:"appendChildren",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){e.appendChild(t)}))}},{key:"removeChild",value:function(e){this.children=this.children.filter((function(t){return t!==e})),e.remove()}},{key:"setContent",value:function(e){this.empty(),this.appendChild(e)}},{key:"empty",value:function(){this.element.empty(),this.children=[]}},{key:"getNextChild",value:function(e){var t=this.getChildren().length,n=(this.getChildIndex(e)+1)%t;return this.getChildByIndex(n)}},{key:"getPrevChild",value:function(e){var t=this.getChildren().length,n=(this.getChildIndex(e)+t-1)%t;return this.getChildByIndex(n)}},{key:"getChildByIndex",value:function(e){return this.children[e]}},{key:"getChildren",value:function(){return this.children}},{key:"getChildIndex",value:function(e){return this.children.indexOf(e)}}]),n}(),P=function(e){function n(){return t(this,n),u(this,s(n).apply(this,arguments))}return a(n,A),i(n,[{key:"buildElement",value:function(){return S("<div></div>")}}]),n}(),T="xmui-info-panel",R="xmui-info-panel-title",M="xmui-info-panel-instructions",B=function(e){function n(){var e;t(this,n),(e=u(this,s(n).call(this))).className=T,e.titleComponent=new E,e.titleComponent.className="".concat(T,"_title"),e.titleComponent.automationId=R,e.instructionsComponent=new E,e.instructionsComponent.className="".concat(T,"_instructions"),e.instructionsComponent.automationId=M,e.instructionsComponent.show=!1;var i=new P;return i.className="".concat(T,"_container"),i.appendChildren(e.titleComponent,e.instructionsComponent),e.appendChild(i),e}return a(n,P),i(n,[{key:"setTitle",value:function(e){this.titleComponent.setText(e)}},{key:"setInstructions",value:function(e){var t=e?e.trim():"";this.instructionsComponent.setText(t),this.instructionsComponent.show=!!t}}]),n}(),N="xmui-header-panel",D=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t(this,n),(e=u(this,s(n).call(this))).className=N,e.addClass("".concat(N,i?"--short":"--normal")),e.iconComp=new P,e.iconComp.className="".concat(N,"_icon"),e.iconComp.show=!1,e.textComp=new E,e.textComp.className="".concat(N,"_text"),e.appendChildren(e.iconComp,e.textComp),e}return a(n,P),i(n,[{key:"setText",value:function(e){this.textComp.setText(e)}},{key:"setIcon",value:function(e){this.iconComp.className="".concat(N,"_icon ").concat(e),this.iconComp.show=!0}}]),n}(),q="xmui-action-panel",L=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t(this,n),(e=u(this,s(n).call(this))).className=q,e.addClass("".concat(q,i?"--short":"--normal")),e.leftButtonsContainer=new P,e.leftButtonsContainer.className="".concat(q,"_left"),e.rightButtonsContainer=new P,e.rightButtonsContainer.className="".concat(q,"_right"),e.appendChildren(e.leftButtonsContainer,e.rightButtonsContainer),e}return a(n,P),i(n,[{key:"addLeftButton",value:function(e){this.leftButtonsContainer.appendChild(e)}},{key:"addRightButton",value:function(e){this.rightButtonsContainer.appendChildren(e)}}]),n}(),F="xmui-busy-indicator",O=function(e){function n(){var e;t(this,n),(e=u(this,s(n).call(this))).className=F;var i=new P;return i.className="".concat(F,"_animation"),e.appendChild(i),e}return a(n,P),n}();!function(e){e.User="xmui-icon-user",e.Remove="xmui-icon-remove",e.Rename="xmui-icon-rename",e.More="xmui-icon-more",e.CircledMore="xmui-icon-circled-more",e.PasswordVisible="xmui-icon-password-input-visible",e.PasswordHidden="xmui-icon-password-input-hidden",e.Device="xmui-icon-device",e.Registered="xmui-icon-registered",e.WebBrowser="xmui-icon-web-browser",e.Expand="xmui-icon-expand",e.LockedState="xmui-icon-locked-state",e.MobileApproveWaiting="xmui-icon-mobile-approve-waiting",e.WaitForTicket="xmui-icon-wait-for-ticket",e.Checked="xmui-icon-checked",e.Unchecked="xmui-icon-unchecked",e.Checkmark="xmui-icon-checkmark",e.Cancellation="xmui-icon-cancellation",e.Expiration="xmui-icon-expired",e.Information="xmui-icon-information",e.Confirmation="xmui-icon-confirmation",e.Rejection="xmui-icon-rejection",e.AuthLocked="xmui-icon-locked",e.Error="xmui-icon-error",e.Unregister="xmui-icon-unregister",e.Fallback="xmui-icon-fallback",e.Promotion="xmui-icon-promotion",e.PasswordAuth="xmui-icon-password-auth",e.PincodeAuth="xmui-icon-pincode-auth",e.PatternAuth="xmui-icon-pattern-auth",e.OtpAuth="xmui-icon-otp-auth",e.VoiceAuth="xmui-icon-voice-auth",e.QuestionsAuth="xmui-icon-questions-auth",e.TotpAuth="xmui-icon-totp-auth",e.MobileApproveAuth="xmui-icon-mobile-approve-auth",e.GenericAuth="xmui-icon-generic-auth",e.SmsChannel="xmui-icon-sms-channel",e.EmailChannel="xmui-icon-email-channel",e.PushChannel="xmui-icon-push-channel",e.VoiceChannel="xmui-icon-voice-channel"}(x||(x={}));var j="xmui-page",U=function(e){function n(e,i){var o,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t(this,n),(o=u(this,s(n).call(this))).forceShowHeader=a,o.className=j,o.role="dialog",o.headerPanel=new D,o.headerPanel.show=o.forceShowHeader||!1,o.infoPanel=new B,o.infoPanel.show=!1,o.contentContainer=new P,o.contentContainer.className="".concat(j,"_content"),o.busyIndicator=new O,o.contentContainer.appendChild(o.busyIndicator),o.busy=!1,o.actionPanel=new L,o.appendChildren(o.headerPanel,o.infoPanel,o.contentContainer,o.actionPanel),o.automationId=e,o.addClass(i),o}return a(n,P),i(n,[{key:"setInstructions",value:function(e){this.infoPanel.setInstructions(e),this.infoPanel.show=!0}},{key:"setUserName",value:function(e){e?(this.headerPanel.setText(e),this.headerPanel.setIcon(x.User),this.headerPanel.show=!0):this.headerPanel.show=this.forceShowHeader||!1}},{key:"blockInteraction",value:function(){this.element.blockInteraction()}},{key:"unblockInteraction",value:function(){this.element.unblockInteraction()}},{key:"setContent",value:function(e){this.contentContainer.appendChild(e)}},{key:"setTitle",value:function(e){this.infoPanel.setTitle(e),this.infoPanel.show=!0}},{key:"addLeftButton",value:function(e){this.actionPanel.addLeftButton(e)}},{key:"addRightButton",value:function(e){this.actionPanel.addRightButton(e)}},{key:"busy",set:function(e){this.busyIndicator.show=e}},{key:"error",set:function(e){this.infoPanel.error=e}}]),n}(),Q=function e(){t(this,e)};Q.button_cancel="xmui-button-cancel",Q.button_back="xmui-button-back",Q.button_abort="xmui-button-abort",Q.button_retry="xmui-button-retry",Q.button_continue="xmui-button-continue",Q.button_reset="xmui-button-reset",Q.button_change_method="xmui-button-change-method",Q.button_select_method="xmui-button-select-method",Q.button_send_to_all="xmui-button-send-to-all",Q.button_actions_list="xmui-button-actions-list",Q.button_skip="xmui-button-skip",Q.button_rename="xmui-button-rename",Q.button_identify="xmui-button-identify",Q.button_remove="xmui-button-remove",Q.button_escape="xmui-button-escape",Q.button_recovery="xmui-button-recovery",Q.button_dynamic="xmui-button-dynamic",Q.button_add_question="xmui-button-add-question",Q.list_actions="xmui-list-actions",Q.list_item_text_state="xmui-list-item-text-state",Q.list_item_icon_state="xmui-list-item-icon-state",Q.dialog_recovery="xmui-dialog-recovery",Q.dialog_cancellation="xmui-dialog-cancellation",Q.dialog_confirm="xmui-dialog-confirm",Q.dialog_information="xmui-dialog-information",Q.dialog_title="xmui-dialog-title",Q.dialog_message="xmui-dialog-message",Q.dialog_fallback="xmui-dialog-fallback",Q.dialog_registration_promotion_intro="xmui-dialog-registration-promotion-intro",Q.popup_dialog_confirm="xmui-popup-dialog-confirm",Q.popup_dialog_input="xmui-popup-dialog-input",Q.input_password="xmui-input-password",Q.input_repeat_password="xmui-input-repeat-password",Q.input_fido2="xmui-input-fido2",Q.input_repeat_fido2="xmui-input-repeat-fido2",Q.input_pin_code="xmui-input-pin-code",Q.input_pattern_lock="xmui-input-pattern-lock",Q.input_otp_code="xmui-input-otp-code",Q.input_totp_code="xmui-input-totp-code",Q.input_text="xmui-input-text",Q.input_email="xmui-input-email",Q.input_security_question="xmui-input-security-question",Q.input_mobile_phone_number="xmui-input-mobile-phone-number",Q.input_mobile_phone_coutry_code="xmui-input-mobile-phone-country-code",Q.page_password_auth="xmui-page-password-auth",Q.page_password_reg="xmui-page-password-reg",Q.page_fido2_auth="xmui-page-fido2-auth",Q.page_fido2_reg="xmui-page-fido2-reg",Q.page_pin_auth="xmui-page-pin-auth",Q.page_pin_reg="xmui-page-pin-reg",Q.page_pattern_auth="xmui-page-pattern-auth",Q.page_pattern_reg="xmui-page-pattern-reg",Q.page_otp_auth="xmui-page-otp-auth",Q.page_totp_auth="xmui-page-totp-auth",Q.page_ticket_wait="xmui-page-ticket-wait",Q.page_mobile_approve="xmui-page-mobile-approve",Q.page_select_device="xmui-page-select-device",Q.page_otp_select_channel="xmui-page_otp_select_channel",Q.page_configure_authenticators="xmui-page-configure-authenticators",Q.page_manage_devices="xmui-page-manage-devices",Q.page_select_device_to_manage="xmui-page-select-managed-device",Q.page_select_authenticator="xmui-page-select-authenticator",Q.page_manage_user_details="xmui-page-manage-user-details",Q.page_dynamic_form="xmui-page-dynamic-form",Q.page_security_questions_auth="xmui-page-security-questions-auth",Q.page_security_questions_reg="xmui-page-security-questions-reg";var V,H="xmui-dialog-content",K=function(e){function n(){var e;return t(this,n),(e=u(this,s(n).call(this))).className=H,e.ariaRole="dialog",e.ariaLabeledBy="".concat(H,"_title"),e.ariaDescribedBy="".concat(H,"_message"),e.createContent(),e}return a(n,P),i(n,[{key:"setDialogTitle",value:function(e){this.titleComp.setText(e)}},{key:"setDialogMessage",value:function(e){this.messageComp.setText(e)}},{key:"setDialogIconClass",value:function(e){this.iconComp.className="".concat(H,"_icon ").concat(e)}},{key:"createContent",value:function(){this.iconComp=new P,this.iconComp.className="".concat(H,"_icon"),this.titleComp=new E,this.titleComp.className="".concat(H,"_title"),this.titleComp.automationId=Q.dialog_title,this.messageComp=new E,this.messageComp.className="".concat(H,"_message"),this.messageComp.automationId=Q.dialog_message,this.appendChildren(this.iconComp,this.titleComp,this.messageComp)}}]),n}(),z=function(e){function n(e,i){var o;return t(this,n),(o=u(this,s(n).call(this,e,i))).handleClick=o.handleClick.bind(c(o)),o.dialogContent=new K,o.setContent(o.dialogContent),o}return a(n,U),i(n,[{key:"addLeftButton",value:function(e){e.onClick(this.handleClick),_(s(n.prototype),"addLeftButton",this).call(this,e)}},{key:"addRightButton",value:function(e){e.onClick(this.handleClick),_(s(n.prototype),"addRightButton",this).call(this,e)}},{key:"setDialogTitle",value:function(e){this.dialogContent.setDialogTitle(e)}},{key:"setDialogMessage",value:function(e){this.dialogContent.setDialogMessage(e)}},{key:"setDialogIconClass",value:function(e){this.dialogContent.setDialogIconClass(e)}},{key:"onSelect",value:function(e){this.onSelectCB=e}},{key:"handleClick",value:function(e){this.onSelectCB(e.value)}}]),n}(),W={ts_gen_back:"ts_gen_back",ts_gen_skip:"ts_gen_skip",ts_gen_continue:"ts_gen_continue",ts_gen_cancel:"ts_gen_cancel",ts_gen_close:"ts_gen_close",ts_gen_ok:"ts_gen_ok",ts_gen_default:"ts_gen_default",ts_gen_restart:"ts_gen_restart",ts_gen_expired:"ts_gen_expired",ts_gen_cancel_authentication:"ts_gen_cancel_authentication",ts_gen_change_authenticator:"ts_gen_change_authenticator",ts_gen_select_authenticator:"ts_gen_select_authenticator",ts_gen_retry_authenticator:"ts_gen_retry_authenticator",ts_gen_dismiss:"ts_gen_dismiss",ts_authenticator_device_biometrics:"ts_authenticator_device_biometrics",ts_authenticator_password:"ts_authenticator_password",ts_authenticator_pin:"ts_authenticator_pin",ts_authenticator_pattern:"ts_authenticator_pattern",ts_authenticator_otp:"ts_authenticator_otp",ts_authenticator_fingerprint:"ts_authenticator_fingerprint",ts_authenticator_question:"ts_authenticator_question",ts_authenticator_face_id:"ts_authenticator_face_id",ts_authenticator_touch_id:"ts_authenticator_touch_id",ts_authenticator_totp:"ts_authenticator_totp",ts_authenticator_pattern_centralized:"ts_authenticator_pattern_centralized",ts_authenticator_pin_centralized:"ts_authenticator_pin_centralized",ts_authenticator_voice_server:"ts_authenticator_voice_server",ts_authenticator_fido2:"ts_authenticator_fido2",ts_authenticator_mobile_approve:"ts_authenticator_mobile_approve",ts_authenticator_face_server:"ts_authenticator_face_server",ts_authenticator_fido_fidopin:"ts_authenticator_fido_fidopin",ts_authenticator_fido_fidoface:"ts_authenticator_fido_fidoface",ts_authenticator_fido_fidofp:"ts_authenticator_fido_fidofp",ts_authenticator_device_biometrics_description:"ts_authenticator_device_biometrics_description",ts_authenticator_password_description:"ts_authenticator_password_description",ts_authenticator_pin_description:"ts_authenticator_pin_description",ts_authenticator_pin_centralized_description:"ts_authenticator_pin_centralized_description",ts_authenticator_pattern_description:"ts_authenticator_pattern_description",ts_authenticator_pattern_centralized_description:"ts_authenticator_pattern_centralized_description",ts_authenticator_otp_description:"ts_authenticator_otp_description",ts_authenticator_voice_description:"ts_authenticator_voice_description",ts_authenticator_voice_server_description:"ts_authenticator_voice_server_description",ts_authenticator_questions_description:"ts_authenticator_questions_description",ts_authenticator_face_description:"ts_authenticator_face_description",ts_authenticator_fingerprint_description:"ts_authenticator_fingerprint_description",ts_authenticator_face_id_description:"ts_authenticator_face_id_description",ts_authenticator_touch_id_description:"ts_authenticator_touch_id_description",ts_authenticator_totp_description:"ts_authenticator_totp_description",ts_authenticator_mobile_approve_description:"ts_authenticator_mobile_approve_description",ts_authenticator_fido2_description:"ts_authenticator_fido2_description",ts_authenticator_password_title_auth:"ts_authenticator_password_title_auth",ts_authenticator_password_title_reg:"ts_authenticator_password_title_reg",ts_authenticator_password_intro_auth:"ts_authenticator_password_intro_auth",ts_authenticator_password_intro_reg:"ts_authenticator_password_intro_reg",ts_authenticator_password_field_hint:"ts_authenticator_password_field_hint",ts_authenticator_password_reg_field_hint:"ts_authenticator_password_reg_field_hint",ts_authenticator_password_cta_positive:"ts_authenticator_password_cta_positive",ts_authenticator_password_error_too_short:"ts_authenticator_password_error_too_short",ts_authenticator_password_error_reg_no_match:"ts_authenticator_password_error_reg_no_match",ts_authenticator_password_error_reg_strength_validation_failed:"ts_authenticator_password_error_reg_strength_validation_failed",ts_authenticator_pin_title_auth:"ts_authenticator_pin_title_auth",ts_authenticator_pin_title_reg:"ts_authenticator_pin_title_reg",ts_authenticator_pin_intro_auth:"ts_authenticator_pin_intro_auth",ts_authenticator_pin_intro_reg:"ts_authenticator_pin_intro_reg",ts_authenticator_pin_intro_repeat:"ts_authenticator_pin_intro_repeat",ts_authenticator_pin_error_reg_no_match:"ts_authenticator_pin_error_reg_no_match",ts_authenticator_pin_code_length:"ts_authenticator_pin_code_length",ts_authenticator_otp_title_auth:"ts_authenticator_otp_title_auth",ts_authenticator_otp_qr_title:"ts_authenticator_otp_qr_title",ts_authenticator_otp_targets_intro:"ts_authenticator_otp_targets_intro",ts_authenticator_otp_sms_title:"ts_authenticator_otp_sms_title",ts_authenticator_otp_email_title:"ts_authenticator_otp_email_title",ts_authenticator_otp_voice_title:"ts_authenticator_otp_voice_title",ts_authenticator_otp_push_title:"ts_authenticator_otp_push_title",ts_authenticator_otp_unknown_title:"ts_authenticator_otp_unknown_title",ts_authenticator_otp_sms_sent:"ts_authenticator_otp_sms_sent",ts_authenticator_otp_email_sent:"ts_authenticator_otp_email_sent",ts_authenticator_otp_push_sent:"ts_authenticator_otp_push_sent",ts_authenticator_otp_voice_sent:"ts_authenticator_otp_voice_sent",ts_authenticator_otp_qr_sent:"ts_authenticator_otp_qr_sent",ts_authenticator_otp_external_numeric_sent:"ts_authenticator_otp_external_numeric_sent",ts_authenticator_otp_external_qr_sent:"ts_authenticator_otp_external_qr_sent",ts_authenticator_otp_resend:"ts_authenticator_otp_resend",ts_authenticator_otp_resend_message:"ts_authenticator_otp_resend_message",ts_authenticator_otp_resend_intro:"ts_authenticator_otp_resend_intro",ts_authenticator_otp_error_qr_permission:"ts_authenticator_otp_error_qr_permission",ts_authenticator_otp_error_code_expired:"ts_authenticator_otp_error_code_expired",ts_authenticator_otp_code_length:"ts_authenticator_otp_code_length",ts_authenticator_pattern_title_auth:"ts_authenticator_pattern_title_auth",ts_authenticator_pattern_title_reg:"ts_authenticator_pattern_title_reg",ts_authenticator_pattern_intro_auth:"ts_authenticator_pattern_intro_auth",ts_authenticator_pattern_intro_reg:"ts_authenticator_pattern_intro_reg",ts_authenticator_pattern_mismatch:"ts_authenticator_pattern_mismatch",ts_authenticator_pattern_error_min_points:"ts_authenticator_pattern_error_min_points",ts_authenticator_pattern_intro_repeat:"ts_authenticator_pattern_intro_repeat",ts_authenticator_pattern_cta_reset:"ts_authenticator_pattern_cta_reset",ts_authenticator_fingerprint_title_auth:"ts_authenticator_fingerprint_title_auth",ts_authenticator_fingerprint_title_reg:"ts_authenticator_fingerprint_title_reg",ts_authenticator_fingerprint_status_hint:"ts_authenticator_fingerprint_status_hint",ts_authenticator_faceid_title_auth:"ts_authenticator_faceid_title_auth",ts_authenticator_faceid_title_reg:"ts_authenticator_faceid_title_reg",ts_authenticator_touchid_title_reg:"ts_authenticator_touchid_title_reg",ts_authenticator_touchid_title_auth:"ts_authenticator_touchid_title_auth",ts_authenticator_device_biometrics_title_auth:"ts_authenticator_device_biometrics_title_auth",ts_authenticator_device_biometrics_title_reg:"ts_authenticator_device_biometrics_title_reg",ts_authenticator_device_biometrics_intro_auth:"ts_authenticator_device_biometrics_intro_auth",ts_authenticator_device_biometrics_intro_reg:"ts_authenticator_device_biometrics_intro_reg",ts_authenticator_device_biometrics_prompt:"ts_authenticator_device_biometrics_prompt",ts_authenticator_device_biometrics_cancel_cta:"ts_authenticator_device_biometrics_cancel_cta",ts_authenticator_questions_title_auth:"ts_authenticator_questions_title_auth",ts_authenticator_questions_title_reg:"ts_authenticator_questions_title_reg",ts_authenticator_questions_intro_auth:"ts_authenticator_questions_intro_auth",ts_authenticator_questions_intro_reg:"ts_authenticator_questions_intro_reg",ts_authenticator_questions_error_answer_range:"ts_authenticator_questions_error_answer_range",ts_authenticator_questions_left:"ts_authenticator_questions_left",ts_authenticator_questions_error_answer_empty:"ts_authenticator_questions_error_answer_empty",ts_authenticator_questions_remove_this_question_cta:"ts_authenticator_questions_remove_this_question_cta",ts_authenticator_questions_add_question_cta:"ts_authenticator_questions_add_question_cta",ts_authenticator_questions_reg_select_question:"ts_authenticator_questions_reg_select_question",ts_authenticator_questions_reg_select_question_cta:"ts_authenticator_questions_reg_select_question_cta",ts_authenticator_questions_reg_default_answer_placeholder:"ts_authenticator_questions_reg_default_answer_placeholder",ts_authenticator_voice_title_auth:"ts_authenticator_voice_title_auth",ts_authenticator_voice_title_reg:"ts_authenticator_voice_title_reg",ts_authenticator_voice_intro_auth:"ts_authenticator_voice_intro_auth",ts_authenticator_voice_intro_reg:"ts_authenticator_voice_intro_reg",ts_authenticator_voice_passphrase:"ts_authenticator_voice_passphrase",ts_authenticator_voice_passphrase_subtitle:"ts_authenticator_voice_passphrase_subtitle",ts_authenticator_voice_instructions:"ts_authenticator_voice_instructions",ts_authenticator_voice_record_start:"ts_authenticator_voice_record_start",ts_authenticator_voice_record_stop:"ts_authenticator_voice_record_stop",ts_authenticator_voice_request_audio_permission:"ts_authenticator_voice_request_audio_permission",ts_authenticator_voice_error_too_long:"ts_authenticator_voice_error_too_long",ts_authenticator_voice_error_too_short:"ts_authenticator_voice_error_too_short",ts_authenticator_voice_error_too_loud:"ts_authenticator_voice_error_too_loud",ts_authenticator_voice_error_too_weak:"ts_authenticator_voice_error_too_weak",ts_authenticator_voice_error_too_noisy:"ts_authenticator_voice_error_too_noisy",ts_authenticator_voice_error_invalid:"ts_authenticator_voice_error_invalid",ts_authenticator_face_title_auth:"ts_authenticator_face_title_auth",ts_authenticator_face_title_reg:"ts_authenticator_face_title_reg",ts_authenticator_face_intro_auth:"ts_authenticator_face_intro_auth",ts_authenticator_face_intro_reg:"ts_authenticator_face_intro_reg",ts_authenticator_face_error_invalid:"ts_authenticator_face_error_invalid",ts_authenticator_totp_title:"ts_authenticator_totp_title",ts_authenticator_totp_targets_intro:"ts_authenticator_totp_targets_intro",ts_authenticator_totp_input_intro:"ts_authenticator_totp_input_intro",ts_authenticator_totp_input_with_challenge_intro:"ts_authenticator_totp_input_with_challenge_intro",ts_authenticator_totp_input_with_qr_challenge_intro:"ts_authenticator_totp_input_with_qr_challenge_intro",ts_authenticator_totp_qrcode_challenge_step1_message:"ts_authenticator_totp_qrcode_challenge_step1_message",ts_authenticator_totp_qrcode_challenge_step2_message:"ts_authenticator_totp_qrcode_challenge_step2_message",ts_authenticator_totp_code_challenge_step1_message:"ts_authenticator_totp_code_challenge_step1_message",ts_authenticator_totp_code_challenge_step2_message:"ts_authenticator_totp_code_challenge_step2_message",ts_authenticator_totp_input_hint:"ts_authenticator_totp_input_hint",ts_authenticator_totp_targets_recently_used:"ts_authenticator_totp_targets_recently_used",ts_authenticator_totp_targets_current_device:"ts_authenticator_totp_targets_current_device",ts_authenticator_mobile_approve_title:"ts_authenticator_mobile_approve_title",ts_authenticator_mobile_approve_fetching_data:"ts_authenticator_mobile_approve_fetching_data",ts_authenticator_mobile_approve_send:"ts_authenticator_mobile_approve_send",ts_authenticator_mobile_approve_send_to_all:"ts_authenticator_mobile_approve_send_to_all",ts_authenticator_mobile_approve_targets_intro:"ts_authenticator_mobile_approve_targets_intro",ts_authenticator_mobile_approve_targets_recently_used:"ts_authenticator_mobile_approve_targets_recently_used",ts_authenticator_mobile_approve_targets_current_device:"ts_authenticator_mobile_approve_targets_current_device",ts_authenticator_mobile_approve_resend_message:"ts_authenticator_mobile_approve_resend_message",ts_authenticator_mobile_approve_resend_cta:"ts_authenticator_mobile_approve_resend_cta",ts_session_config_title:"ts_session_config_title",ts_session_config_intro:"ts_session_config_intro",ts_session_config_item_action_register:"ts_session_config_item_action_register",ts_session_config_item_action_unregister:"ts_session_config_item_action_unregister",ts_session_config_item_action_reregister:"ts_session_config_item_action_reregister",ts_session_config_item_action_set_as_default:"ts_session_config_item_action_set_as_default",ts_session_config_item_register_result:"ts_session_config_item_register_result",ts_session_config_item_reregister_result:"ts_session_config_item_reregister_result",ts_session_config_item_unregister_result:"ts_session_config_item_unregister_result",ts_session_config_item_default_result:"ts_session_config_item_default_result",ts_session_config_item_register_failed:"ts_session_config_item_register_failed",ts_session_config_item_reregister_failed:"ts_session_config_item_reregister_failed",ts_session_config_item_unregister_failed:"ts_session_config_item_unregister_failed",ts_session_config_item_default_failed:"ts_session_config_item_default_failed",ts_session_config_item_unregister_dialog_title:"ts_session_config_item_unregister_dialog_title",ts_session_config_item_unregister_dialog_message:"ts_session_config_item_unregister_dialog_message",ts_session_config_item_unregister_dialog_cta:"ts_session_config_item_unregister_dialog_cta",ts_session_config_error_dialog_title:"ts_session_config_error_dialog_title",ts_session_totp_title:"ts_session_totp_title",ts_session_totp_content:"ts_session_totp_content",ts_session_totp_unbound_title:"ts_session_totp_unbound_title",ts_session_totp_unbound_content:"ts_session_totp_unbound_content",ts_session_totp_unbound_code:"ts_session_totp_unbound_code",ts_session_totp_nottl_content:"ts_session_totp_nottl_content",ts_session_totp_provision_sa_title:"ts_session_totp_provision_sa_title",ts_session_totp_provision_password_title:"ts_session_totp_provision_password_title",ts_session_totp_provision_pattern_title:"ts_session_totp_provision_pattern_title",ts_session_totp_provision_pin_title:"ts_session_totp_provision_pin_title",ts_session_totp_generation_sa_title:"ts_session_totp_generation_sa_title",ts_session_totp_generation_password_title:"ts_session_totp_generation_password_title",ts_session_totp_generation_pattern_title:"ts_session_totp_generation_pattern_title",ts_session_totp_generation_pin_title:"ts_session_totp_generation_pin_title",ts_session_totp_generation_fingerprint_title:"ts_session_totp_generation_fingerprint_title",ts_session_totp_generation_device_biometrics_title:"ts_session_totp_generation_device_biometrics_title",ts_session_totp_challenge_title_list:"ts_session_totp_challenge_title_list",ts_session_totp_challenge_intro_list:"ts_session_totp_challenge_intro_list",ts_session_totp_challenge_title_textual:"ts_session_totp_challenge_title_textual",ts_session_totp_challenge_intro_textual:"ts_session_totp_challenge_intro_textual",ts_session_totp_challenge_title_qr:"ts_session_totp_challenge_title_qr",ts_session_totp_challenge_intro_qr:"ts_session_totp_challenge_intro_qr",ts_session_approval_approve:"ts_session_approval_approve",ts_session_approval_deny:"ts_session_approval_deny",ts_session_approval_completed_title:"ts_session_approval_completed_title",ts_session_approval_completed_subtitle:"ts_session_approval_completed_subtitle",ts_session_approval_completed_denied_subtitle:"ts_session_approval_completed_denied_subtitle",ts_session_approval_dialog_title:"ts_session_approval_dialog_title",ts_session_approval_dialog_message:"ts_session_approval_dialog_message",ts_session_approval_dialog_cta:"ts_session_approval_dialog_cta",ts_session_approval_approve_failed:"ts_session_approval_approve_failed",ts_session_approval_deny_failed:"ts_session_approval_deny_failed",ts_session_approval_approve_failed_title:"ts_session_approval_approve_failed_title",ts_session_approval_deny_failed_title:"ts_session_approval_deny_failed_title",ts_session_approval_approve_failed_cta:"ts_session_approval_approve_failed_cta",ts_session_approval_deny_failed_cta:"ts_session_approval_deny_failed_cta",ts_session_approval_username:"ts_session_approval_username",ts_session_approval_service:"ts_session_approval_service",ts_session_approval_description:"ts_session_approval_description",ts_session_approval_requested_device:"ts_session_approval_requested_device",ts_session_approval_expiry:"ts_session_approval_expiry",ts_session_approval_requested_location:"ts_session_approval_requested_location",ts_session_approval_request_expires_time:"ts_session_approval_request_expires_time",ts_session_approval_request_has_expired:"ts_session_approval_request_has_expired",ts_session_dm_title:"ts_session_dm_title",ts_session_dm_intro:"ts_session_dm_intro",ts_session_dm_section_current:"ts_session_dm_section_current",ts_session_dm_section_others:"ts_session_dm_section_others",ts_session_dm_last_used_date:"ts_session_dm_last_used_date",ts_session_dm_last_used_location:"ts_session_dm_last_used_location",ts_session_dm_details_title:"ts_session_dm_details_title",ts_session_dm_details_subtitle:"ts_session_dm_details_subtitle",ts_session_dm_details_current_device:"ts_session_dm_details_current_device",ts_session_dm_details_rename_action:"ts_session_dm_details_rename_action",ts_session_dm_details_remove_subtitle:"ts_session_dm_details_remove_subtitle",ts_session_dm_details_remove_action:"ts_session_dm_details_remove_action",ts_session_dm_details_no_other_devices_available:"ts_session_dm_details_no_other_devices_available",ts_session_dm_item_action_dialog_remove_title:"ts_session_dm_item_action_dialog_remove_title",ts_session_dm_item_action_dialog_remove_message:"ts_session_dm_item_action_dialog_remove_message",ts_session_dm_item_action_dialog_remove_cta:"ts_session_dm_item_action_dialog_remove_cta",ts_session_dm_item_action_dialog_rename_title:"ts_session_dm_item_action_dialog_rename_title",ts_session_dm_item_action_dialog_rename_cta:"ts_session_dm_item_action_dialog_rename_cta",ts_session_dm_details_rename_input_hint:"ts_session_dm_details_rename_input_hint",ts_session_dm_item_action_rename_result_positive:"ts_session_dm_item_action_rename_result_positive",ts_session_dm_item_action_rename_result_negative:"ts_session_dm_item_action_rename_result_negative",ts_session_dm_item_action_remove_result_positive:"ts_session_dm_item_action_remove_result_positive",ts_session_dm_item_action_remove_result_negative:"ts_session_dm_item_action_remove_result_negative",ts_session_dm_error_dialog_title:"ts_session_dm_error_dialog_title",ts_session_promotion_title:"ts_session_promotion_title",ts_session_promotion_intro:"ts_session_promotion_intro",ts_session_promotion_skip:"ts_session_promotion_skip",ts_session_promotion_abort:"ts_session_promotion_abort",ts_promise_sa_title:"ts_promise_sa_title",ts_promise_sa_content:"ts_promise_sa_content",ts_promise_co_title_auth:"ts_promise_co_title_auth",ts_promise_co_title_reg:"ts_promise_co_title_reg",ts_promise_fallback_title:"ts_promise_fallback_title",ts_promise_fallback_content:"ts_promise_fallback_content",ts_promise_fallback_action_fallback:"ts_promise_fallback_action_fallback",ts_promise_fallback_action_menu:"ts_promise_fallback_action_menu",ts_promise_fallback_action_retry:"ts_promise_fallback_action_retry",ts_promise_fallback_action_cancel:"ts_promise_fallback_action_cancel",ts_promise_co_content:"ts_promise_co_content",ts_promise_co_abort:"ts_promise_co_abort",ts_promise_co_select:"ts_promise_co_select",ts_promise_co_change:"ts_promise_co_change",ts_promise_co_retry:"ts_promise_co_retry",ts_promise_error_default_title_auth:"ts_promise_error_default_title_auth",ts_promise_error_default_title_reg:"ts_promise_error_default_title_reg",ts_promise_error_default_content_auth:"ts_promise_error_default_content_auth",ts_promise_error_default_content_reg:"ts_promise_error_default_content_reg",ts_promise_error_lock_title:"ts_promise_error_lock_title",ts_promise_error_lock_content:"ts_promise_error_lock_content",ts_promise_invalid_authenticator_title:"ts_promise_invalid_authenticator_title",ts_promise_invalid_authenticator_content:"ts_promise_invalid_authenticator_content",ts_promise_invalid_authenticator_cta:"ts_promise_invalid_authenticator_cta",ts_promise_rejection_policy_title:"ts_promise_rejection_policy_title",ts_promise_rejection_policy_content:"ts_promise_rejection_policy_content",ts_promise_rejection_policy_cta:"ts_promise_rejection_policy_cta",ts_promise_rejection_locked_user_title:"ts_promise_rejection_locked_user_title",ts_promise_rejection_locked_user_content:"ts_promise_rejection_locked_user_content",ts_promise_rejection_locked_user_cta:"ts_promise_rejection_locked_user_cta",ts_promise_rejection_locked_device_title:"ts_promise_rejection_locked_device_title",ts_promise_rejection_locked_device_content:"ts_promise_rejection_locked_device_content",ts_promise_rejection_locked_device_cta:"ts_promise_rejection_locked_device_cta",ts_promise_rejection_locked_application_title:"ts_promise_rejection_locked_application_title",ts_promise_rejection_locked_application_content:"ts_promise_rejection_locked_application_content",ts_promise_rejection_locked_application_cta:"ts_promise_rejection_locked_application_cta",ts_promise_rejection_approval_expired_title:"ts_promise_rejection_approval_expired_title",ts_promise_rejection_approval_expired_content:"ts_promise_rejection_approval_expired_content",ts_promise_rejection_approval_expired_cta:"ts_promise_rejection_approval_expired_cta",ts_session_authenticator_expired_title:"ts_session_authenticator_expired_title",ts_session_authenticator_expired_content:"ts_session_authenticator_expired_content",ts_promise_rejection_feature_not_supported_title:"ts_promise_rejection_feature_not_supported_title",ts_promise_rejection_feature_not_supported_content:"ts_promise_rejection_feature_not_supported_content",ts_promise_rejection_feature_not_supported_cta:"ts_promise_rejection_feature_not_supported_cta",ts_promise_rejection_cannot_consume_ticket_title:"ts_promise_rejection_cannot_consume_ticket_title",ts_promise_rejection_cannot_consume_ticket_content:"ts_promise_rejection_cannot_consume_ticket_content",ts_promise_rejection_cannot_consume_ticket_cta:"ts_promise_rejection_cannot_consume_ticket_cta",ts_promise_rejection_username_already_exists_title:"ts_promise_rejection_username_already_exists_title",ts_promise_rejection_username_already_exists_content:"ts_promise_rejection_username_already_exists_content",ts_promise_rejection_username_already_exists_cta:"ts_promise_rejection_username_already_exists_cta",ts_promise_rejection_authenticator_fatal_error_title:"ts_promise_rejection_authenticator_fatal_error_title",ts_promise_rejection_authenticator_fatal_error_content:"ts_promise_rejection_authenticator_fatal_error_content",ts_promise_rejection_authenticator_fatal_error_cta:"ts_promise_rejection_authenticator_fatal_error_cta",ts_accessibility_totp_reset:"ts_accessibility_totp_reset",ts_accessibility_totp_reader:"ts_accessibility_totp_reader",ts_accessibility_totp_no_ttl:"ts_accessibility_totp_no_ttl",ts_accessibility_configuration_cta_register:"ts_accessibility_configuration_cta_register",ts_accessibility_configuration_cta_unregister:"ts_accessibility_configuration_cta_unregister",ts_accessibility_configuration_cta_reregister:"ts_accessibility_configuration_cta_reregister",ts_accessibility_input_reader:"ts_accessibility_input_reader",ts_accessibility_input_pin_cell:"ts_accessibility_input_pin_cell",ts_accessibility_input_reset:"ts_accessibility_input_reset",ts_accessibility_authenticator_list_locked:"ts_accessibility_authenticator_list_locked",ts_accessibility_authenticator_list_disabled:"ts_accessibility_authenticator_list_disabled",ts_accessibility_authenticator_list_enabled:"ts_accessibility_authenticator_list_enabled",ts_accessibility_authenticator_list_default:"ts_accessibility_authenticator_list_default",ts_accessibility_hide_input_field:"ts_accessibility_hide_input_field",ts_accessibility_show_input_field:"ts_accessibility_show_input_field",ts_accessibility_back:"ts_accessibility_back",ts_accessibility_cancel:"ts_accessibility_cancel",ts_accessibility_password_enter_password:"ts_accessibility_password_enter_password",ts_accessibility_password_enter_password_again:"ts_accessibility_password_enter_password_again",ts_accessibility_password_error_reg_no_match:"ts_accessibility_password_error_reg_no_match",ts_plugin_dynamic_form_mandatory:"ts_plugin_dynamic_form_mandatory",ts_plugin_dynamic_form_error_mandatory:"ts_plugin_dynamic_form_error_mandatory",ts_plugin_dynamic_form_error_invalid:"ts_plugin_dynamic_form_error_invalid",ts_plugin_dynamic_form_error_too_long:"ts_plugin_dynamic_form_error_too_long",ts_plugin_dynamic_form_error_not_phone:"ts_plugin_dynamic_form_error_not_phone",ts_plugin_dynamic_form_error_not_email:"ts_plugin_dynamic_form_error_not_email",ts_plugin_dynamic_form_error_else:"ts_plugin_dynamic_form_error_else",ts_plugin_dynamic_form_table_title:"ts_plugin_dynamic_form_table_title",ts_plugin_dynamic_form_table_title_item:"ts_plugin_dynamic_form_table_title_item",ts_plugin_dynamic_form_error_general:"ts_plugin_dynamic_form_error_general",ts_plugin_dynamic_form_item_cta_positive:"ts_plugin_dynamic_form_item_cta_positive",ts_plugin_dynamic_form_item_cta_cancel:"ts_plugin_dynamic_form_item_cta_cancel",ts_plugin_dynamic_form_item_cta_select_all:"ts_plugin_dynamic_form_item_cta_select_all",ts_plugin_dynamic_form_item_cta_clear_all:"ts_plugin_dynamic_form_item_cta_clear_all",ts_plugin_dynamic_form_item_phone_prefix:"ts_plugin_dynamic_form_item_phone_prefix",ts_plugin_dynamic_form_item_phone_prefix_dialog_title:"ts_plugin_dynamic_form_item_phone_prefix_dialog_title",ts_session_scan_qr_title:"ts_session_scan_qr_title",ts_session_scan_qr_hint:"ts_session_scan_qr_hint",ts_gen_recovery:"ts_gen_recovery"},G=0,Z={generate:function(){return"".concat("xmui-id-").concat((new Date).getTime().toString(),"-").concat(++G)}},Y="xmui-list-item",$=function(e){function n(e,i){var o,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t(this,n),(o=u(this,s(n).call(this))).key=e,o.id=Z.generate(),o.className=Y,a&&o.addClass("".concat(Y,"--section-start"));var r=new P;return r.className="".concat(Y,"_hover-indicator"),o.contentContainer=new P,o.contentContainer.className="".concat(Y,"_content-container"),o.appendChildren(r,o.contentContainer),i&&o.addCheckbox(),o.role="option",o}return a(n,P),i(n,[{key:"setContent",value:function(e){this.contentContainer.setContent(e)}},{key:"addCheckbox",value:function(){var e=new P;e.className="".concat(Y,"_checkbox"),this.appendChild(e)}}]),n}();!function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Shift=16]="Shift",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Zero=48]="Zero",e[e.One=49]="One",e[e.Two=50]="Two",e[e.Three=51]="Three",e[e.Four=52]="Four",e[e.Five=53]="Five",e[e.Six=54]="Six",e[e.Seven=55]="Seven",e[e.Eight=56]="Eight",e[e.Nine=57]="Nine"}(V||(V={}));var J,X=function(){function e(n){t(this,e),this.container=n,this.container.ariaActiveDescendant="",this.container.onKeydown(this.handleNavigation.bind(this))}return i(e,[{key:"onSelect",value:function(e){this.selectCB=e}},{key:"activateItem",value:function(e){e&&e!==this.activeItem&&(this.deactivateItem(),this.activeItem=e,e.active=!0,this.container.ariaActiveDescendant=e.id,this.scrollToItem(e))}},{key:"deactivateItem",value:function(e){var t=null==e||e===this.activeItem?this.activeItem:null;t&&(this.activeItem=null,t.active=!1,this.container.ariaActiveDescendant="")}},{key:"handleNavigation",value:function(e,t){switch(t.keyCode){case V.DownArrow:this.handleDownArrow(),t.preventDefault(),t.stopPropagation();break;case V.UpArrow:this.handleUpArrow(),t.preventDefault(),t.stopPropagation();break;case V.Enter:case V.Space:this.handleEnter(),t.stopPropagation()}}},{key:"handleDownArrow",value:function(){var e=this.container.getNextChild(this.activeItem);this.activateItem(e)}},{key:"handleUpArrow",value:function(){var e=this.container.getPrevChild(this.activeItem);this.activateItem(e)}},{key:"handleEnter",value:function(){this.activeItem&&this.selectCB&&this.selectCB(this.activeItem)}},{key:"scrollToItem",value:function(e){var t=this.container.htmlElement,n=e.htmlElement;if(t.scrollHeight>t.clientHeight){var i=t.clientHeight+t.scrollTop,o=n.offsetTop+n.offsetHeight;o>i?t.scrollTop=o-t.clientHeight:n.offsetTop<t.scrollTop&&(t.scrollTop=n.offsetTop)}}}]),e}();!function(e){e[e.None=0]="None",e[e.Single=1]="Single",e[e.SingleMouseup=2]="SingleMouseup",e[e.Multiple=3]="Multiple"}(J||(J={}));var ee,te,ne,ie,oe=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J.Single,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t(this,n),(e=u(this,s(n).call(this))).listSelectionMode=i,e.activateOnHover=o,e.selectionChangedCB=[],e.itemClickedCB=[],e.selectedItems=[],e.ariaMultiselectable=i===J.Multiple,e.handleItemClicked=e.handleItemClicked.bind(c(e)),e.handleMouseEvents=e.handleMouseEvents.bind(c(e)),e.handleItemMouseenter=e.handleItemMouseenter.bind(c(e)),e.handleItemMouseleave=e.handleItemMouseleave.bind(c(e)),e.keyboardNav=new X(c(e)),e.keyboardNav.onSelect((function(t){t&&!t.disabled&&e.handleSelectionChanged(t)})),e.onMouseup(e.handleMouseEvents),e.onMousedown(e.handleMouseEvents),e.onClick(e.handleMouseEvents),e}return a(n,P),i(n,[{key:"onSelectionChanged",value:function(e){this.selectionChangedCB.push(e)}},{key:"onItemClicked",value:function(e){this.itemClickedCB.push(e)}},{key:"clearSelection",value:function(){this.selectedItems.forEach((function(e){e.selected=!1})),this.selectedItems=[]}},{key:"clearActive",value:function(){this.deactivateItem()}},{key:"activateItem",value:function(e){this.keyboardNav.activateItem(e)}},{key:"deactivateItem",value:function(e){this.keyboardNav.deactivateItem(e)}},{key:"addItem",value:function(e){this.selectionMode===J.SingleMouseup?e.onMouseup(this.handleItemClicked):e.onClick(this.handleItemClicked),this.activateOnHover&&this.activateItemOnHover(e),this.appendChild(e)}},{key:"activateItemOnHover",value:function(e){e.onMouseenter(this.handleItemMouseenter),e.onMouseleave(this.handleItemMouseenter)}},{key:"handleItemMouseenter",value:function(e){this.activateItem(e)}},{key:"handleItemMouseleave",value:function(e){this.deactivateItem(e)}},{key:"addToSelection",value:function(e){e.selected=!0,-1===this.selectedItems.indexOf(e)&&(this.selectedItems.push(e),this.notifySelectionChanged())}},{key:"removeFromSelection",value:function(e){e.selected=!1;var t=this.selectedItems.indexOf(e);t>-1&&(this.selectedItems.splice(t,1),this.notifySelectionChanged())}},{key:"handleMouseEvents",value:function(){event.stopPropagation()}},{key:"handleItemClicked",value:function(e){!e.disabled&&this.handleSelectionChanged(e),this.activateItem(e)}},{key:"handleSelectionChanged",value:function(e){switch(this.listSelectionMode){case J.Multiple:this.handleMultipleSelectionChanged(e);break;case J.Single:case J.SingleMouseup:this.handleSingleSelectionChanged(e);break;case J.None:this.itemClickedCB.forEach((function(t){t(e.key)}))}}},{key:"handleMultipleSelectionChanged",value:function(e){e.selected?this.removeFromSelection(e):this.addToSelection(e)}},{key:"handleSingleSelectionChanged",value:function(e){e.selected=!e.selected,this.clearSelection(),this.addToSelection(e)}},{key:"notifySelectionChanged",value:function(){var e=this.selectedItems.map((function(e){return e.key}));this.selectionChangedCB.forEach((function(t){t(e)}))}},{key:"selectionMode",get:function(){return this.listSelectionMode}}]),n}(),ae="xmui-list",se=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J.Single;return t(this,n),(e=u(this,s(n).call(this,i))).shouldStartSection=!1,e.className=ae,e.role="listbox",e.tabindex=0,e}return a(n,oe),i(n,[{key:"addListItem",value:function(e,t,n){var i=new $(e,this.selectionMode===J.Multiple,this.shouldStartSection);i.setContent(n),i.disabled=t,i.selected=!1,this.shouldStartSection=!1,this.addItem(i)}},{key:"startSection",value:function(){this.shouldStartSection=!0}}]),n}(),re="xmui-list-item-content",ce=function(e){function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(t(this,n),(i=u(this,s(n).call(this))).className=re,a){var _=new P;_.className="".concat(re,"_icon ").concat(a),i.appendChild(_)}var h=new P;if(h.className="".concat(re,"_text-container"),e){var d=new E;d.setText(e),d.className="".concat(re,"_title");var p=new P;p.className="".concat(re,"_title-container"),p.appendChild(d),l&&l.forEach((function(e){var t=new P;t.className="".concat(re,"_icon-state ").concat(e),t.automationId=Q.list_item_icon_state,p.appendChild(t)})),c&&c.forEach((function(e){p.appendChild(e)})),h.appendChild(p)}if(o){var m=new E;m.setText(o),m.className="".concat(re,"_info"),h.appendChild(m)}if(i.appendChild(h),r){var g=new P;g.className="".concat(re,"_space"),i.appendChild(g),i.appendChild(r)}return i}return a(n,P),n}(),ue=function(){function e(){t(this,e)}return i(e,null,[{key:"getAuthenticatorIcon",value:function(e){if(!ee){var t,n=com.ts.mobile.sdk.AuthenticatorType;o(t={},n.Password,x.PasswordAuth),o(t,n.Pincode,x.PincodeAuth),o(t,n.Pattern,x.PatternAuth),o(t,n.Otp,x.OtpAuth),o(t,n.Voice,x.VoiceAuth),o(t,n.Questions,x.QuestionsAuth),o(t,n.Totp,x.TotpAuth),o(t,n.MobileApprove,x.MobileApproveAuth),o(t,n.Generic,x.GenericAuth),ee=t}return ee[e]}},{key:"getChannelIcon",value:function(e){if(!te){var t,n=com.ts.mobile.sdk.OtpChannel;o(t={},n.Sms,x.SmsChannel),o(t,n.Email,x.EmailChannel),o(t,n.PushNotification,x.PushChannel),o(t,n.VoiceCall,x.VoiceChannel),te=t}return te[e]}}]),e}();!function(e){e.Button="button",e.Submit="submit"}(ne||(ne={})),function(e){e.Normal="normal",e.Alert="alert",e.Recovery="recovery"}(ie||(ie={}));var le,_e="".concat("xmui-button","--"),he=function(e){function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie.Normal;t(this,n),(i=u(this,s(n).call(this))).buttonMode=o,i.automationId=e;var a=_e+o;return i.addClass(a),i}return a(n,I),i(n,[{key:"buildElement",value:function(){return S('<button class="'.concat("xmui-button",'"></button>'))}},{key:"label",set:function(e){this.element.text(e)},get:function(){return this.htmlElement.innerText}},{key:"form",set:function(e){this.attr={form:e}}},{key:"type",set:function(e){this.attr={type:e}}},{key:"disabled",set:function(e){d(s(n.prototype),"disabled",e,this,!0),this.htmlElement.disabled=e}}]),n}(),de=function(e){function n(e,i,o){var a,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t(this,n),(a=u(this,s(n).call(this,e,i))).actionContext=o,a.uiContext=o.getUiContext(),r&&(a._cancelButton=new he(Q.button_cancel),a._cancelButton.label=a.uiContext.getString(W.ts_gen_cancel),a._cancelButton.onClick((function(){return a.handleCancelButtonClicked()})),a.addLeftButton(a.cancelButton)),a.addEscapeOptionButtons(o.getEscapeOptions()),a}return a(n,U),i(n,[{key:"addEscapeOptionButtons",value:function(e){var t=this;e.filter((function(e){return e.getPresentation()===com.ts.mobile.sdk.ActionEscapeOptionPresentation.Action})).forEach((function(e){var n=new he(Q.button_escape);n.label=e.getDisplayName(),n.onClick((function(){return t.handleEscapeButtonClicked(e)})),t.addLeftButton(n)}))}},{key:"handleEscapeButtonClicked",value:function(e){this.onEscapeCB&&this.onEscapeCB(e)}},{key:"onCancel",value:function(e){this.onCancelCB=e}},{key:"onEscape",value:function(e){this.onEscapeCB=e}},{key:"handleCancelButtonClicked",value:function(){var e=this.actionContext.getEscapeOptions().filter((function(e){return e.getPresentation()===com.ts.mobile.sdk.ActionEscapeOptionPresentation.Cancel}));e.length?this.onEscapeCB&&this.onEscapeCB(e[0]):this.onCancelCB&&this.onCancelCB()}},{key:"cancelButton",get:function(){return this._cancelButton}}]),n}(),pe="xmui-select-authenticator",me=function(e){function n(e){var i;t(this,n);var o=(i=u(this,s(n).call(this,Q.page_select_authenticator,pe,e))).createContent();return i.setContent(o),i}return a(n,de),i(n,[{key:"createContent",value:function(){var e=this;return this.authList=new se,this.authList.onSelectionChanged((function(t){t.length&&e.onSubmitCB&&e.onSubmitCB(t[0])})),this.authList.focus(),this.authList}},{key:"addAuthenticator",value:function(e,t,n,i){var o=ue.getAuthenticatorIcon(n)||ue.getAuthenticatorIcon(com.ts.mobile.sdk.AuthenticatorType.Generic),a=new ce(t,null,o,null,null,i?[x.LockedState]:null);this.authList.addListItem(e,i,a)}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}}]),n}();!function(e){e[e.Resume=-1]="Resume",e[e.Continue=0]="Continue",e[e.Cancel=1]="Cancel"}(le||(le={}));var ge,ve,fe,ye,Ce=function(){function e(){t(this,e)}return i(e,null,[{key:"createContinueConfirmationInput",value:function(){return com.ts.mobile.sdk.ConfirmationInput.create(0)}},{key:"createCancelConfirmationInput",value:function(){return com.ts.mobile.sdk.ConfirmationInput.create(1)}},{key:"createResumeConfirmationInput",value:function(){return com.ts.mobile.sdk.ConfirmationInput.create(-1)}},{key:"createCancelAuthenticatorRequest",value:function(){var e=com.ts.mobile.sdk.ControlRequest.create(com.ts.mobile.sdk.ControlRequestType.CancelAuthenticator);return com.ts.mobile.sdk.InputOrControlResponse.createControlResponse(e)}},{key:"isContinueConfirmationInput",value:function(e){return 0===e}},{key:"isResumeConfirmationInput",value:function(e){return-1===e}},{key:"createTargetsSelectionResponse",value:function(e){var t=com.ts.mobile.sdk.TargetBasedAuthenticatorInput.createTargetsSelectionRequest(e);return com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(t)}},{key:"createAbortControlResponse",value:function(){var e=com.ts.mobile.sdk.ControlRequest.create(com.ts.mobile.sdk.ControlRequestType.AbortAuthentication);return com.ts.mobile.sdk.InputOrControlResponse.createControlResponse(e)}},{key:"getDeviceNameFromDeviceDetails",value:function(t){var n=t.getAlias();return e.getDeviceName(n,t)}},{key:"getLastAccessedFromDeviceDetails",value:function(e,t){var n=new Date(t.getLastAccessed()).toLocaleString();return e.formatString(W.ts_authenticator_mobile_approve_targets_recently_used,[n])}},{key:"getDeviceName",value:function(e,t){var n=t.getModel(),i=t.getOsType(),o=t.getOsVersion();return e||"".concat(n," ").concat(i," ").concat(o)}}]),e}(),ke="xmui-information-dialog-page",be=function(e){function n(e,i){var o;t(this,n),(o=u(this,s(n).call(this,Q.dialog_information,ke))).automationId=Q.dialog_information;var a=new he(Q.button_continue);return a.label=i||e.getString(W.ts_authenticator_password_cta_positive),a.value=!0,o.addRightButton(a),a.focus(),o}return a(n,z),n}(),we=function(){function e(){t(this,e)}return i(e,null,[{key:"getAuthenticatorNameKey",value:function(e){return"".concat("ts_authenticator_").concat(e)}},{key:"getAuthenticatorDescriptionKey",value:function(e){return"question"==e&&(e="questions"),"".concat("ts_authenticator_").concat(e,"_description")}}]),e}(),Se=new(function(){function e(){t(this,e),this._isLogEnabled=!0}return i(e,[{key:"init",value:function(){this.lastPage=null,this.isBusy=!1,this.isLogEnabled=!0}},{key:"lastPage",set:function(e){this._lastPage=e},get:function(){return this._lastPage}},{key:"isBusy",set:function(e){this._isBusy=e},get:function(){return this._isBusy}},{key:"isLogEnabled",set:function(e){this._isLogEnabled=e},get:function(){return this._isLogEnabled}}]),e}()),xe=function(e){function n(){var e;t(this,n),(e=u(this,s(n).call(this))).className="xmui-busy-overlay";var i=new P;return i.className="xmui-busy-overlay_icon",e.appendChild(i),e}return a(n,P),n}(),Ie=function(){function e(){t(this,e)}return i(e,null,[{key:"getContainer",value:function(e){var t;e&&e.uiContainer&&(t=S(e.uiContainer)),null!=t&&0!==t.length||0===(t=S("#transmitContainer")).length&&(t=S('<div                                             id="transmitContainer"                                             style="position: relative; width: 100%; height: 100%">'),S(document.documentElement).append(t));var n=t.find("#xmui-main-container");return 0===n.length&&(n=S('<div                                      id="xmui-main-container"                                      style="position:relative; width:100%; height:100%">'),t.content(n)),n}},{key:"clearContainer",value:function(t){Se.lastPage=null,e.getContainer(t).empty()}},{key:"getUsernameFromClientContext",value:function(e){return e&&e.username}},{key:"activityStarted",value:function(t){if(Se.lastPage)Se.lastPage.busy=!0;else{e.clearContainer(t);var n=e.getContainer(t);(new xe).appendInto(n)}}},{key:"activityEnded",value:function(t){Se.lastPage?Se.lastPage.busy=!1:e.clearContainer(t)}},{key:"setLogEnabled",value:function(e){Se.isLogEnabled=e}},{key:"log",value:function(e){Se.isLogEnabled&&console.log(e)}},{key:"renderPage",value:function(t,n){this.clearContainer(n),t.appendInto(e.getContainer(n)),Se.lastPage=t}},{key:"presentUI",value:function(t,n){this.clearContainer(n),e.getContainer(n).append(t),Se.lastPage=null}},{key:"renderModal",value:function(t,n){t.appendInto(e.getContainer(n))}},{key:"getControlActionButtonsInfo",value:function(){var e;ge||(o(e={},com.ts.mobile.sdk.ControlRequestType.ChangeMethod,{automationId:Q.button_change_method,label:W.ts_promise_co_change,positionLeft:!1}),o(e,com.ts.mobile.sdk.ControlRequestType.AbortAuthentication,{automationId:Q.button_abort,label:W.ts_promise_co_abort,positionLeft:!0,isDefault:!0}),o(e,com.ts.mobile.sdk.ControlRequestType.RetryAuthenticator,{automationId:Q.button_retry,label:W.ts_promise_co_retry,positionLeft:!1}),o(e,com.ts.mobile.sdk.ControlRequestType.SelectMethod,{automationId:Q.button_select_method,label:W.ts_promise_co_select,positionLeft:!1}),o(e,com.ts.mobile.sdk.ControlRequestType.CancelAuthenticator,{automationId:Q.button_cancel,label:W.ts_gen_cancel,positionLeft:!1,isDefault:!0}),ge=e);return ge}},{key:"getRecoveryActionButtonsInfo",value:function(){var e;ve||(o(e={},com.ts.mobile.sdk.AuthenticationErrorRecovery.ChangeAuthenticator,{automationId:Q.button_change_method,label:W.ts_promise_co_change,positionLeft:!1}),o(e,com.ts.mobile.sdk.AuthenticationErrorRecovery.Fail,{automationId:Q.button_abort,label:W.ts_promise_co_abort,positionLeft:!0,isDefault:!0}),o(e,com.ts.mobile.sdk.AuthenticationErrorRecovery.RetryAuthenticator,{automationId:Q.button_retry,label:W.ts_promise_co_retry,positionLeft:!1}),o(e,com.ts.mobile.sdk.AuthenticationErrorRecovery.SelectAuthenticator,{automationId:Q.button_select_method,label:W.ts_promise_co_select,positionLeft:!1}),ve=e);return ve}},{key:"getFallbackActionButtonsInfo",value:function(){var e;fe||(o(e={},com.ts.mobile.sdk.AuthenticatorFallbackAction.Fallback,{automationId:Q.button_change_method,label:W.ts_promise_co_change,positionLeft:!1}),o(e,com.ts.mobile.sdk.AuthenticatorFallbackAction.Cancel,{automationId:Q.button_abort,label:W.ts_promise_co_abort,positionLeft:!0,isDefault:!0}),o(e,com.ts.mobile.sdk.AuthenticatorFallbackAction.Retry,{automationId:Q.button_retry,label:W.ts_promise_co_retry,positionLeft:!1}),o(e,com.ts.mobile.sdk.AuthenticatorFallbackAction.AuthMenu,{automationId:Q.button_select_method,label:W.ts_promise_co_select,positionLeft:!1}),fe=e);return fe}},{key:"buildDialogButtons",value:function(e,t,n,i){n.forEach((function(n){var o=i[n];if(o){var a=new he(o.automationId);a.value=n.toString(),a.label=t.getString(o.label),o.positionLeft?e.addLeftButton(a):e.addRightButton(a)}}))}},{key:"failureDataToPolicyRejectionDialogParams",value:function(e,t){var n,i=null,o=t.getUiContext();if(e&&e.reason){var a=e.reason;switch(a.type){case"policy":i={title:W.ts_promise_rejection_policy_title,text:W.ts_promise_rejection_policy_content,buttonText:W.ts_promise_rejection_policy_cta};break;case"approval_expired":i={title:W.ts_promise_rejection_approval_expired_title,text:W.ts_promise_rejection_approval_expired_content,buttonText:W.ts_promise_rejection_approval_expired_cta};break;case"feature_not_supported":i={title:W.ts_promise_rejection_feature_not_supported_title,text:W.ts_promise_rejection_feature_not_supported_content,buttonText:W.ts_promise_rejection_feature_not_supported_cta};break;case"cannot_consume_ticket":i={title:W.ts_promise_rejection_cannot_consume_ticket_title,text:W.ts_promise_rejection_cannot_consume_ticket_content,buttonText:W.ts_promise_rejection_cannot_consume_ticket_cta};break;case"username_already_exists":n=[a.data&&a.data.username],i={title:W.ts_promise_rejection_username_already_exists_title,text:W.ts_promise_rejection_username_already_exists_content,buttonText:W.ts_promise_rejection_username_already_exists_cta};break;case"locked":switch(a.data&&a.data.lock_type){case"user":i={title:W.ts_promise_rejection_locked_user_title,text:W.ts_promise_rejection_locked_user_content,buttonText:W.ts_promise_rejection_locked_user_cta};break;case"device":i={title:W.ts_promise_rejection_locked_device_title,text:W.ts_promise_rejection_locked_device_content,buttonText:W.ts_promise_rejection_locked_device_cta};break;case"application":i={title:W.ts_promise_rejection_locked_application_title,text:W.ts_promise_rejection_locked_application_content,buttonText:W.ts_promise_rejection_locked_application_cta}}}}return i&&(i.title=o.getString(i.title),i.text=n?o.formatString(i.text,n):o.getString(i.text),i.buttonText=o.getString(i.buttonText)),i}}]),e}(),Ee=function(e){function n(e,i,o,a,r,c,l){var _;return t(this,n),(_=u(this,s(n).call(this,e,i,o,a))).dialogContent=new K,_.dialogContent.setDialogTitle(r),_.dialogContent.setDialogMessage(c),_.dialogContent.setDialogIconClass(l),_.setContent(_.dialogContent),_}return a(n,de),n}(),Ae="xmui-confirmation-action-dialog-page",Pe=function(e){function n(e,i,o,a,r,c){var l;return t(this,n),(l=u(this,s(n).call(this,Q.dialog_confirm,Ae,e,null!=c,i,o,a))).continueButton=new he(Q.button_continue),l.continueButton.label=r,l.continueButton.onClick((function(){return l.onContinueCB&&l.onContinueCB()})),l.addRightButton(l.continueButton),c&&(l.cancelButton.label=c),l}return a(n,Ee),i(n,[{key:"onContinue",value:function(e){this.onContinueCB=e}}]),n}(),Te=function(){function e(){t(this,e)}return i(e,null,[{key:"promiseCancelAction",value:function(e,t,n,i,o){var a,s=function(e){return e.indexOf(com.ts.mobile.sdk.ControlRequestType.SelectMethod)>-1?com.ts.mobile.sdk.ControlRequestType.SelectMethod:e.indexOf(com.ts.mobile.sdk.ControlRequestType.ChangeMethod)>-1?com.ts.mobile.sdk.ControlRequestType.ChangeMethod:com.ts.mobile.sdk.ControlRequestType.AbortAuthentication};return a=1==n.overrideAuthenticatorCancelBehavior?s(e):i==com.ts.mobile.sdk.AuthenticatorSessionMode.Authentication?s(e):com.ts.mobile.sdk.ControlRequestType.AbortAuthentication,new Promise((function(e,t){e(com.ts.mobile.sdk.ControlRequest.create(a))}))}},{key:"promiseCancelActionForNonBaseAuthenticatorSession",value:function(e){var t=com.ts.mobile.sdk.ControlRequestType.AbortAuthentication;return Promise.resolve(com.ts.mobile.sdk.ControlRequest.create(t))}},{key:"promiseRecoveryForError",value:function(e,t,n,i,o,a,s){var r=!1,c=e.getData();c&&c.additional_data&&c.additional_data.locked&&(r=!0);var u,l,_=t;return t.indexOf(com.ts.mobile.sdk.AuthenticationErrorRecovery.ChangeAuthenticator)>=0&&t.indexOf(com.ts.mobile.sdk.AuthenticationErrorRecovery.SelectAuthenticator)>=0&&(_=t.filter((function(e){return e!=com.ts.mobile.sdk.AuthenticationErrorRecovery.ChangeAuthenticator}))),r?(u=W.ts_promise_error_lock_title,l=i.getString(W.ts_promise_error_lock_content)):a===com.ts.mobile.sdk.AuthenticatorSessionMode.Authentication?(u=W.ts_promise_error_default_title_auth,l=i.formatString(W.ts_promise_error_default_content_auth,[e.getMessage()])):(u=W.ts_promise_error_default_title_reg,l=i.formatString(W.ts_promise_error_default_content_reg,[e.getMessage()])),this.createRecoveryFromErrorDialog(s,i.getString(u),l,r?x.AuthLocked:x.Error,i,o,_)}},{key:"createRecoveryFromErrorDialog",value:function(e,t,n,i,o,a,s){return new Promise((function(n,r){var c=new z(Q.dialog_recovery,"xmui-error-recovery-dialog-page");c.setUserName(e),c.setDialogTitle(t),c.setDialogMessage(o.getString(W.ts_promise_co_content)),c.setDialogIconClass(i),c.onSelect((function(e){c.blockInteraction(),n(parseInt(e))}));var u=Ie.getRecoveryActionButtonsInfo();Ie.buildDialogButtons(c,o,s,u),Ie.renderPage(c,a)}))}},{key:"promiseAuthenticator",value:function(e,t,n){var i=t.getUiContext();return new Promise((function(o,a){var s={},r=new me(t),c=Ie.getUsernameFromClientContext(n);c&&r.setUserName(c),r.setTitle(i.getString(W.ts_promise_sa_title)),r.setInstructions(i.getString(W.ts_promise_sa_content)),e.forEach((function(e){var t=e.getAuthenticator();if(t.getEnabled()&&!t.getLocked()&&t.getRegistered()){var n=t.getAuthenticatorId(),o=t.getType();s[n]=t;var a=i.getString(we.getAuthenticatorNameKey(n));r.addAuthenticator(n,a,o,!1)}})),r.onSubmit((function(e){r.blockInteraction(),o(com.ts.mobile.sdk.AuthenticatorSelectionResult.createSelectionRequest(s[e]))})),r.onCancel((function(){r.blockInteraction(),o(com.ts.mobile.sdk.AuthenticatorSelectionResult.createAbortRequest())})),r.onEscape((function(e){r.blockInteraction(),o(com.ts.mobile.sdk.AuthenticatorSelectionResult.createEscapeRequest(e,{}))})),Ie.renderPage(r,n)}))}},{key:"promiseInformationInput",value:function(e,t,n,i,o,a,s){return new Promise((function(r,c){var u=new be(a,o);e&&u.setUserName(e),u.setDialogTitle(n),u.setDialogMessage(i),u.setDialogIconClass(t),u.onSelect((function(){u.blockInteraction(),r()})),Ie.renderPage(u,s)}))}},{key:"internalPromiseConfirmationOrInformationActionInput",value:function(e,t,n,i,o,a,s,r,c){return new Promise((function(u,l){var _=new Pe(r,n,i,t,o,s);e&&_.setUserName(e),_.onContinue((function(){u(com.ts.mobile.sdk.ConfirmationInput.create(a))})),_.onCancel((function(){u(Ce.createCancelConfirmationInput())})),_.onEscape((function(e){u(com.ts.mobile.sdk.ConfirmationInput.createEscapeRequest(e,{}))})),Ie.renderPage(_,c)}))}},{key:"promiseInformationActionInput",value:function(e,t,n,i,o,a,s){return this.internalPromiseConfirmationOrInformationActionInput(e,t,n,i,o,-1,null,a,s)}},{key:"promiseConfirmationActionInput",value:function(e,t,n,i,o,a,s,r){return this.internalPromiseConfirmationOrInformationActionInput(e,t,n,i,o,0,a,s,r)}},{key:"promiseAuthenticatorFallbackAction",value:function(e,t,n,i,o,a){return new Promise((function(n,s){var r=o.getUiContext(),c=i.description.getAuthenticatorId(),u=r.getString(we.getAuthenticatorNameKey(c)),l=new z(Q.dialog_fallback,"xmui-auth-fallback-dialog-page");e&&l.setUserName(e),l.setDialogTitle(r.formatString(W.ts_promise_fallback_title,[u])),l.setDialogMessage(r.getString(W.ts_promise_fallback_content)),l.setDialogIconClass(x.Fallback),l.onSelect((function(e){l.blockInteraction(),n(parseInt(e))}));var _=Ie.getFallbackActionButtonsInfo();Ie.buildDialogButtons(l,r,t,_),Ie.renderPage(l,a)}))}},{key:"promisePolicyRejectionInput",value:function(t,n,i,o,a,s){var r={title:t,text:n,buttonText:i};if(!(t&&n&&i||(r=Ie.failureDataToPolicyRejectionDialogParams(o,a))))return Promise.resolve(Ce.createResumeConfirmationInput());var c=o,u=c&&c.reason&&c.reason.data&&c.reason.data.username||Ie.getUsernameFromClientContext(s);return e.promiseInformationInput(u,x.Rejection,r.title,r.text,r.buttonText,a.getUiContext(),s).then((function(){return Ce.createResumeConfirmationInput()}))}}]),e}(),Re="xmui-confirmation-dialog-page",Me=function(e){function n(e,i,o){var a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t(this,n),(a=u(this,s(n).call(this,Q.dialog_confirm,Re))).automationId=Q.dialog_confirm;var c=new he(Q.button_cancel);c.label=o||e.getString(W.ts_gen_cancel),c.value=!1,a.addLeftButton(c);var l=new he(Q.button_continue);return l.label=i||e.getString(W.ts_authenticator_password_cta_positive),l.value=!0,a.addRightButton(l),r?l.focus():c.focus(),a}return a(n,z),n}(),Be=function(){function e(n,i){t(this,e),this.showExpirationDialog=!1,this.supportsInlineError=!1,this.title=n,this.username=i,this.authId=n}return i(e,[{key:"startSession",value:function(e,t,n,i){this.description=e,this.mode=t,this.actionContext=n,this.clientContext=i,this.uiContext=n.getUiContext(),this.username=Ie.getUsernameFromClientContext(i)||this.username,Ie.log("Starting session; session mode: [".concat(this.mode,"], authenticator: [").concat(this.title,"]"))}},{key:"changeSessionModeToRegistrationAfterExpiration",value:function(){Ie.log("Changing session mode to registration after expiration; authenticator: [".concat(this.title,"]")),this.mode=com.ts.mobile.sdk.AuthenticatorSessionMode.Registration,this.clearError(),this.showExpirationDialog=!0}},{key:"promiseRecoveryForError",value:function(e,t,n){return Ie.log("Starting error recovery; session mode: [".concat(this.mode,"], authenticator: [").concat(this.title,"], error: [").concat(e,"]")),this.supportsInlineError&&n===com.ts.mobile.sdk.AuthenticationErrorRecovery.RetryAuthenticator?(this.setError(e),Promise.resolve(n)):n===com.ts.mobile.sdk.AuthenticationErrorRecovery.Fail?Promise.resolve(n):Te.promiseRecoveryForError(e,t,n,this.uiContext,this.clientContext,this.mode,this.username)}},{key:"endSession",value:function(){Ie.log("Ending session; session mode: [".concat(this.mode,"], authenticator: [").concat(this.title,"]"))}},{key:"promiseInput",value:function(){var e=this;return new Promise((function(t,n){switch(e.setInputResolver(t),e.mode){case com.ts.mobile.sdk.AuthenticatorSessionMode.Authentication:Ie.log("Fetching authentication input; authenticator: [".concat(e.title,"]")),e.showAuthUi();break;case com.ts.mobile.sdk.AuthenticatorSessionMode.Registration:Ie.log("Fetching registration input; authenticator: [".concat(e.title,"]")),e.showExpirationDialog?(e.showExpirationDialog=!1,e.showRegUiAfterExpiration()):e.showRegUi()}})).then((function(t){return e.clearError(),t}))}},{key:"promiseCancelAction",value:function(e){return Te.promiseCancelAction(e,this.actionContext,this.clientContext,this.mode,this.username)}},{key:"showRegUiAfterExpiration",value:function(){var e=this,t=this.uiContext,n=t.getString(we.getAuthenticatorNameKey(this.title)),i=new Me(this.uiContext);i.setUserName(this.username),i.setDialogTitle(t.formatString(W.ts_session_authenticator_expired_title,[n])),i.setDialogIconClass(x.Expiration),i.setDialogMessage(t.getString(W.ts_session_authenticator_expired_content)),i.onSelect((function(t){i.blockInteraction(),t?e.showRegUi():e.onCancel()})),Ie.renderPage(i,this.clientContext)}},{key:"setInputResolver",value:function(e){this.currentInputResolveFn=e}},{key:"onCancel",value:function(){this.resolveInputPromise(Ce.createCancelAuthenticatorRequest())}},{key:"onEscape",value:function(e){var t=com.ts.mobile.sdk.InputOrControlResponse.createEscapeResponse(e,{});this.resolveInputPromise(t)}},{key:"resolveInputPromise",value:function(e){if(this.currentInputResolveFn){var t=this.currentInputResolveFn;this.currentInputResolveFn=null,t(e)}}},{key:"showAuthenticatorPage",value:function(e){var t=this;e.setUserName(this.username),e.onCancel((function(){e.blockInteraction(),t.onCancel()})),e.onEscape((function(n){e.blockInteraction(),t.onEscape(n)})),Ie.renderPage(e,this.clientContext)}},{key:"setError",value:function(e){if(e){this.authError=e;var t=e.getMessage();this.authErrorMessage=this.mode===com.ts.mobile.sdk.AuthenticatorSessionMode.Authentication?this.uiContext.formatString(W.ts_promise_error_default_content_auth,[t]):this.uiContext.formatString(W.ts_promise_error_default_content_reg,[t])}else this.clearError()}},{key:"clearError",value:function(){this.authError=null,this.authErrorMessage=""}}]),e}(),Ne=function(e){function n(e,i){var o;return t(this,n),(o=u(this,s(n).call(this))).stateOnIcon=e,o.stateOffIcon=i,o.isOn=!1,o.setIconsClass(),o.onClick((function(){o.isOn=!o.isOn,o.setIconsClass(),o.onChangeCB&&o.onChangeCB(o.isOn)})),o}return a(n,P),i(n,[{key:"onChange",value:function(e){this.onChangeCB=e}},{key:"setIsOn",value:function(e){this.isOn=e,this.setIconsClass()}},{key:"setIconsClass",value:function(){var e="";e=this.isOn?this.stateOnIcon:this.stateOffIcon,this.element.setClass("".concat("xmui-toggle-icon"," ").concat(e))}}]),n}();function De(e,t,n){var i;return function(){var o=this,a=arguments,s=function(){i=null,n||e.apply(o,a)},r=n&&!i;clearTimeout(i),i=setTimeout(s,t),r&&e.apply(o,a)}}!function(e){e.Numeric="numeric"}(ye||(ye={}));var qe,Le=function(e){function n(e){var i;return t(this,n),(i=u(this,s(n).call(this))).automationId=e,i.inputHtmlElement=i.htmlElement,i}return a(n,I),i(n,[{key:"buildElement",value:function(){return S("<input>")}},{key:"onChange",value:function(e){this.element.on("input",this.createCB(e))}},{key:"createCB",value:function(e){return De(e,100,!1)}},{key:"name",set:function(e){this.inputHtmlElement.name=e},get:function(){return this.inputHtmlElement.name}},{key:"type",set:function(e){this.attr={type:e},this.inputHtmlElement.type}},{key:"inputmode",set:function(e){this.attr={inputmode:e,"x-inputmode":e}}},{key:"placeholder",set:function(e){this.inputHtmlElement.placeholder=e}},{key:"minlength",set:function(e){this.attr={minlength:e.toString()}}},{key:"maxlength",set:function(e){this.attr={maxlength:e.toString()}}},{key:"autocomplete",set:function(e){this.attr={autocomplete:e}}},{key:"autocorrect",set:function(e){this.attr={autocorrect:e?"on":"off"}}},{key:"autocapitalize",set:function(e){this.attr={autocapitalize:e?"on":"off"}}},{key:"value",set:function(e){this.inputHtmlElement.value=e},get:function(){return this.inputHtmlElement.value}},{key:"disabled",set:function(e){d(s(n.prototype),"disabled",e,this,!0),this.inputHtmlElement.disabled=e}},{key:"required",set:function(e){this.inputHtmlElement.required=e},get:function(){return this.inputHtmlElement.required}}]),n}(),Fe="xmui-form-field-message",Oe="".concat(Fe,"--center"),je="".concat(Fe,"--error"),Ue=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t(this,n),(e=u(this,s(n).call(this))).id=Z.generate(),e.className=Fe,i&&e.addClass(je),o&&e.addClass(Oe),e}return a(n,E),n}(),Qe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ve=function(){function e(){t(this,e)}return i(e,null,[{key:"email",value:function(e){return Qe.test(e)?void 0:"Invalid Email"}},{key:"required",value:function(e){return e?void 0:"Required"}},{key:"mobileNumber",value:function(e){var t=e.match(/^([0-9]{1,3})-([1-9][0-9]+)$/);return t?t[1].length+t[2].length>15?"Mobile Number exceeded 15 digits":void 0:"Invalid Mobile Number"}}]),e}(),He=function(){function e(){t(this,e)}return i(e,null,[{key:"positiveInteger",value:function(e){var t=e.keyCode;(t!==V.Enter&&t<V.Zero||t>V.Nine)&&e.preventDefault()}}]),e}(),Ke=function(e){function n(){return t(this,n),u(this,s(n).apply(this,arguments))}return a(n,P),n}(),ze="xmui-input-field",We=/^[0-9]+$/,Ge="".concat(ze,"--has-value"),Ze="".concat(ze,"--has-focus");!function(e){e[e.Password=0]="Password",e[e.Text=1]="Text",e[e.Email=2]="Email",e[e.PositiveInteger=3]="PositiveInteger"}(qe||(qe={}));var Ye,$e=function(e){function n(e,i){var o;t(this,n),(o=u(this,s(n).call(this))).inputType=e,o.hasValue=!1,o.validators=[],o.icons=new Map,o.className=ze,o.inputComponent=new Le(i),o.inputComponent.value="",o.inputComponent.autocapitalize=!1,o.inputComponent.autocorrect=!1,o.inputComponent.spellcheck=!1,o.inputComponent.onPaste(o.handlePaste.bind(c(o))),o.inputComponent.onChange(o.handleChange.bind(c(o)));var a=new P;a.className="".concat(ze,"_row");var r=new P;r.className="".concat(ze,"_container");var l=new P;l.className="".concat(ze,"_input-and-label");var _=new P;_.className="".concat(ze,"_label-container");var h=new E;switch(h.className="".concat(ze,"_label"),o.inputLabel=h,_.appendChild(o.inputLabel),l.appendChildren(o.inputComponent,_),r.appendChild(l),a.appendChildren(r),a.onFocusIn((function(){o.addClass(Ze)})),a.onFocusOut((function(){o.removeClass(Ze)})),e){case qe.Password:o.setupPasswordInput(r);break;case qe.Text:o.inputComponent.type="text";break;case qe.Email:o.setupEmailInput();break;case qe.PositiveInteger:o.setupPositiveIntegerInput()}return o.messageComp=new Ue(!1),o.messageComp.show=!1,o.errorMessageComp=new Ue(!0),o.appendChildren(a,o.messageComp,o.errorMessageComp),o.inputComponent.ariaDescribedBy=o.messageComp.id,o.labelContainer=_,o.container=r,o.inputRow=a,o}return a(n,Ke),i(n,[{key:"addRightButton",value:function(e,t){var n=new E;return n.className="".concat(ze,"_label_cta"),n.setText(e),n.onClick(t),this.container.appendChild(n),n}},{key:"addValidators",value:function(e){this.validators=this.validators.concat(e)}},{key:"addValidator",value:function(e){this.validators.push(e)}},{key:"focus",value:function(){this.inputComponent.focus()}},{key:"onBlur",value:function(e){this.inputComponent.onBlur(e)}},{key:"onFocus",value:function(e){this.inputComponent.onFocus(e)}},{key:"onChange",value:function(e){this.inputComponent.onChange(e)}},{key:"validateAndSetErrorMessage",value:function(){var e=this,t=!0,n=this.value.trim();return this.inputComponent.required?[this.getRequiredValidator()].concat(p(this.validators)):this.validators,!this.inputComponent.required&&this.isEmpty||(t=!this.validators.some((function(t){var i=t(n);return i&&e.setError(i),!!i}))),t&&this.clearError(),t}},{key:"setError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.error=!0,this.errorMessage=e||"",t&&(this.value="")}},{key:"clearError",value:function(){this.error=!1,this.errorMessage=""}},{key:"getRequiredValidator",value:function(){return Ve.required}},{key:"addIcon",value:function(e){var t=new P;t.className="".concat(ze,"_icon ").concat(e),this.container.appendChild(t),this.icons.set(e,t)}},{key:"removeIcon",value:function(e){var t=this.icons.get(e);t&&(this.container.removeChild(t),this.icons.delete(e))}},{key:"prependToInputRow",value:function(e){this.inputRow.prependChild(e)}},{key:"setupPasswordInput",value:function(e){var t=this;this.inputComponent.type="password";var n=new Ne(x.PasswordVisible,x.PasswordHidden);n.setIsOn(!1),n.onChange((function(e){t.inputComponent.type=e?"text":"password"})),e.appendChild(n)}},{key:"setupPositiveIntegerInput",value:function(){this.inputComponent.type="text",this.inputComponent.onKeypress((function(e,t){return He.positiveInteger(t)}))}},{key:"setupEmailInput",value:function(){this.inputComponent.type="email",this.addValidator(Ve.email)}},{key:"handlePaste",value:function(e){var t;this.inputType==qe.PositiveInteger&&((t=e.clipboardData&&e.clipboardData.getData?e.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"))&&!We.test(t)&&e.preventDefault())}},{key:"updateHasValue",value:function(e){e?this.addClass(Ge):this.removeClass(Ge),this.hasValue=e}},{key:"handleChange",value:function(){var e=this.checkHasValue();this.hasValue!==e&&this.updateHasValue(e)}},{key:"checkHasValue",value:function(){return!!this.value.length}},{key:"name",set:function(e){this.inputComponent.name=e},get:function(){return this.inputComponent.name}},{key:"disabled",set:function(e){this.inputComponent.disabled=e}},{key:"message",set:function(e){this.messageComp.setText(e),this.messageComp.show=!!e.length}},{key:"value",set:function(e){this.inputComponent.value=e,this.handleChange()},get:function(){return this.inputComponent.value}},{key:"type",get:function(){return this.inputType}},{key:"ariaRole",set:function(e){this.inputComponent.ariaRole=e}},{key:"ariaLabel",set:function(e){this.inputComponent.ariaLabel=e}},{key:"automationId",set:function(e){this.inputComponent.automationId=e}},{key:"autocomplete",set:function(e){this.inputComponent.autocomplete=e}},{key:"placeholder",set:function(e){this.placeholderText=e,this.inputLabel.setText(e)},get:function(){return this.placeholderText}},{key:"minlength",set:function(e){this.inputComponent.minlength=e}},{key:"maxlength",set:function(e){this.inputComponent.maxlength=e}},{key:"required",set:function(e){this.inputComponent.required=e},get:function(){return this.inputComponent.required}},{key:"isEmpty",get:function(){return!this.value.trim().length}},{key:"errorMessage",set:function(e){this.errorMessageComp.setText(e)}}]),n}(),Je="xmui-form",Xe="".concat(Je,"_hidden-submit-button"),et=function(e){function n(e){var i;if(t(this,n),(i=u(this,s(n).call(this))).submitButton=e,i.externalValidations=function(){return!0},i.className=Je,i.submitButton){var o=new he("");o.addClass(Xe),o.type=ne.Submit,o.disabled=!0,o.onClick((function(){return i.handleSubmit()})),i.appendChild(o),i.hiddenSubmitButton=o,i.submitButton&&i.submitButton.onClick((function(){return i.handleSubmit()}))}return i.element.on("submit",(function(){return event.preventDefault()})),i.element.on("input",De(i.handleInputEvent.bind(c(i)),100,!1)),i}return a(n,A),i(n,[{key:"buildElement",value:function(){return S("<form novalidate></form>")}},{key:"start",value:function(){this.updateSubmitButton()}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"onUserInput",value:function(e){this.onUserInputCB=e}},{key:"handleSubmit",value:function(){this.validate()&&this.onSubmitCB&&this.onSubmitCB(this.buildFormResult()),this.updateSubmitButton()}},{key:"updateSubmitButton",value:function(){if(this.submitButton){var e=this.isMandatoryEmpty();this.submitButton.disabled=this.hiddenSubmitButton.disabled=e}}},{key:"isMandatoryEmpty",value:function(){return this.getFormFields(this).some((function(e){return e.required&&e.isEmpty}))}},{key:"getFormFields",value:function(e){var t=this,n=[];return e.getChildren().forEach((function(e){e instanceof Ke?n.push(e):e instanceof A&&(n=n.concat(t.getFormFields(e)))})),n}},{key:"validate",value:function(){var e=this.getFormFields(this).reduce((function(e,t){return t.validateAndSetErrorMessage()&&e}),!0),t=this.externalValidations();return e&&t}},{key:"buildFormResult",value:function(){return this.getFormFields(this).reduce((function(e,t){return e[t.name]="string"==typeof t.value?t.value.trim():t.value,e}),{})}},{key:"handleInputEvent",value:function(){this.updateSubmitButton(),this.onUserInputCB&&this.onUserInputCB()}},{key:"name",set:function(e){this.attr={name:e}}}]),n}();!function(e){e.Off="off",e.Username="username",e.NewPassword="new-password",e.CurrentPassword="current-password"}(Ye||(Ye={}));var tt,nt=function(e){function n(e,i,o,a,r){var c;return t(this,n),(c=u(this,s(n).call(this,e,i,o))).recoveryAction=a,c.authenticatorId=r,c}return a(n,de),i(n,[{key:"addRecoveryButtonToForm",value:function(e){var t=this;if(this.recoveryAction&&this.authenticatorId){var n=new he(Q.button_recovery,ie.Recovery);n.label=this.uiContext.formatString(W.ts_gen_recovery,[this.uiContext.getString(we.getAuthenticatorNameKey(this.authenticatorId))]),n.onClick((function(){return t.handleEscapeButtonClicked(t.recoveryAction)})),e.appendChild(n)}}}]),n}(),it="xmui-password-authentication",ot="xmui-password-registration",at=function(e){function n(e,i,o,a){var r,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t(this,n),(r=u(this,s(n).call(this,i?Q.page_password_reg:Q.page_password_auth,i?ot:it,e,o,a))).isRegistrationMode=i,r.disableAutocomplete=c,r.passwordInputRegex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,}$/,r.setTitle(r.getTitle()),r.setInstructions(r.getInstructions());var l=new he(Q.button_continue);l.label=r.uiContext.getString(W.ts_authenticator_password_cta_positive),r.addRightButton(l),r.continueButton=l;var _=r.createForm();return r.setContent(_),r}return a(n,nt),i(n,[{key:"setError",value:function(e){this.error=!0,this.passwordInput.setError(e)}},{key:"clearError",value:function(){this.error=!1,this.passwordInput.clearError()}},{key:"reset",value:function(){this.unblockInteraction(),this.passwordInput.value="",this.passwordInput.focus(),this.repeatPasswordInput&&(this.repeatPasswordInput.value="")}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"getTitle",value:function(){var e=this.isRegistrationMode?W.ts_authenticator_password_title_reg:W.ts_authenticator_password_title_auth;return this.uiContext.getString(e)}},{key:"getInstructions",value:function(){var e;return e=this.isRegistrationMode?W.ts_authenticator_password_intro_reg:W.ts_authenticator_password_intro_auth,this.uiContext.getString(e)}},{key:"createForm",value:function(){var e=this,t=this.uiContext,n=new et(this.continueButton);n.addClass("xmui-password-page-form"),n.id="xmui-password-form";var i=new $e(qe.Password,Q.input_password),o=this.getAutocompleteValue();if(i.name="password",i.placeholder=t.getString(W.ts_authenticator_password_field_hint),i.disabled=!1,i.value="",i.required=!0,i.autocomplete=o,i.ariaLabel=t.getString(W.ts_accessibility_password_enter_password),i.focus(),this.passwordInput=i,n.appendChild(i),this.isRegistrationMode){var a=new P;a.className="".concat("xmui-password-page-form","_spacer"),n.appendChild(a);var s=new $e(qe.Password,Q.input_repeat_password);s.name="repeat-password",s.placeholder=t.getString(W.ts_authenticator_password_reg_field_hint),s.disabled=!1,s.value="",s.required=!0,i.autocomplete=o,s.ariaLabel=t.getString(W.ts_accessibility_password_enter_password_again),this.repeatPasswordInput=s,n.appendChild(s)}return this.addRecoveryButtonToForm(n),n.externalValidations=function(){var t=!0;return e.isRegistrationMode&&(e.validatePasswordsMatch()||(e.repeatPasswordInput.setError(e.uiContext.getString(W.ts_authenticator_password_error_reg_no_match),!1),e.passwordInput.focus(),t=!1),e.isPasswordValid()||(e.passwordInput.setError(e.uiContext.getString(W.ts_authenticator_password_error_reg_strength_validation_failed),!1),e.repeatPasswordInput.setError(null,!0),e.passwordInput.focus(),t=!1),0==t&&(e.passwordInput.value="",e.repeatPasswordInput.value="")),t},n.onUserInput(this.handlePasswordChanged.bind(this)),n.onSubmit((function(t){e.blockInteraction(),e.onSubmitCB&&e.onSubmitCB(t.password)})),n.start(),n}},{key:"validatePasswordsMatch",value:function(){return this.passwordInput.value===this.repeatPasswordInput.value}},{key:"isPasswordValid",value:function(){return this.passwordInputRegex.test(this.passwordInput.value)}},{key:"getAutocompleteValue",value:function(){return this.disableAutocomplete?Ye.Off:this.isRegistrationMode?Ye.NewPassword:Ye.CurrentPassword}},{key:"handlePasswordChanged",value:function(){this.passwordInput.error&&this.passwordInput.clearError(),this.repeatPasswordInput&&this.repeatPasswordInput.error&&this.repeatPasswordInput.clearError()}}]),n}(),st=function(e){function n(e,i){var o;return t(this,n),(o=u(this,s(n).call(this,e,i))).supportsInlineError=!0,o}return a(n,Be),i(n,[{key:"showAuthUi",value:function(){this.showPasswordPage(!1)}},{key:"showRegUi",value:function(){this.showPasswordPage(!0)}},{key:"showPasswordPage",value:function(e){var t=this;if(this.authError&&this.passwordPage)this.passwordPage.reset(),this.passwordPage.setError(this.authErrorMessage);else{var n=!0===this.clientContext.disablePasswordAutocomplete,i=new at(this.actionContext,e,this.description.getCredentialRecoveryEscapeOption(),this.description.getAuthenticatorId(),n);this.showAuthenticatorPage(i),this.passwordPage=i}this.passwordPage.onSubmit((function(e){var n=com.ts.mobile.sdk.PasswordInput.create(e);t.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(n))}))}}]),n}(),rt="xmui-select-device-page",ct=function(e){function n(e){var i;t(this,n),(i=u(this,s(n).call(this,Q.page_select_device,rt,e))).selectedDevices=[],i.deviceKeys=[];var o=new he(Q.button_send_to_all);o.label=i.uiContext.getString(W.ts_authenticator_mobile_approve_send_to_all),o.onClick((function(){i.onSubmitCB&&i.onSubmitCB(i.deviceKeys)})),i.addRightButton(o);var a=new he(Q.button_continue);a.label=i.uiContext.getString(W.ts_authenticator_password_cta_positive),a.disabled=!0,a.onClick((function(){i.onSubmitCB&&i.onSubmitCB(i.selectedDevices)})),i.addRightButton(a),i.confirmButton=a;var r=i.createContent();return i.setContent(r),i}return a(n,nt),i(n,[{key:"createContent",value:function(){var e=this;return this.deviceList=new se(J.Multiple),this.deviceList.onSelectionChanged((function(t){e.selectedDevices=t,e.confirmButton.disabled=0===t.length})),this.deviceList.focus(),this.deviceList}},{key:"addDevice",value:function(e,t,n,i){var o=new ce(t,n,x.Device);this.deviceList.addListItem(e,i,o),this.deviceKeys.push(e)}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}}]),n}(),ut=function(e){function n(){return t(this,n),u(this,s(n).apply(this,arguments))}return a(n,I),i(n,[{key:"buildElement",value:function(){return S("<img></img>")}},{key:"src",set:function(e){this.attr={src:e}}}]),n}(),lt="xmui-mobile-approve-pending",_t=function(e){function n(e,i,o,a){var r;t(this,n);var l=(r=u(this,s(n).call(this,Q.page_mobile_approve,lt,e))).createContent(i,o,a);return r.setContent(l),d(s(n.prototype),"busy",!0,c(r),!0),r}return a(n,nt),i(n,[{key:"createContent",value:function(e,t,n){var i=new P;return i.className="".concat(lt,"_container"),i.appendChild(this.createSpacer()),null==t?this.createNoCodeContent(e,i):t===com.ts.mobile.sdk.OtpFormatType.Numeric?this.createNumericCodeContent(n,e,i):t===com.ts.mobile.sdk.OtpFormatType.QrCode&&this.createQRCodeContent(n,e,i),i}},{key:"createMessage",value:function(e){var t=new E;return t.setText(e),t.className="".concat(lt,"_message"),t}},{key:"createSpacer",value:function(){var e=new P;return e.className="".concat(lt,"_spacer"),e}},{key:"createNoCodeContent",value:function(e,t){var n=new P;n.className="".concat(lt,"_icon ").concat(x.MobileApproveWaiting);var i=this.createMessage(e);t.appendChildren(n,this.createSpacer(),i,this.createSpacer())}},{key:"createNumericCodeContent",value:function(e,t,n){var i=this.createMessage(t),o=new E;return o.className="".concat(lt,"_numeric-code"),o.setText(e),n.appendChildren(i,this.createSpacer(),o,this.createSpacer()),n}},{key:"createQRCodeContent",value:function(e,t,n){var i=this.createMessage(t),o=new P;o.className="".concat(lt,"_qr-code-container");var a=new ut;return a.className="".concat(lt,"_qr-code"),a.src=e,o.appendChild(a),n.appendChildren(i,this.createSpacer(),o),n}},{key:"busy",set:function(e){}}]),n}();!function(e){e[e.TargetSelection=0]="TargetSelection",e[e.PollingRequested=1]="PollingRequested",e[e.PollingStarted=2]="PollingStarted"}(tt||(tt={}));var ht,dt=function(e){function n(e,i,o){var a;return t(this,n),(a=u(this,s(n).call(this,e,i))).state=tt.TargetSelection,a.pollingIntervalMillis=3e3,a.instructions=o,a}return a(n,Be),i(n,[{key:"setPollingIntervalInMillis",value:function(e){this.pollingIntervalMillis=e}},{key:"setCreatedApprovalInfo",value:function(e,t){null!=e?(this.setupOtp(t),this.state=tt.PollingRequested):(this.setupOtp(null),this.state=tt.TargetSelection,clearTimeout(this.pollingTimer))}},{key:"setAvailableTargets",value:function(e){this.availableTargets=e}},{key:"endSession",value:function(){_(s(n.prototype),"endSession",this).call(this),clearTimeout(this.pollingTimer)}},{key:"promiseInput",value:function(){var e,t=this;switch(this.mode){case com.ts.mobile.sdk.AuthenticatorSessionMode.Authentication:switch(Ie.log("Fetching Mobile Approve authentication input;"),this.state){case tt.TargetSelection:e=this.promiseTargetSelectionInput();break;case tt.PollingRequested:this.state=tt.PollingStarted,this.showPendingUI(),e=this.startPolling();break;case tt.PollingStarted:e=this.startPolling()}break;case com.ts.mobile.sdk.AuthenticatorSessionMode.Registration:}return(e=e||Promise.reject("Illegal state")).then((function(e){return t.clearError(),e}))}},{key:"promiseTargetSelectionInput",value:function(){var e=this;return new Promise((function(t,n){e.setInputResolver(t);var i=new ct(e.actionContext);i.setTitle(e.uiContext.getString(W.ts_authenticator_mobile_approve)),i.setInstructions(e.uiContext.getString(W.ts_authenticator_mobile_approve_targets_intro));var o={};e.availableTargets.forEach((function(t){var n=t.getDeviceDetails(),a=n.getDeviceId(),s=Ce.getDeviceNameFromDeviceDetails(n),r=Ce.getLastAccessedFromDeviceDetails(e.uiContext,n);o[a]=t,i.addDevice(a,s,r,!1)})),i.onSubmit((function(t){i.blockInteraction();var n=t.map((function(e){return o[e]})),a=Ce.createTargetsSelectionResponse(n);e.resolveInputPromise(a)})),e.showAuthenticatorPage(i)}))}},{key:"showPendingUI",value:function(){var e=new _t(this.actionContext,this.instructions,this.otpType,this.otpCode);e.setTitle(this.uiContext.getString(W.ts_authenticator_mobile_approve)),this.showAuthenticatorPage(e)}},{key:"onCancel",value:function(){this.currentInputResolveFn?(clearTimeout(this.pollingTimer),_(s(n.prototype),"onCancel",this).call(this)):this.pendingRequest=Ce.createCancelAuthenticatorRequest()}},{key:"onEscape",value:function(e){clearTimeout(this.pollingTimer),_(s(n.prototype),"onEscape",this).call(this,e)}},{key:"setupOtp",value:function(e){if(e){var t=e.getFormat().getType();switch(this.otpType=t,t){case com.ts.mobile.sdk.OtpFormatType.Numeric:this.otpCode=e.getValue();break;case com.ts.mobile.sdk.OtpFormatType.QrCode:this.otpCode="data:image/jpeg;base64,"+e.getValue();break;default:throw Ie.log("Unsupported otp format"),new Error("Unsupported otp format")}}else this.otpType=null,this.otpCode=null}},{key:"startPolling",value:function(){var e=this;return new Promise((function(t,n){e.setInputResolver(t),e.pollingTimer=setTimeout((function(){if(e.pendingRequest)e.resolveInputPromise(e.pendingRequest),e.pendingRequest=null;else{var t=com.ts.mobile.sdk.MobileApproveInputRequestPolling.createRequestPollingInput(),n=com.ts.mobile.sdk.TargetBasedAuthenticatorInput.createAuthenticatorInput(t),i=com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(n);e.resolveInputPromise(i)}}),e.pollingIntervalMillis)}))}},{key:"showAuthUi",value:function(){throw new Error("Method not implemented")}},{key:"showRegUi",value:function(){throw new Error("Method not implemented")}}]),n}(),pt="xmui-pin-code",mt=function(e){function n(e,i){var o;t(this,n),(o=u(this,s(n).call(this))).digits=[],o.className=pt,o.mainInput=new Le(e),o.mainInput.className="".concat(pt,"_input");var a=new P;a.className="".concat(pt,"_container"),o.messageComp=new Ue(!0,!0),o.changeHandler=o.changeHandler.bind(c(o));for(var r=0;r<i;r++){var l=new Le(e+"_digit_"+r);l.className="".concat(pt,"_digit"),l.type="text",l.maxlength=1,l.autocomplete=Ye.Off,l.inputmode=ye.Numeric,l.ariaLabel="pin code digit ".concat(r+1),l.onKeydown(o.keydownHandler),l.onFocus(o.focusHandler),l.onChange(o.changeHandler),0===r?(l.tabindex=0,l.ariaDescribedBy=o.messageComp.id):l.tabindex=-1,o.digits.push(l),a.appendChild(l)}return o.appendChildren(o.mainInput,a,o.messageComp),o}return a(n,P),i(n,[{key:"focus",value:function(){var e=this.digits[0];e&&e.focus()}},{key:"onChange",value:function(e){this.changeCB=e}},{key:"setError",value:function(e){this.error=!0,this.errorMessage=e||""}},{key:"clearError",value:function(){this.error=!1,this.errorMessage=""}},{key:"keydownHandler",value:function(e,t){var n=t.target;"Backspace"===t.key&&0===n.selectionStart&&0===n.selectionEnd&&n.previousElementSibling instanceof HTMLInputElement&&n.previousElementSibling.className==="".concat(pt,"_digit")&&(n.previousElementSibling.value="",n.previousElementSibling.focus())}},{key:"focusHandler",value:function(e){var t=e.target;t.value.length&&(t.selectionStart=0,t.selectionEnd=t.value.length)}},{key:"changeHandler",value:function(e){var t=e.target;if(t.value=t.value.replace(/[^\d]/g,""),1===t.value.length&&t.nextElementSibling instanceof HTMLInputElement&&t.nextElementSibling.className==="".concat(pt,"_digit")){var n=t.nextElementSibling;n.focus(),n.selectionStart=0,n.selectionEnd=1}var i="";this.digits.forEach((function(e){i+=e.value})),this.mainInput.value=i,this.changeCB&&this.changeCB()}},{key:"name",set:function(e){this.mainInput.name=e}},{key:"value",set:function(e){this.mainInput.value=e,this.digits.forEach((function(t,n){t.value=e[n]||""}))},get:function(){return this.mainInput.value}},{key:"errorMessage",set:function(e){this.messageComp.setText(e)}}]),n}(),gt="xmui-pin-code-authentication",vt="xmui-pin-code-registration";!function(e){e[e.Enter=0]="Enter",e[e.Repeat=1]="Repeat"}(ht||(ht={}));var ft=function(e){function n(e,i,o,a,r){var l;t(this,n),(l=u(this,s(n).call(this,o?Q.page_pin_reg:Q.page_pin_auth,o?vt:gt,e,a,r))).numDigits=i,l.isRegistrationMode=o,l.mode=ht.Enter,l.setTitle(l.getTitle()),l.setInstructions(l.getInstructions());var _=l.createForm();if(l.setContent(_),l.isRegistrationMode){var h=new he(Q.button_reset);h.label=l.uiContext.getString(W.ts_gen_restart),h.disabled=!0,h.onClick(l.handleReset.bind(c(l))),l.resetButton=h,l.addRightButton(h)}return l}return a(n,nt),i(n,[{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"setError",value:function(e){this.error=!0,this.pinCode.setError(e)}},{key:"clearError",value:function(){this.pinCode.clearError(),this.error=!1}},{key:"getTitle",value:function(){var e=this.isRegistrationMode?W.ts_authenticator_pin_title_reg:W.ts_authenticator_pin_title_auth;return this.uiContext.getString(e)}},{key:"getRegModeInstructions",value:function(){var e=this.mode===ht.Enter?W.ts_authenticator_pin_intro_reg:W.ts_authenticator_pin_intro_repeat;return this.uiContext.getString(e)}},{key:"getInstructions",value:function(){return this.isRegistrationMode?this.getRegModeInstructions():this.uiContext.getString(W.ts_authenticator_pin_intro_auth)}},{key:"handleReset",value:function(){this.mode=ht.Enter,this.pinCode.value="",this.pinCode.focus(),this.enteredPinCode=null,this.resetButton.disabled=!0,this.setInstructions(this.getInstructions())}},{key:"handleNoMatch",value:function(){this.pinCode.value="",this.pinCode.setError(this.uiContext.getString(W.ts_authenticator_pin_error_reg_no_match)),this.pinCode.focus()}},{key:"submitPinCode",value:function(e){this.onSubmitCB&&this.onSubmitCB(e)}},{key:"repeat",value:function(){this.mode=ht.Repeat,this.pinCode.value="",this.pinCode.focus(),this.resetButton.disabled=!1,this.setInstructions(this.getInstructions())}},{key:"handleRegPinCodeChanged",value:function(e){this.mode===ht.Enter?(this.enteredPinCode=e,this.repeat()):this.enteredPinCode===e?this.submitPinCode(e):this.handleNoMatch()}},{key:"handlePinCodeChanged",value:function(){this.clearError();var e=this.pinCode.value;e.length===this.numDigits&&(this.isRegistrationMode?this.handleRegPinCodeChanged(e):this.submitPinCode(e))}},{key:"createForm",value:function(){var e=new et;e.addClass("xmui-pin-code-form");var t=new mt(Q.input_pin_code,this.numDigits);return t.name="pin-code",t.value="",t.onChange(this.handlePinCodeChanged.bind(this)),t.focus(),this.pinCode=t,e.appendChild(t),this.addRecoveryButtonToForm(e),e}}]),n}(),yt=function(e){function n(e,i,o){var a;return t(this,n),(a=u(this,s(n).call(this,e,i))).supportsInlineError=!0,a.pinLength=o,a}return a(n,Be),i(n,[{key:"showAuthUi",value:function(){this.showPinCodePage(!1)}},{key:"showRegUi",value:function(){this.showPinCodePage(!0)}},{key:"showPinCodePage",value:function(e){var t=this,n=new ft(this.actionContext,this.pinLength,e,this.description.getCredentialRecoveryEscapeOption(),this.description.getAuthenticatorId());this.authError&&n.setError(this.authErrorMessage),n.onSubmit((function(e){n.blockInteraction();var i=com.ts.mobile.sdk.PinInput.create(e);t.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(i))})),this.showAuthenticatorPage(n)}}]),n}();function Ct(){}function kt(e){return e instanceof NodeList||e instanceof HTMLCollection?Array.prototype.slice.call(e):[e]}function bt(e,t){if("string"==typeof t)return window.getComputedStyle(e)[t];Object.keys(t).forEach((function(n){var i=t[n];e.style[n]=i}))}function wt(e,t){var n=t.split(" ");n.length>1?n.forEach((function(t){return wt(e,t)})):e.classList?e.classList.add(t):e.className+=" ".concat(t)}function St(e,t){var n=t.split(" ");n.length>1?n.forEach((function(t){return St(e,t)})):e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)".concat(t.split(" ").join("|"),"(\\b|$)"),"gi")," ")}function xt(e){kt(e).forEach((function(e){e.parentNode.removeChild(e)}))}function It(e,t,n,i){var o=t-e,a=i-n;return{length:Math.ceil(Math.sqrt(o*o+a*a)),angle:Math.round(180*Math.atan2(a,o)/Math.PI)}}var Et=new WeakMap,At=function(){function e(){t(this,e),this.holder=null,this.option=null,this.mapperFunc=Ct,this.holderLeft=0,this.holderTop=0,this.disabled=!1,this.patternAry=[],this.lastPosObj=[],this.rightPattern=null,this.onSuccess=Ct,this.onError=Ct,this.pattCircle=null,this.lineX1=0,this.lineY1=0,this.line=null,this.lastPosObj=null,this.dotYOffest=null}return i(e,[{key:"getElementsFromPoint",value:function(e,t){if(document.elementsFromPoint)return document.elementsFromPoint(e,t);for(var n=[],i=document.msElementsFromPoint(e,t),o=i.length,a=0;a<o;a++)n.push(i.item(a));return n}},{key:"getIdxFromPoint",value:function(e,t){var n,i,o,a,s=e-this.holderLeft,r=t-this.holderTop;if(this.getElementsFromPoint(e,t).some((function(e){return-1!=e.className.indexOf("patt-circ")&&(n=e.firstElementChild,!0)})),n){var c=this.option.matrix,u=parseInt(n.getAttribute("patt-dots-index"));a=u+1,i=u%c[1]+1,o=Math.floor(u/c[1])+1}return{idx:a,i:i,j:o,x:s,y:r}}},{key:"markPoint",value:function(e,t){wt(e,"hovered"),this.patternAry.push(t),this.lastElm=e}},{key:"addLine",value:function(e){var t=this.dotYOffest,n=this.pattCircle,i=this.patternAry,o=this.holderLeft,a=this.holderTop,s=this.holder,r=this.option.lineOnMove,c=n[e.idx-1].firstElementChild.getBoundingClientRect(),u=c.left+c.width/2-o,l=c.top+c.height/2-a;if(i.length>1){var _=It(this.lineX1,u,this.lineY1,l),h=_.length,d=_.angle;bt(this.line,{width:"".concat(h,"px"),transform:"rotate(".concat(d,"deg)")}),r||bt(this.line,{display:"block"})}if(null==t){var p=document.createElement("div");p.className="patt-lines",p.style.width="0px",p.style.visibility="hidden",p.style.position="absolute",p.style.top="0px",p.style.left="0px",s.appendChild(p);var m=p.getBoundingClientRect();this.dotYOffest=m.height/2,s.removeChild(p)}var g,v,f=(g='<div class="patt-lines" style="top:'.concat(l-this.dotYOffest,"px; left: ").concat(u,'px;"></div>'),(v=document.createElement("div")).innerHTML=g,v.children[0]);this.line=f,this.lineX1=u,this.lineY1=l,this.holder.appendChild(f),r||bt(this.line,{display:"none"})}},{key:"addDirectionClass",value:function(e){var t=this.lastElm,n=this.line,i=this.lastPosObj,o=[];if(e.j-i.j>0?o.push("s"):e.j-i.j<0&&o.push("n"),e.i-i.i>0?o.push("e"):e.i-i.i<0&&o.push("w"),o=o.join("-")){var a="".concat(o," dir");wt(t,a),wt(n,a)}}}]),e}(),Pt=function(){function n(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,n),this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onEnd=this._onEnd.bind(this),this._renderCircle=this._renderCircle.bind(this);var a=new At,s=i;if(s&&0!==s.length){var r={onDraw:Ct,onStart:Ct},c=o.matrix;c&&c[0]*c[1]>9&&(r.delimiter=","),a.option=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach((function(t){Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}({},n.defaults,r,o),a.circContainerWidth=100/a.option.matrix[1],a.circContainerHeight=100/a.option.matrix[0];var u=a.option.mapper;"object"===e(u)?a.mapperFunc=function(e){return u[e]}:a.mapperFunc="function"==typeof u?u:Ct,a.option.mapper=null,a.holder=s,Et.set(this,a),this._render(),wt(s,"patt-holder"),"static"===bt(s,"position")&&bt(s,{position:"relative"}),s.addEventListener("touchstart",this._onStart),s.addEventListener("mousedown",this._onStart)}}return i(n,[{key:"getPattern",value:function(){var e=Et.get(this),t=e.patternAry,n=e.option;return(t||[]).join(n.delimiter)}},{key:"setPattern",value:function(e){var t=Et.get(this),n=t.option,i=n.matrix,o=n.margin,a=n.radius,s=n.enableSetPattern,r=n.delimiter;if(s){var c="string"==typeof e?e.split(r):e;this.reset(),t.holderLeft=0,t.holderTop=0;for(var u=0;u<c.length;u+=1){var l=c[u]-1,_=l%i[1]*(2*o+2*a)+2*o+a,h=Math.floor(l/i[1])*(2*o+2*a)+2*o+a;this._onMove.call(null,{clientX:_,clientY:h,preventDefault:Ct},this)}}}},{key:"enable",value:function(){Et.get(this).disabled=!1}},{key:"disable",value:function(){Et.get(this).disabled=!0}},{key:"reset",value:function(){var e=Et.get(this);kt(e.pattCircle).forEach((function(e){return St(e,"hovered dir s n w e s-w s-e n-w n-e")})),xt(e.holder.querySelectorAll(".patt-lines")),e.patternAry=[],e.lastPosObj=null,St(e.holder,"patt-error")}},{key:"setError",value:function(){wt(Et.get(this).holder,"patt-error")}},{key:"clearError",value:function(){St(Et.get(this).holder,"patt-error")}},{key:"checkForPattern",value:function(e,t,n){var i=Et.get(this);i.rightPattern=e,i.onSuccess=t||Ct,i.onError=n||Ct}},{key:"_onStart",value:function(e){var t=Et.get(this),n=t.holder,i=t.option;if(e.preventDefault(),!t.disabled){t.option.patternVisible||wt(t.holder,"patt-hidden"),this.moveEvent="touchstart"===e.type?"touchmove":"mousemove",this.endEvent="touchstart"===e.type?"touchend":"mouseup",n.addEventListener(this.moveEvent,this._onMove),document.addEventListener(this.endEvent,this._onEnd);var o=t.holder.getBoundingClientRect();t.holderTop=o.top,t.holderLeft=o.left,this.reset(),i.onStart()}}},{key:"_onMove",value:function(e){e.preventDefault();var t=Et.get(this),n=t.option,i=t.patternAry,o=e.clientX||e.touches[0].clientX,a=e.clientY||e.touches[0].clientY,s=t.pattCircle,r=t.getIdxFromPoint(o,a),c=r.idx,u=t.mapperFunc(c)||c;if(i.length>0){var l=It(t.lineX1,r.x,t.lineY1,r.y),_=l.length,h=l.angle;bt(t.line,{width:"".concat(_+2,"px"),transform:"rotate(".concat(h,"deg)")})}if(c&&(n.allowRepeat&&i[i.length-1]!==u||-1===i.indexOf(u))){var d=s[c-1];if(t.lastPosObj)for(var p=t.lastPosObj,m=r.i-p.i>0?1:-1,g=r.j-p.j>0?1:-1,v=p.i,f=p.j,y=Math.abs(r.i-v),C=Math.abs(r.j-f);0===y&&C>1||0===C&&y>1||C===y&&C>1;){v=y?v+m:v,f=C?f+g:f,y=Math.abs(r.i-v),C=Math.abs(r.j-f);var k=(f-1)*n.matrix[1]+v,b=t.mapperFunc(k)||k;(n.allowRepeat||-1===i.indexOf(b))&&(t.addDirectionClass({i:v,j:f}),t.markPoint(s[b-1],b),t.addLine({idx:c,i:v,j:f}))}t.lastPosObj&&t.addDirectionClass(r),t.markPoint(d,u),t.addLine(r),t.lastPosObj=r}}},{key:"_onEnd",value:function(e){e.preventDefault();var t=Et.get(this),n=t.option,i=t.patternAry.join(n.delimiter);t.holder.removeEventListener(this.moveEvent,this._onMove),document.removeEventListener(this.endEvent,this._onEnd),St(t.holder,"patt-hidden"),i&&(xt(t.line),n.onDraw(i),t.rightPattern&&(i===t.rightPattern?t.onSuccess():(t.onError(),this.error())))}},{key:"_renderCircle",value:function(e,t){var n=Et.get(this),i=n.circContainerHeight,o=n.circContainerWidth;return'<div class="patt-circ-container" style="width: '.concat(o,"%; height: ").concat(i,"%; flex-basis: ").concat(o,'%;">\n                <div class="patt-circ">\n                  <div patt-dots-index=').concat(t,' class="patt-dots"></div>\n                </div>\n            </div>')}},{key:"_render",value:function(){var e=Et.get(this),t=e.option,n=e.holder,i=t.matrix,o=(t.margin,t.radius,'<div class="patt-wrap">\n                    '.concat(function(e,t){for(var n=new Array(e),i=0;i<e;i++)n[i]=t;return n}(i[0]*i[1]).map(this._renderCircle).join(""),"\n                  </div>"));n.innerHTML=o,e.pattCircle=e.holder.querySelectorAll(".patt-circ")}},{key:"option",value:function(e,t){var n=Et.get(this).option;return void 0===t?n[e]:(n[e]=t,"margin"!==e&&"matrix"!==e&&"radius"!==e||this._render(),this)}}]),n}();Pt.defaults={matrix:[3,3],margin:20,radius:25,patternVisible:!0,lineOnMove:!0,delimiter:"",enableSetPattern:!1,allowRepeat:!0};var Tt,Rt="xmui-pattern-lock",Mt="".concat(Rt,"_pattern"),Bt=function(e){function n(e,i,o){var a;t(this,n),(a=u(this,s(n).call(this))).className=Rt,a.tabindex=0,a.mainInput=new Le(e),a.mainInput.className="".concat(Rt,"_input"),a.appendChild(a.mainInput),a.handleSelectedPattern=a.handleSelectedPattern.bind(c(a)),a.handlePatternStarted=a.handlePatternStarted.bind(c(a));var r=new P;return r.className=Mt,a.patternLockExt=new Pt(r.htmlElement,{matrix:[o,i],onDraw:a.handleSelectedPattern,onStart:a.handlePatternStarted}),a.messageComp=new Ue(!0,!0),a.ariaDescribedBy=a.messageComp.id,a.appendChildren(r,a.messageComp),a}return a(n,P),i(n,[{key:"setError",value:function(e){this.error=!0,this.errorMessage=e||"",this.patternLockExt.setError()}},{key:"clearError",value:function(){this.error=!1,this.errorMessage="",this.patternLockExt.clearError()}},{key:"reset",value:function(){this.patternLockExt.reset()}},{key:"onChange",value:function(e){this.changeCB=e}},{key:"onStart",value:function(e){this.startCB=e}},{key:"handleSelectedPattern",value:function(e){this.mainInput.value=e,this.changeCB&&this.changeCB()}},{key:"handlePatternStarted",value:function(){this.startCB&&this.startCB()}},{key:"name",set:function(e){this.mainInput.name=e}},{key:"value",set:function(e){},get:function(){return this.mainInput.value}},{key:"errorMessage",set:function(e){this.messageComp.setText(e)}}]),n}(),Nt="xmui-pattern-authentication",Dt="xmui-pattern-registration";!function(e){e[e.Enter=0]="Enter",e[e.Repeat=1]="Repeat"}(Tt||(Tt={}));var qt,Lt=function(e){function n(e,i,o,a,r,l,_){var h;t(this,n),(h=u(this,s(n).call(this,r?Q.page_pattern_reg:Q.page_pattern_auth,r?Dt:Nt,e,l,_))).minLength=a,h.isRegistrationMode=r,h.mode=Tt.Enter,h.setTitle(h.getTitle()),h.setInstructions(h.getInstructions());var d=h.createForm(i,o);if(h.setContent(d),h.isRegistrationMode){var p=new he(Q.button_reset);p.label=h.uiContext.getString(W.ts_authenticator_pattern_cta_reset),p.disabled=!0,p.onClick(h.handleReset.bind(c(h))),h.resetButton=p,h.addRightButton(p)}return h}return a(n,nt),i(n,[{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"setError",value:function(e){this.error=!0,this.patternLock.setError(e)}},{key:"clearError",value:function(){this.error=!1,this.patternLock.clearError()}},{key:"handleReset",value:function(){this.mode=Tt.Enter,this.patternLock.reset(),this.enteredPattern=null,this.resetButton.disabled=!0,this.setInstructions(this.getInstructions()),this.clearError()}},{key:"getTitle",value:function(){var e=this.isRegistrationMode?W.ts_authenticator_pattern_title_reg:W.ts_authenticator_pattern_title_auth;return this.uiContext.getString(e)}},{key:"getRegModeInstructions",value:function(){var e=this.mode===Tt.Enter?W.ts_authenticator_pattern_intro_reg:W.ts_authenticator_pattern_intro_repeat;return this.uiContext.getString(e)}},{key:"getInstructions",value:function(){return this.isRegistrationMode?this.getRegModeInstructions():this.uiContext.getString(W.ts_authenticator_pattern_intro_auth)}},{key:"handleNoMatch",value:function(){this.patternLock.setError(this.uiContext.getString(W.ts_authenticator_pattern_mismatch))}},{key:"submitPattern",value:function(e){this.onSubmitCB&&this.onSubmitCB(e)}},{key:"repeat",value:function(){this.patternLock.reset(),this.mode=Tt.Repeat,this.resetButton.disabled=!1,this.setInstructions(this.getInstructions())}},{key:"validateLength",value:function(e){return JSON.parse("["+e+"]").length>=this.minLength}},{key:"handleRegPatternChangedEnterMode",value:function(e){this.validateLength(e)?(this.enteredPattern=e,this.repeat()):this.notifyShortPattern()}},{key:"notifyShortPattern",value:function(){this.patternLock.setError(this.uiContext.getString(W.ts_authenticator_pattern_error_min_points))}},{key:"handleRegPattrenChanged",value:function(e){this.mode===Tt.Enter?this.handleRegPatternChangedEnterMode(e):this.enteredPattern===e?this.submitPattern(e):this.handleNoMatch()}},{key:"handlePattrenChanged",value:function(){var e=this.patternLock.value;this.isRegistrationMode?this.handleRegPattrenChanged(e):this.submitPattern(e)}},{key:"handlePatternStarted",value:function(){this.clearError()}},{key:"createForm",value:function(e,t){var n=new et;n.addClass("xmui-pattern-form");var i=new Bt(Q.input_pattern_lock,e,t);return i.name="pattern",i.onChange(this.handlePattrenChanged.bind(this)),i.onStart(this.handlePatternStarted.bind(this)),i.focus(),this.patternLock=i,n.appendChild(i),this.addRecoveryButtonToForm(n),n}}]),n}(),Ft=function(e){function n(e,i,o,a){var r;return t(this,n),(r=u(this,s(n).call(this,e,i))).gridWidth=o,r.gridHeight=a,r.supportsInlineError=!0,r.minLength=4,r}return a(n,Be),i(n,[{key:"setMinLength",value:function(e){null!=e&&(this.minLength=e)}},{key:"showAuthUi",value:function(){this.showPatternPage(!1)}},{key:"showRegUi",value:function(){this.showPatternPage(!0)}},{key:"showPatternPage",value:function(e){var t=this,n=new Lt(this.actionContext,this.gridWidth,this.gridHeight,this.minLength,e,this.description.getCredentialRecoveryEscapeOption(),this.description.getAuthenticatorId());this.authError&&n.setError(this.authErrorMessage),n.onSubmit((function(e){n.blockInteraction();var i=com.ts.mobile.sdk.PatternInput.create(t.createPatternInputString(e));t.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(i))})),this.showAuthenticatorPage(n)}},{key:"pointsIndexToCoorinate",value:function(e){var t=this;return e.map((function(e){return{y:Math.floor((e-1)/t.gridWidth),x:(e-1)%t.gridWidth}}))}},{key:"createPatternInputString",value:function(e){var t=JSON.parse("[".concat(e,"]"));return this.pointsIndexToCoorinate(t).map((function(e){return"r:".concat(e.y,",c:").concat(e.x)})).join("")}}]),n}(),Ot="xmui-tabs",jt=function(e){function n(){var e;return t(this,n),(e=u(this,s(n).call(this))).tabs=new Map,e.className=Ot,e}return a(n,P),i(n,[{key:"addTab",value:function(e,t){var n=this,i=new P;i.className="".concat(Ot,"_tab"),i.appendChild(t),this.tabs.set(e,i),this.appendChild(i),i.onClick((function(){i!==n.selectedTab&&(n.selectTab(i),n.selectionChangedCB&&n.selectionChangedCB(e))}))}},{key:"selectTabByKey",value:function(e){var t=this.tabs.get(e);this.selectTab(t)}},{key:"onSelectionChanged",value:function(e){this.selectionChangedCB=e}},{key:"selectTab",value:function(e){e&&(this.unselectCurrentTab(),e.selected=!0,this.selectedTab=e)}},{key:"unselectCurrentTab",value:function(){this.selectedTab&&(this.selectedTab.selected=!1,this.selectedTab=null)}}]),n}(),Ut="xmui-tabbed-panels",Qt=function(e){function n(){var e;return t(this,n),(e=u(this,s(n).call(this))).keyToPanel=new Map,e.curKey=0,e.className=Ut,e.tabs=new jt,e.tabs.onSelectionChanged(e.selectPanel.bind(c(e))),e.container=new P,e.container.className="".concat(Ut,"_container"),e.appendChildren(e.tabs,e.container),e}return a(n,P),i(n,[{key:"addPanel",value:function(e,t){var n=this.generateKey();this.tabs.addTab(n,e),t.show=!1,this.container.appendChild(t),this.keyToPanel.set(n,t),1===this.keyToPanel.size&&(this.tabs.selectTabByKey(n),this.selectPanel(n))}},{key:"generateKey",value:function(){return(++this.curKey).toString()}},{key:"selectPanel",value:function(e){var t=this.keyToPanel.get(e);t!==this.selectedPanel&&(t.show=!0,this.selectedPanel&&(this.selectedPanel.show=!1),this.selectedPanel=t)}}]),n}(),Vt="xmui-tab-content",Ht="".concat(Vt,"_title"),Kt="".concat(Vt,"_icon"),zt=function(e){function n(){var e;return t(this,n),(e=u(this,s(n).call(this))).className=Vt,e.iconComp=new P,e.iconComp.className=Kt,e.titleComp=new E,e.titleComp.className=Ht,e.appendChildren(e.iconComp,e.titleComp),e}return a(n,P),i(n,[{key:"title",set:function(e){this.titleComp.setText(e)}},{key:"icon",set:function(e){this.iconComp.className="".concat(Kt," ").concat(e)}}]),n}(),Wt="xmui-select-channel-page",Gt=function(e){function n(e){var i,a;t(this,n),(a=u(this,s(n).call(this,Q.page_otp_select_channel,Wt,e))).typeToList=new Map,a.channelTypeToLocalizationKey=(o(i={},com.ts.mobile.sdk.OtpChannel.Sms,W.ts_authenticator_otp_sms_title),o(i,com.ts.mobile.sdk.OtpChannel.Email,W.ts_authenticator_otp_email_title),o(i,com.ts.mobile.sdk.OtpChannel.PushNotification,W.ts_authenticator_otp_push_title),o(i,com.ts.mobile.sdk.OtpChannel.VoiceCall,W.ts_authenticator_otp_voice_title),i);var r=a.createContent();return a.setContent(r),a.handleSelectionChanged=a.handleSelectionChanged.bind(c(a)),a}return a(n,nt),i(n,[{key:"createContent",value:function(){return this.tabbedPanels=new Qt,this.tabbedPanels}},{key:"addChannelTarget",value:function(e){var t=this.typeToList.get(e.channel)||this.createTabbedList(e),n=new ce(e.targetName,e.targetInfo);t.addListItem(e.targetId,!1,n)}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"handleSelectionChanged",value:function(e){this.onSubmitCB&&this.onSubmitCB(e[0])}},{key:"createList",value:function(e){var t=new se;return this.typeToList.set(e,t),t.onSelectionChanged(this.handleSelectionChanged),t}},{key:"createTabbedList",value:function(e){var t=new zt,n=this.channelTypeToLocalizationKey[e.channel]||"UNKNOWN";t.title=this.uiContext.getString(n),t.icon=ue.getChannelIcon(e.channel);var i=this.createList(e.channel);return this.tabbedPanels.addPanel(t,i),i}}]),n}(),Zt="xmui-message-with-action",Yt=function(e){function n(){var e;return t(this,n),(e=u(this,s(n).call(this))).className=Zt,e.message=new E,e.message.className="".concat(Zt,"_message"),e.action=new E,e.action.className="".concat(Zt,"_action"),e.appendChildren(e.message,e.action),e}return a(n,P),i(n,[{key:"setMessage",value:function(e){this.message.setText(e)}},{key:"setAction",value:function(e,t){this.action.setText(e),this.onClick(t)}}]),n}(),$t="xmui-otp-page",Jt="".concat($t,"_content"),Xt="".concat($t,"_message-container"),en=7,tn=function(e){function n(e,i,o){var a;t(this,n),(a=u(this,s(n).call(this,Q.page_otp_auth,$t,e))).numDigits=i,a.useBackButton=o,a.useNormalInput=a.numDigits>en,a.setTitle(a.uiContext.getString(W.ts_authenticator_otp_title_auth));var r=a.createContent();if(a.setContent(r),o&&(a.cancelButton.automationId=Q.button_back,a.cancelButton.label=a.uiContext.getString(W.ts_gen_back)),a.useNormalInput){var c=new he(Q.button_continue);c.label=a.uiContext.getString(W.ts_gen_continue),c.disabled=!0,c.onClick((function(){a.submitOtpCode(a.otpCodeComp.value)})),a.continueButton=c,a.addRightButton(c)}return a}return a(n,nt),i(n,[{key:"handleCancelButtonClicked",value:function(){this.useBackButton?this.onBackCB&&this.onBackCB():_(s(n.prototype),"handleCancelButtonClicked",this).call(this)}},{key:"onBack",value:function(e){this.onBackCB=e}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"onResend",value:function(e){this.onResendCB=e}},{key:"setError",value:function(e){this.error=!0,this.otpCodeComp.setError(e)}},{key:"clearError",value:function(){this.otpCodeComp.clearError(),this.error=!1}},{key:"submitOtpCode",value:function(e){this.onSubmitCB&&this.onSubmitCB(e)}},{key:"handleOtpCodeChanged",value:function(){this.clearError();var e=this.otpCodeComp.value;this.useNormalInput?this.continueButton.disabled=null==e||0===e.length:null!=e&&e.length===this.numDigits&&this.submitOtpCode(e)}},{key:"createForm",value:function(){var e=new et;return this.useNormalInput?(this.otpCodeComp=new $e(qe.PositiveInteger,Q.input_otp_code),this.otpCodeComp.autocomplete=Ye.Off):this.otpCodeComp=new mt(Q.input_otp_code,this.numDigits),this.otpCodeComp.name="otp-code",this.otpCodeComp.value="",this.otpCodeComp.focus(),this.otpCodeComp.onChange(this.handleOtpCodeChanged.bind(this)),e.appendChild(this.otpCodeComp),e}},{key:"createContent",value:function(){var e=this,t=new P;t.className=Jt;var n=this.createForm(),i=new P;i.className=Xt;var o=new Yt;return o.setMessage(this.uiContext.getString(W.ts_authenticator_otp_resend_message)),o.setAction(this.uiContext.getString(W.ts_authenticator_otp_resend),(function(){e.onResendCB&&e.onResendCB()})),i.appendChild(o),t.appendChildren(n,i),t}}]),n}();!function(e){e[e.TargetSelection=0]="TargetSelection",e[e.Input=1]="Input"}(qt||(qt={}));var nn,on,an,sn=function(e){function n(e,i,a,r){var c,l;return t(this,n),(l=u(this,s(n).call(this,e,i))).autoExecedTarget=r,l.supportsInlineError=!0,l.channelTypeToInstruction=(o(c={},com.ts.mobile.sdk.OtpChannel.Sms,W.ts_authenticator_otp_sms_sent),o(c,com.ts.mobile.sdk.OtpChannel.Email,W.ts_authenticator_otp_email_sent),o(c,com.ts.mobile.sdk.OtpChannel.PushNotification,W.ts_authenticator_otp_push_sent),o(c,com.ts.mobile.sdk.OtpChannel.VoiceCall,W.ts_authenticator_otp_voice_sent),o(c,com.ts.mobile.sdk.OtpChannel.Unknown,W.ts_authenticator_otp_external_numeric_sent),c),l.possibleTargets=a,l.state=r?qt.Input:qt.TargetSelection,l.target=r,l}return a(n,Be),i(n,[{key:"setAvailableTargets",value:function(e){this.possibleTargets=e}},{key:"setGeneratedOtp",value:function(e,t){t?(this.state=qt.Input,e instanceof com.ts.mobile.sdk.OtpFormatNumericImpl?(this.codeLength=e.getOtpLength(),this.isSupportedFormat=!0):this.isSupportedFormat=!1):this.state=qt.TargetSelection,this.target=t}},{key:"showOtpInput",value:function(){var e=this,t=new tn(this.actionContext,this.codeLength,this.possibleTargets.length>1);t.setTitle(this.uiContext.getString(W.ts_authenticator_otp_title_auth)),t.setInstructions(this.uiContext.getString(this.channelTypeToInstruction[this.target.getChannel()])),this.authError&&t.setError(this.authErrorMessage),t.onSubmit((function(n){e.clearError(),t.blockInteraction();var i=com.ts.mobile.sdk.OtpInputOtpSubmission.createOtpSubmission(n),o=com.ts.mobile.sdk.TargetBasedAuthenticatorInput.createAuthenticatorInput(i);e.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(o))})),t.onBack((function(){e.clearError(),t.blockInteraction(),e.state=qt.TargetSelection,e.showAuthUi()})),t.onResend((function(){e.clearError(),t.blockInteraction();var n=com.ts.mobile.sdk.OtpInputRequestResend.createOtpResendRequest(),i=com.ts.mobile.sdk.TargetBasedAuthenticatorInput.createAuthenticatorInput(n);e.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(i))})),this.showAuthenticatorPage(t)}},{key:"showTargetSelectionInput",value:function(){var e=this,t=0,n={},i=new Gt(this.actionContext);i.error=!!this.authError,i.setTitle(this.uiContext.getString(W.ts_authenticator_otp_title_auth)),i.setInstructions(this.getTargetSelectionInstruction()),i.onSubmit((function(t){e.clearError(),i.blockInteraction();var o=com.ts.mobile.sdk.TargetBasedAuthenticatorInput.createTargetSelectionRequest(n[t]);e.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(o))})),this.possibleTargets.forEach((function(o){var a=o.getDeviceDetails(),s=(++t).toString();n[s]=o,i.addChannelTarget({channel:o.getChannel(),targetId:s,targetName:a?Ce.getDeviceNameFromDeviceDetails(a):o.getDescription(),targetInfo:a?Ce.getLastAccessedFromDeviceDetails(e.uiContext,a):null})})),this.showAuthenticatorPage(i)}},{key:"onCancel",value:function(){this.clearError(),_(s(n.prototype),"onCancel",this).call(this)}},{key:"showAuthUi",value:function(){switch(this.state){case qt.TargetSelection:this.showTargetSelectionInput();break;case qt.Input:this.isSupportedFormat?this.showOtpInput():Promise.reject("Unsupported Otp code format")}}},{key:"showRegUi",value:function(){throw new Error("Otp registration unsupported")}},{key:"getTargetSelectionInstruction",value:function(){var e;return e=this.authError&&this.authError.getErrorCode()===com.ts.mobile.sdk.AuthenticationErrorCode.InvalidInput?W.ts_authenticator_otp_error_code_expired:W.ts_authenticator_otp_targets_intro,this.uiContext.getString(e)}}]),n}(),rn="xmui-totp-page",cn="xmui-totp-form",un=function(e){function n(e,i,a){var r,l;t(this,n),(l=u(this,s(n).call(this,Q.page_totp_auth,rn,e))).challengeType=i,l.challenge=a,l.channelTypeLocalizationKeys=(o(r={},com.ts.mobile.sdk.TotpChallengeFormatType.Numeric,W.ts_authenticator_totp_input_with_challenge_intro),o(r,com.ts.mobile.sdk.TotpChallengeFormatType.AlphaNumeric,W.ts_authenticator_totp_input_with_challenge_intro),o(r,com.ts.mobile.sdk.TotpChallengeFormatType.QrCode,W.ts_authenticator_totp_input_with_qr_challenge_intro),r),l.setTitle(l.uiContext.getString(W.ts_authenticator_totp_title)),l.setInstructions(l.uiContext.getString(l.channelTypeLocalizationKeys[l.challengeType]||W.ts_authenticator_totp_input_intro));var _=l.createForm();l.setContent(_);var h=new he(Q.button_continue);return h.label=l.uiContext.getString(W.ts_authenticator_password_cta_positive),h.disabled=!0,h.type=ne.Submit,h.form=cn,h.onClick(l.handleSend.bind(c(l))),l.sendButton=h,l.addRightButton(h),l}return a(n,nt),i(n,[{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"setError",value:function(e){this.error=!0,this.totpCodeInput.setError(e)}},{key:"clearError",value:function(){this.error=!1,this.totpCodeInput.clearError()}},{key:"handleSend",value:function(){this.onSubmitCB&&this.onSubmitCB(this.totpCodeInput.value)}},{key:"handleTotpCodeChanged",value:function(){var e=this.totpCodeInput.value;this.sendButton.disabled=null==e||0===e.length}},{key:"createSpacer",value:function(){var e=new P;return e.className="".concat("xmui-totp-form","_spacer"),e}},{key:"createChallenge",value:function(){var e;switch(this.challengeType){case com.ts.mobile.sdk.TotpChallengeFormatType.QrCode:var t=new P;t.className="".concat("xmui-totp-form","_qr-code-container");var n=new ut;n.className="".concat("xmui-totp-form","_qr-code"),n.src=this.challenge,t.appendChild(n),e=t;break;case com.ts.mobile.sdk.TotpChallengeFormatType.Numeric:case com.ts.mobile.sdk.TotpChallengeFormatType.AlphaNumeric:var i=new E;i.className="".concat("xmui-totp-form","_alphanumeric-code"),i.setText(this.challenge),e=i}return e}},{key:"createStep1Title",value:function(){var e=new E;e.className="".concat("xmui-totp-form","_step");var t=this.challengeType===com.ts.mobile.sdk.TotpChallengeFormatType.QrCode?W.ts_authenticator_totp_qrcode_challenge_step1_message:W.ts_authenticator_totp_code_challenge_step1_message;return e.setText(this.uiContext.getString(t)),e}},{key:"createStep2Title",value:function(){var e=new E;e.className="".concat("xmui-totp-form","_step");var t=this.challengeType===com.ts.mobile.sdk.TotpChallengeFormatType.QrCode?W.ts_authenticator_totp_qrcode_challenge_step2_message:W.ts_authenticator_totp_code_challenge_step2_message;return e.setText(this.uiContext.getString(t)),e}},{key:"createForm",value:function(){var e=new et;if(e.addClass("xmui-totp-form"),e.id=cn,e.appendChild(this.createSpacer()),null!=this.challengeType){var t=this.createStep1Title(),n=this.createChallenge(),i=this.createStep2Title();e.appendChildren(t,this.createSpacer(),n,this.createSpacer(),i,this.createSpacer())}var o=new P;o.className="".concat("xmui-totp-form","_input");var a=new $e(qe.Text,Q.input_totp_code);return a.name="totp-code",a.value="",a.placeholder=this.uiContext.getString(W.ts_authenticator_totp_input_hint),a.onChange(this.handleTotpCodeChanged.bind(this)),a.focus(),o.appendChild(a),this.totpCodeInput=a,e.appendChild(o),e.appendChild(this.createSpacer()),e}}]),n}(),ln=function(e){function n(e,i){return t(this,n),u(this,s(n).call(this,e,i))}return a(n,Be),i(n,[{key:"setAvailableTargets",value:function(e){this.availableTargets=e}},{key:"setTargetDevices",value:function(e){this.targetDevices=e}},{key:"setChallenge",value:function(e){this.challenge=this.getChallenge(e)}},{key:"showAuthUi",value:function(){this.availableTargets&&!this.targetDevices?this.showTargetSelectionUi():this.showCodeInputUi()}},{key:"promiseRecoveryForError",value:function(e,t,i){if(e.getErrorCode()==com.ts.mobile.sdk.AuthenticationErrorCode.InvalidInput&&t.indexOf(com.ts.mobile.sdk.AuthenticationErrorRecovery.RetryAuthenticator)>-1&&e.getPublicSymbolicProperty(com.ts.mobile.sdk.AuthenticationErrorProperty.AuthenticatorInvalidInputErrorDescription)==com.ts.mobile.sdk.AuthenticationErrorPropertySymbol.AuthenticatorInvalidInputErrorDescriptionTotpIncorrectCheckDigit)return Ie.log("Totp authentication failed due to invalid check-digit, starting recovery"),this.inputError="Typing error detected - retype code",Promise.resolve(com.ts.mobile.sdk.AuthenticationErrorRecovery.RetryAuthenticator);return _(s(n.prototype),"promiseRecoveryForError",this).call(this,e,t,i)}},{key:"showTargetSelectionUi",value:function(){var e=this,t=this.uiContext,n=new ct(this.actionContext);n.setTitle(t.getString(W.ts_authenticator_totp_title)),n.setInstructions(t.getString(W.ts_authenticator_totp_targets_intro));var i={};this.availableTargets.forEach((function(t){var o=t.getDeviceDetails(),a=o.getDeviceId(),s=Ce.getDeviceNameFromDeviceDetails(o),r=Ce.getLastAccessedFromDeviceDetails(e.uiContext,o);i[a]=t,n.addDevice(a,s,r,!1)})),n.onSubmit((function(t){n.blockInteraction();var o=t.map((function(e){return i[e]})),a=Ce.createTargetsSelectionResponse(o);e.resolveInputPromise(a)})),this.showAuthenticatorPage(n)}},{key:"showCodeInputUi",value:function(){var e=this,t=new un(this.actionContext,this.challenge.type,this.challenge.value);this.inputError&&t.setError(this.inputError),t.onSubmit((function(n){t.blockInteraction();var i=com.ts.mobile.sdk.impl.TotpInputCodeSubmissionImpl.createTotpCodeSubmission(n),o=com.ts.mobile.sdk.TargetBasedAuthenticatorInput.createAuthenticatorInput(i);e.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(o))})),this.showAuthenticatorPage(t)}},{key:"showRegUi",value:function(){throw new Error("Method not implemented.")}},{key:"getChallenge",value:function(e){var t={type:null,value:null};if(e)switch(t.type=e.getFormat().getType(),t.type){case com.ts.mobile.sdk.TotpChallengeFormatType.AlphaNumeric:case com.ts.mobile.sdk.TotpChallengeFormatType.Numeric:t.value=e.getValue();break;case com.ts.mobile.sdk.TotpChallengeFormatType.QrCode:t.value="data:image/jpeg;base64,"+e.getValue()}return t}}]),n}(),_n="xmui-fido2-authentication",hn="xmui-fido2-registration",dn=function(e){function n(e,i,o,a){var r,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t(this,n),(r=u(this,s(n).call(this,i?Q.page_fido2_reg:Q.page_fido2_auth,i?hn:_n,e,o,a))).isRegistrationMode=i,r.disableAutocomplete=c,r.displayNameInputRegex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,}$/,r.setTitle(r.getTitle()),r.setInstructions(r.getInstructions());var l=new he(Q.button_continue);l.label=r.uiContext.getString(W.ts_authenticator_password_cta_positive),r.addRightButton(l),r.continueButton=l;var _=r.createForm();return r.setContent(_),r}return a(n,nt),i(n,[{key:"setError",value:function(e){this.error=!0,this.displayNameInput.setError(e)}},{key:"clearError",value:function(){this.error=!1,this.displayNameInput.clearError()}},{key:"reset",value:function(){this.unblockInteraction(),this.displayNameInput.value="",this.displayNameInput.focus(),this.repeatDisplayNameInput&&(this.repeatDisplayNameInput.value="")}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"getTitle",value:function(){var e=this.isRegistrationMode?"ts_authenticator_fido2_title_reg":"ts_authenticator_fido2_title_auth";return this.uiContext.getString(e)}},{key:"getInstructions",value:function(){var e;return e=this.isRegistrationMode?"ts_authenticator_fido2_intro_reg":"ts_authenticator_fido2_intro_auth",this.uiContext.getString(e)}},{key:"createForm",value:function(){var e=this,t=this.uiContext,n=new et(this.continueButton);n.addClass("xmui-fido2-page-form"),n.id="xmui-fido2-form";var i=new $e(qe.Text,Q.input_text),o=this.getAutocompleteValue();if(i.name="displayName",i.placeholder=t.getString("ts_authenticator_fido2_field_hint"),i.disabled=!1,i.value="",i.required=!0,i.autocomplete=o,i.ariaLabel=t.getString("ts_accessibility_fido2_enter_name"),i.focus(),this.displayNameInput=i,n.appendChild(i),this.isRegistrationMode){var a=new P;a.className="".concat("xmui-fido2-page-form","_spacer"),n.appendChild(a);var s=new $e(qe.Text,Q.input_repeat_fido2);s.name="repeat-displayName",s.placeholder=t.getString("ts_authenticator_fido2_reg_field_hint"),s.disabled=!1,s.value="",s.required=!0,i.autocomplete=o,s.ariaLabel=t.getString("ts_accessibility_fido2_enter_name_again"),this.repeatDisplayNameInput=s,n.appendChild(s)}return this.addRecoveryButtonToForm(n),n.externalValidations=function(){var t=!0;return e.isRegistrationMode&&(e.validateDisplayNameMatch()||(e.repeatDisplayNameInput.setError(e.uiContext.getString("ts_authenticator_fido2_error_reg_no_match"),!1),e.displayNameInput.focus(),t=!1),e.isDisplayNameValid()||(e.displayNameInput.setError(e.uiContext.getString("ts_authenticator_fido2_error_reg_strength_validation_failed"),!1),e.repeatDisplayNameInput.setError(null,!0),e.displayNameInput.focus(),t=!1),0==t&&(e.displayNameInput.value="",e.repeatDisplayNameInput.value="")),t},n.onUserInput(this.handleDisplayNameChanged.bind(this)),n.onSubmit((function(t){e.blockInteraction(),e.onSubmitCB&&e.onSubmitCB(t.displayName)})),n.start(),n}},{key:"validateDisplayNameMatch",value:function(){return this.displayNameInput.value===this.repeatDisplayNameInput.value}},{key:"isDisplayNameValid",value:function(){return!0}},{key:"getAutocompleteValue",value:function(){return this.disableAutocomplete?Ye.Off:(this.isRegistrationMode,Ye.Username)}},{key:"handleDisplayNameChanged",value:function(){this.displayNameInput.error&&this.displayNameInput.clearError(),this.repeatDisplayNameInput&&this.repeatDisplayNameInput.error&&this.repeatDisplayNameInput.clearError()}}]),n}(),pn=function(e){function n(e,i){var o;return t(this,n),(o=u(this,s(n).call(this,e,i))).supportsInlineError=!0,o}return a(n,Be),i(n,[{key:"showAuthUi",value:function(){this.showFido2Page(!1)}},{key:"showRegUi",value:function(){this.showFido2Page(!0)}},{key:"showFido2Page",value:function(e){var t=this;if(this.authError&&this.fido2Page)this.fido2Page.reset(),this.fido2Page.setError(this.authErrorMessage);else{var n=!0===this.clientContext.disableFido2Autocomplete,i=new dn(this.actionContext,e,this.description.getCredentialRecoveryEscapeOption(),this.description.getAuthenticatorId(),n);this.showAuthenticatorPage(i),this.fido2Page=i}this.fido2Page.onSubmit((function(e){var n=com.ts.mobile.sdk.Fido2InputResponse.create(e);t.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(n))}))}}]),n}(),mn="xmui-ticket-wait-page",gn=function(e){function n(e,i,o,a){var r;t(this,n),r=u(this,s(n).call(this,Q.page_ticket_wait,mn,e)),d(s(n.prototype),"busy",!0,c(r),!0);var l=r.createContent(i,o,a);return r.setContent(l),r}return a(n,de),i(n,[{key:"createSpacer",value:function(){var e=new P;return e.className="".concat("xmui-ticket-wait","_spacer"),e}},{key:"createMessage",value:function(e){var t=new E;return t.setText(e),t.className="".concat("xmui-ticket-wait","_message"),t}},{key:"createContent",value:function(e,t,n){var i=new P;switch(i.className="xmui-ticket-wait",i.appendChild(this.createSpacer()),t){case com.ts.mobile.sdk.TicketIdFormat.Qr:var o=this.createMessage(e),a=new P;a.className="".concat("xmui-ticket-wait","_qr-code-container");var s=new ut;s.src=n,s.className="".concat("xmui-ticket-wait","_qr-code"),a.appendChild(s),i.appendChildren(o,this.createSpacer(),a);break;default:var r=new P;r.className="".concat("xmui-ticket-wait","_icon ").concat(x.WaitForTicket);var c=this.createMessage(e);i.appendChildren(r,this.createSpacer(),c,this.createSpacer())}return i}},{key:"busy",set:function(e){}}]),n}(),vn=function e(){t(this,e)},fn=function(){function e(){t(this,e),this.pollingIntervalMillis=3e3}return i(e,[{key:"setWaitingTicket",value:function(e){this.ticket=this.getTicket(e)}},{key:"startSession",value:function(e,t){this.username=Ie.getUsernameFromClientContext(t),this.clientContext=t,this.actionContext=e}},{key:"endSession",value:function(){this.abortPolling()}},{key:"promiseInput",value:function(){var e=this;return this.ticket?new Promise((function(t,n){e.currentPromiseResolve=t,e.ticketWaitPage||e.createTicketWaitPage(),e.startPolling()})):Promise.reject("TicketWaitSession: Failed build ticket info")}},{key:"createTicketWaitPage",value:function(){var e=this,t=new gn(this.actionContext,this.ticket.instructions,this.ticket.format,this.ticket.value);this.username&&t.setUserName(this.username),t.setTitle(this.ticket.title),t.onCancel((function(){e.resolve(Ce.createCancelAuthenticatorRequest()),e.abortPolling()})),t.onEscape((function(t){e.resolve(com.ts.mobile.sdk.InputOrControlResponse.createEscapeResponse(t,{})),e.abortPolling()})),Ie.renderPage(t,this.clientContext),this.ticketWaitPage=t}},{key:"startPolling",value:function(){var e=this;this.pollingTimer=setTimeout((function(){e.resolve(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(com.ts.mobile.sdk.TicketWaitInput.createPollRequest())),e.pollingTimer=null}),this.pollingIntervalMillis)}},{key:"abortPolling",value:function(){this.pollingTimer&&(clearTimeout(this.pollingTimer),this.pollingTimer=null)}},{key:"resolve",value:function(e){this.currentPromiseResolve&&this.currentPromiseResolve(e),this.currentPromiseResolve=null}},{key:"getTicket",value:function(e){var t=new vn;if(e){t.title=e.getTitle(),t.instructions=e.getText();var n=e.getTicketId();if(n)switch(t.format=n.getFormat(),t.format){case com.ts.mobile.sdk.TicketIdFormat.Qr:t.value="data:image/jpeg;base64,"+n.getValue();break;default:throw t=null,Ie.log("Unsupported ticket ID format"),new Error("Unsupported ticket ID format")}}return t}}]),e}(),yn="xmui-actions-menu-button",Cn="".concat(yn,"_menu-container"),kn=function(e){function n(e){var i;return t(this,n),(i=u(this,s(n).call(this))).actionsMenu=e,i.isOpen=!1,i.className="".concat(yn," ").concat(x.More),i.automationId=Q.button_actions_list,i.menuContainer=new P,i.menuContainer.className=Cn,i.menuContainer.appendChild(e),i.appendChild(i.menuContainer),i.onMousedown((function(){i.openMenu()})),i.handleMousedownEvent=i.handleMousedownEvent.bind(c(i)),i.handleWheelEvent=i.handleWheelEvent.bind(c(i)),i.handleActionSelection=i.handleActionSelection.bind(c(i)),i.handleResize=De(i.handleResize.bind(c(i)),10,!1),e.onSelectionChanged(i.handleActionSelection),i.actionsMenu.onFocus(i.handleFocusEvent.bind(c(i))),i.actionsMenu.onBlur(i.handleBlurEvent.bind(c(i))),i.actionsMenu.onKeydown(i.handleKeydownEvent.bind(c(i))),i}return a(n,P),i(n,[{key:"openMenu",value:function(){this.isOpen||(this.previousFocusedElement=document.activeElement,this.addClass("".concat(yn,"--open")),this.actionsMenu.clearSelection(),this.actionsMenu.clearActive(),this.actionsMenu.focus(),this.updateMenuPosition(),this.isOpen=!0)}},{key:"updateMenuPosition",value:function(){var e=this.htmlElement.getBoundingClientRect(),t=e.left+e.width/2,n=e.top+e.height/2,i=this.menuContainer.htmlElement,o=window.getComputedStyle(i),a=parseInt(o.width),s=parseInt(o.height),r=window.innerHeight-n-s,c=r<0?r:0;i.style.left=t-a+"px",i.style.top=n+c+"px"}},{key:"closeMenu",value:function(){this.isOpen&&(this.previousFocusedElement&&this.previousFocusedElement.focus&&this.previousFocusedElement.focus(),this.removeClass("".concat(yn,"--open")),window.removeEventListener("resize",this.handleResize),document.removeEventListener("mousedown",this.handleMousedownEvent),document.removeEventListener("wheel",this.handleWheelEvent),this.isOpen=!1)}},{key:"handleFocusEvent",value:function(e){window.addEventListener("resize",this.handleResize),document.addEventListener("mousedown",this.handleMousedownEvent),document.addEventListener("wheel",this.handleWheelEvent)}},{key:"handleBlurEvent",value:function(e){this.actionsMenu.htmlElement.contains(document.activeElement)||(this.previousFocusedElement=null,this.closeMenu())}},{key:"handleKeydownEvent",value:function(e,t){t.keyCode===V.Escape&&this.closeMenu()}},{key:"handleMousedownEvent",value:function(e){this.closeMenu()}},{key:"handleResize",value:function(){this.closeMenu()}},{key:"handleWheelEvent",value:function(){this.closeMenu()}},{key:"handleActionSelection",value:function(){this.closeMenu()}}]),n}(),bn="xmui-text-state",wn=function(e){function n(){var e;return t(this,n),(e=u(this,s(n).call(this))).className=bn,e}return a(n,E),n}(),Sn="xmui-authenticator-configuration-page",xn=function(e){function n(e){var i;t(this,n),(i=u(this,s(n).call(this,Q.page_configure_authenticators,Sn))).uiContext=e,i.keyToActionMenuButton={},i.setTitle(e.getString(W.ts_session_config_title));var o=new he(Q.button_cancel);o.label=e.getString(W.ts_gen_cancel),o.onClick((function(){i.onCancelCB&&i.onCancelCB()})),i.addLeftButton(o);var a=i.createContent();return i.setContent(a),i}return a(n,U),i(n,[{key:"createContent",value:function(){var e=this;return this.authList=new se(J.None),this.authList.onItemClicked((function(t){var n=e.keyToActionMenuButton[t];n&&n.openMenu()})),this.authList.focus(),this.authList}},{key:"getDefaultState",value:function(){var e=new wn;return e.setText(this.uiContext.getString(W.ts_gen_default)),e}},{key:"addAuthenticator",value:function(e,t,n,i,o,a,s){var r=ue.getAuthenticatorIcon(i)||ue.getAuthenticatorIcon(com.ts.mobile.sdk.AuthenticatorType.Generic),c=a?[this.getDefaultState()]:null,u=s?[x.Registered]:null,l=new kn(o);this.keyToActionMenuButton[e]=l;var _=new ce(t,n,r,l,c,u);this.authList.addListItem(e,!1,_)}},{key:"onCancel",value:function(e){this.onCancelCB=e}}]),n}(),In="xmui-actions-menu",En=function(e){function n(){var e;return t(this,n),(e=u(this,s(n).call(this,J.SingleMouseup,!0))).className=In,e.automationId=Q.list_actions,e.tabindex=-1,e.role="menu",e}return a(n,oe),i(n,[{key:"addAction",value:function(e){var t=new E;t.id=Z.generate(),t.className="".concat(In,"_action"),t.key=e.key,t.setText(e.label),this.addItem(t),this.role="menuitem",this.selected=!1,this.disabled=!1}}]),n}();!function(e){e[e.Register=0]="Register",e[e.Unregister=1]="Unregister",e[e.Reregister=2]="Reregister",e[e.SetDefault=3]="SetDefault"}(an||(an={}));var An=(o(nn={},an.Register,W.ts_session_config_item_action_register),o(nn,an.Unregister,W.ts_session_config_item_action_unregister),o(nn,an.Reregister,W.ts_session_config_item_action_reregister),o(nn,an.SetDefault,W.ts_session_config_item_action_set_as_default),nn),Pn=(o(on={},an.Register,W.ts_session_config_item_register_failed),o(on,an.Unregister,W.ts_session_config_item_unregister_failed),o(on,an.Reregister,W.ts_session_config_item_reregister_failed),o(on,an.SetDefault,W.ts_session_config_item_default_failed),on),Tn=function(){function e(n){var i;t(this,e),this.username=n,this.actionTypeToEMenuAction=(o(i={},com.ts.mobile.sdk.AuthenticatorConfigurationAction.Register,an.Register),o(i,com.ts.mobile.sdk.AuthenticatorConfigurationAction.Unregister,an.Unregister),o(i,com.ts.mobile.sdk.AuthenticatorConfigurationAction.Reregister,an.Reregister),i)}return i(e,[{key:"setAuthenticatorsList",value:function(e){var t=this,n=this.uiContext,i=new xn(n);i.setInstructions(this.instructions||n.getString(W.ts_session_config_intro)),i.setUserName(this.username),e.forEach((function(e){var o=e.getDescription(),a=o.getAuthenticatorId(),s=n.getString(we.getAuthenticatorNameKey(a)),r=n.getString(we.getAuthenticatorDescriptionKey(a)),c=o.getType(),u=e.getAvailableActions(),l=o.getDefaultAuthenticator(),_=o.getRegistered(),h=t.buildActionsMenu(u,l);h.onSelectionChanged(t.handleAction.bind(t,e)),i.addAuthenticator(a,s,r,c,h,l,_)})),i.onCancel((function(){t.configServices.finishSession()})),Ie.renderPage(i,this.clientContext)}},{key:"startSession",value:function(e,t,n){this.username=Ie.getUsernameFromClientContext(n)||this.username,this.configServices=e,this.actionContext=t,this.clientContext=n,this.uiContext=e.getUiContext(),this.instructions=null,Ie.log("Starting configuration session")}},{key:"endSession",value:function(){Ie.log("Ending configuration session")}},{key:"buildActionsMenu",value:function(e,t){var n=this,i=new En;return e.forEach((function(e){i.addAction({key:n.actionTypeToEMenuAction[e].toString(),label:n.uiContext.getString(An[n.actionTypeToEMenuAction[e]])})})),t||i.addAction({key:an.SetDefault.toString(),label:this.uiContext.getString(An[an.SetDefault])}),i}},{key:"handleAction",value:function(e,t){var n,i=this,o=parseInt(t);switch(o){case an.SetDefault:n=this.handleSetDefault(e);break;case an.Register:n=this.handleRegister(e);break;case an.Reregister:n=this.handleReregister(e);break;case an.Unregister:n=this.handleUnregister(e)}n.then((function(){return i.configServices.requestRefreshAuthenticators()})).catch((function(t){if(t&&t.getErrorCode&&t.getErrorCode()===com.ts.mobile.sdk.AuthenticationErrorCode.UserCanceled)i.configServices.requestRefreshAuthenticators();else{var n=e.getDescription().getAuthenticatorId(),a=i.uiContext.getString(we.getAuthenticatorNameKey(n)),s="fido2"!==n&&t.getMessage?t.getMessage():"",r=i.uiContext.formatString(Pn[o],[a,s]);i.presentError(t,r)}}))}},{key:"setSuccessMessage",value:function(e,t){var n=this.uiContext,i=e.getDescription().getAuthenticatorId(),o=n.getString(we.getAuthenticatorNameKey(i));this.instructions=n.formatString(t,[o])}},{key:"handleSetDefault",value:function(e){var t=this;return this.configServices.setDefaultAuthenticator(e).then((function(n){return t.setSuccessMessage(e,t.uiContext.getString(W.ts_session_config_item_default_result)),n}))}},{key:"handleReregister",value:function(e){var t=this;return this.configServices.reregisterAuthenticator(e,this.clientContext).then((function(){return t.configServices.setDefaultAuthenticator(e).then((function(n){return t.setSuccessMessage(e,t.uiContext.getString(W.ts_session_config_item_reregister_result)),n}))}))}},{key:"handleRegister",value:function(e){var t=this;return this.configServices.registerAuthenticator(e,this.clientContext).then((function(){return t.configServices.setDefaultAuthenticator(e).then((function(n){return t.setSuccessMessage(e,t.uiContext.getString(W.ts_session_config_item_register_result)),n}))}))}},{key:"handleUnregister",value:function(e){var t=this;return new Promise((function(n,i){var o=t.uiContext;t.setSuccessMessage(e,o.getString(W.ts_session_config_item_unregister_result));var a=e.getDescription().getAuthenticatorId(),s=o.getString(we.getAuthenticatorNameKey(a)),r=o.getString(W.ts_session_config_item_unregister_dialog_cta),c=o.getString(W.ts_gen_cancel),u=new Me(o,r,c);t.username&&u.setUserName(t.username),u.setDialogTitle(o.getString(W.ts_session_config_item_unregister_dialog_title)),u.setDialogMessage(o.formatString(W.ts_session_config_item_unregister_dialog_message,[s])),u.setDialogIconClass(x.Unregister),u.onSelect((function(o){u.blockInteraction(),o?t.configServices.unregisterAuthenticator(e,t.clientContext).then(n,i):n(!0)})),Ie.renderPage(u,t.clientContext)}))}},{key:"presentError",value:function(e,t){var n=this;this.instructions=null,Te.promiseInformationInput(this.username,x.Information,this.uiContext.getString(W.ts_session_config_error_dialog_title),t,this.uiContext.getString(W.ts_gen_continue),this.uiContext,this.clientContext).then((function(){e.getErrorCode()==com.ts.mobile.sdk.AuthenticationErrorCode.PolicyRejection?n.configServices.finishSession():n.configServices.requestRefreshAuthenticators()}))}}]),e}(),Rn="xmui-registration-promotion-introduction-page",Mn=function(e){function n(e,i,o,a,r){var c;t(this,n),(c=u(this,s(n).call(this,Q.dialog_registration_promotion_intro,Rn,e,!0,i,o,x.Promotion))).cancelButton.label=r,c.cancelButton.automationId=Q.button_abort;var l=new he(Q.button_skip);l.label=e.getUiContext().getString(W.ts_session_promotion_skip),l.onClick((function(){return c.onSkipCB&&c.onSkipCB()})),c.addRightButton(l);var _=new he(Q.button_continue);return _.label=a,_.onClick((function(){return c.onContinueCB&&c.onContinueCB()})),c.addRightButton(_),c}return a(n,Ee),i(n,[{key:"onContinue",value:function(e){this.onContinueCB=e}},{key:"onSkip",value:function(e){this.onSkipCB=e}}]),n}(),Bn=function(){function e(n,i){t(this,e),this.username=n,this.actionContext=i}return i(e,[{key:"startSession",value:function(e,t){this.username=Ie.getUsernameFromClientContext(e)||this.username,this.clientContext=e,this.uiContext=t.getUiContext(),Ie.log("Starting registration promotion action session")}},{key:"endSession",value:function(){this.clientContext.overrideAuthenticatorCancelBehavior=!1,Ie.log("Ending registration promotion action session")}},{key:"promptIntroduction",value:function(e,t,n,i){var o=this;return new Promise((function(a,s){var r=new Mn(o.actionContext,e,t,n,i);r.setUserName(o.username);var c=com.ts.mobile.sdk.PromotionControlRequest;r.onContinue((function(){a(com.ts.mobile.sdk.PromotionInput.createControlResponse(c.Continue))})),r.onSkip((function(){a(com.ts.mobile.sdk.PromotionInput.createControlResponse(c.Skip))})),r.onCancel((function(){a(com.ts.mobile.sdk.PromotionInput.createControlResponse(c.Abort))})),r.onEscape((function(e){a(com.ts.mobile.sdk.PromotionInput.createEscapeRequest(e,{}))})),Ie.renderPage(r,o.clientContext)}))}},{key:"setPromotedAuthenticators",value:function(e){var t=this,n=this.uiContext,i=com.ts.mobile.sdk.PromotionControlRequest;return new Promise((function(o,a){var s={},r=new me(t.actionContext);r.setUserName(t.username),r.setTitle(n.getString(W.ts_session_promotion_title)),r.setInstructions(n.getString(W.ts_session_promotion_intro)),e.forEach((function(e){var t=e.getAuthenticatorId(),i=e.getType();s[t]=e;var o=n.getString(we.getAuthenticatorNameKey(t));r.addAuthenticator(t,o,i,!1)})),r.onSubmit((function(e){r.blockInteraction(),t.clientContext.overrideAuthenticatorCancelBehavior=!0,o(com.ts.mobile.sdk.PromotionInput.createAuthenticatorDescription(s[e]))})),r.onEscape((function(e){r.blockInteraction(),o(com.ts.mobile.sdk.PromotionInput.createEscapeRequest(e,{}))})),r.cancelButton.label=n.getString(W.ts_session_promotion_abort),r.automationId=Q.button_abort,r.onCancel((function(){r.blockInteraction(),o(com.ts.mobile.sdk.PromotionInput.createControlResponse(i.Abort))}));var c=new he(Q.button_skip);c.label=n.getString(W.ts_session_promotion_skip),c.onClick((function(){r.blockInteraction(),o(com.ts.mobile.sdk.PromotionInput.createControlResponse(i.Skip))})),r.addRightButton(c),Ie.renderPage(r,t.clientContext)}))}}]),e}(),Nn="xmui-select-device-to-manage",Dn=function(e){function n(e){var i;t(this,n),(i=u(this,s(n).call(this,Q.page_select_device_to_manage,Nn))).uiContext=e,i.setTitle(e.getString(W.ts_session_dm_title)),i.setInstructions(e.getString(W.ts_session_dm_details_subtitle));var o=new he(Q.button_back);o.label=e.getString(W.ts_gen_close),o.onClick((function(){i.onBackCB&&i.onBackCB()})),i.addLeftButton(o);var a=i.createContent();return i.setContent(a),i}return a(n,U),i(n,[{key:"createContent",value:function(){var e=this;return this.deviceList=new se(J.Single),this.deviceList.onSelectionChanged((function(t){t.length&&e.onSelectCB&&e.onSelectCB(t[0])})),this.deviceList.focus(),this.deviceList}},{key:"getCurrentDeviceState",value:function(){var e=new wn;return e.setText(this.uiContext.getString(W.ts_session_dm_details_current_device)),e}},{key:"addDevice",value:function(e,t,n,i,o){var a=new P;a.className="".concat(Nn,"_expand-icon ").concat(x.Expand);var s=i?[this.getCurrentDeviceState()]:null,r=new ce(t,n,o,a,s);this.deviceList.addListItem(e,!1,r)}},{key:"onSelect",value:function(e){this.onSelectCB=e}},{key:"onBack",value:function(e){this.onBackCB=e}}]),n}(),qn="".concat("xmui-manage-device","_row"),Ln="".concat("xmui-manage-device","_info"),Fn="".concat("xmui-manage-device","_separator"),On="".concat("xmui-manage-device","_name"),jn="".concat("xmui-manage-device","_spacer"),Un="xmui-device-management-page",Qn=function(e){function n(e){var i;t(this,n),(i=u(this,s(n).call(this,Q.page_manage_devices,Un))).uiContext=e,i.setTitle(e.getString(W.ts_session_dm_details_title)),i.setInstructions(e.getString(W.ts_session_dm_details_subtitle));var o=new he(Q.button_cancel);return o.label=e.getString(W.ts_gen_back),o.onClick((function(){i.onCancelCB&&i.onCancelCB()})),o.focus(),i.addLeftButton(o),i.handleAction=i.handleAction.bind(c(i)),i}return a(n,U),i(n,[{key:"setDevice",value:function(e,t,n,i,o){var a=this.uiContext,s=new P;s.className="xmui-manage-device";var r=new P;r.className=qn;var c=new E;if(c.setText(e),c.className=On,r.appendChild(c),i){var u=new wn;u.setText(this.uiContext.getString(W.ts_session_dm_section_current)),r.appendChild(u)}if(o.indexOf(com.ts.mobile.sdk.DeviceManagementAction.Rename)>-1){var l=new P;l.className=jn;var _=new he(Q.button_rename);_.label=a.getString(W.ts_session_dm_details_rename_action),_.value=com.ts.mobile.sdk.DeviceManagementAction.Rename,_.onClick(this.handleAction),r.appendChildren(l,_)}var h=new E;h.setText(t+"\n"+n),h.className=Ln;var d=new P;if(d.className=qn,d.appendChildren(h),s.appendChildren(r,d),(new P).className=Fn,i||o.indexOf(com.ts.mobile.sdk.DeviceManagementAction.Remove)>-1){var p=new P;p.className=Fn,s.appendChild(p);var m=new P;m.className=qn;var g=new E;g.setText(a.getString(W.ts_session_dm_details_remove_subtitle)),g.className=Ln;var v=new he(Q.button_remove,ie.Alert);v.label=a.getString(W.ts_session_dm_details_remove_action),v.value=com.ts.mobile.sdk.DeviceManagementAction.Remove,v.onClick(this.handleAction),m.appendChildren(g,v),s.appendChild(m)}this.setContent(s)}},{key:"onAction",value:function(e){this.onActionCB=e}},{key:"onCancel",value:function(e){this.onCancelCB=e}},{key:"handleAction",value:function(e){this.onActionCB&&this.onActionCB(e.value)}}]),n}(),Vn=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'];function Hn(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}function Kn(e){for(var t=e.querySelectorAll(Vn.join(",")),n=[],i=0;i<t.length;i++){var o=t[i];zn(o)>-1&&!o.disabled&&!Hn(o)&&n.push(o)}return n}function zn(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}var Wn,Gn="xmui-popup-dialog",Zn=function(e){function n(){var e;t(this,n),(e=u(this,s(n).call(this))).className=Gn;var i=new P;return i.className="".concat(Gn,"_overlay"),e.panel=new P,e.panel.className="".concat(Gn,"_panel"),e.appendChildren(i,e.panel),e.handleKeydownEvent=e.handleKeydownEvent.bind(c(e)),e}return a(n,P),i(n,[{key:"overlayAddClassName",value:function(e){this.panel.addClass(e)}},{key:"addToPanel",value:function(e){this.panel.appendChild(e)}},{key:"appendInto",value:function(e){_(s(n.prototype),"appendInto",this).call(this,e),document.addEventListener("keydown",this.handleKeydownEvent)}},{key:"close",value:function(){document.removeEventListener("keydown",this.handleKeydownEvent),this.remove()}},{key:"handleKeydownEvent",value:function(e){!function(e,t){var n,i=(n=Kn(t))[0],o=n[n.length-1];"Tab"===e.key?t.contains(e.target)?e.shiftKey&&e.target===i?(o.focus(),e.preventDefault()):e.shiftKey||e.target!==o||(i.focus(),e.preventDefault()):((i=(n=Kn(t))[0]).focus(),e.preventDefault()):t.contains(e.target)||e.preventDefault()}(e,this.panel.htmlElement)}}]),n}(),Yn="xmui-action-popup-dialog",$n=function(e){function n(){var e;return t(this,n),(e=u(this,s(n).call(this))).headerPanel=new D(!0),e.headerPanel.show=!1,e.addToPanel(e.headerPanel),e.contentContainer=new P,e.contentContainer.className="".concat(Yn,"_content"),e.actionPanel=new L(!0),e.addToPanel(e.contentContainer),e.addToPanel(e.actionPanel),e}return a(n,Zn),i(n,[{key:"setTitle",value:function(e){this.headerPanel.show=!0,this.headerPanel.setText(e)}},{key:"setIcon",value:function(e){this.headerPanel.show=!0,this.headerPanel.setIcon(e)}},{key:"setContent",value:function(e){this.contentContainer.appendChild(e)}},{key:"addLeftButton",value:function(e){this.actionPanel.addLeftButton(e)}},{key:"addRightButton",value:function(e){this.actionPanel.addRightButton(e)}}]),n}(),Jn="xmui-confirm-popup-dialog",Xn=function(e){function n(e,i,o){var a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t(this,n),(a=u(this,s(n).call(this))).automationId=Q.popup_dialog_confirm,a.handleClick=a.handleClick.bind(c(a));var l=new he(Q.button_cancel);l.label=o||e.getString(W.ts_gen_cancel),l.value=!1,l.onClick(a.handleClick),a.addLeftButton(l);var _=new he(Q.button_continue);_.label=i||e.getString(W.ts_authenticator_password_cta_positive),_.value=!0,_.onClick(a.handleClick),a.addRightButton(_);var h=new P;return h.className="".concat(Jn,"_container"),a.messageComp=new E,a.messageComp.className="".concat(Jn,"_message"),h.appendChild(a.messageComp),a.setContent(h),r?_.focus():l.focus(),a}return a(n,$n),i(n,[{key:"setMessage",value:function(e){this.messageComp.setText(e)}},{key:"onSelect",value:function(e){this.onSelectCB=e}},{key:"handleClick",value:function(e){this.onSelectCB(e.value)}}]),n}(),ei="xmui-input-popup-dialog",ti="xmui-text-input-form",ni=function(e){function n(e,i,o){var a;t(this,n),(a=u(this,s(n).call(this))).addClass(ei),a.automationId=Q.popup_dialog_confirm;var r=new he(Q.button_cancel);r.label=o||e.getString(W.ts_gen_cancel),r.value=!1,r.onClick((function(){a.onCancelCB&&a.onCancelCB()})),a.addLeftButton(r);var c=new he(Q.button_continue);c.label=i||e.getString(W.ts_authenticator_password_cta_positive),c.value=!0,c.type=ne.Submit,c.disabled=!0,c.onClick((function(){a.onSubmitCB&&a.onSubmitCB(a.inputField.value)})),c.form=ti,a.addRightButton(c),a.confirmButton=c;var l=a.buildContent();return a.setContent(l),a}return a(n,$n),i(n,[{key:"setPlacehoder",value:function(e){this.inputField.placeholder=e}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"onCancel",value:function(e){this.onCancelCB=e}},{key:"buildContent",value:function(){var e=this,t=new et;t.id=ti;var n=new $e(qe.Text,Q.input_text);return n.disabled=!1,n.value="",n.onChange((function(){e.confirmButton.disabled=null==e.inputField.value||0===e.inputField.value.length})),n.focus(),this.inputField=n,t.appendChild(n),t}}]),n}(),ii=function(){function e(n){var i;t(this,e),this.username=n,this.actionToError=(o(i={},com.ts.mobile.sdk.DeviceManagementAction.Remove,W.ts_session_dm_item_action_remove_result_negative),o(i,com.ts.mobile.sdk.DeviceManagementAction.Rename,W.ts_session_dm_item_action_rename_result_negative),i)}return i(e,[{key:"setSessionDevicesList",value:function(e){var t=this;this.devices=e,this.deviceManagementSessionService&&(this.currentSelectedDevice=this.currentSelectedDevice?this.devices.find((function(e){return e.getInfo().getDeviceHwId()===t.currentSelectedDevice.getInfo().getDeviceHwId()})):null,this.currentSelectedDevice?this.openManageDevice(this.currentSelectedDevice):this.devices&&this.openSelectDeviceToManage())}},{key:"startSession",value:function(e,t,n){this.username=Ie.getUsernameFromClientContext(n)||this.username,this.deviceManagementSessionService=e,this.actionContext=t,this.clientContext=n,this.uiContext=e.getUiContext(),this.instructions=null,Ie.log("Starting device management session"),this.openSelectDeviceToManage()}},{key:"endSession",value:function(){Ie.log("Ending device management session")}},{key:"handleRemove",value:function(e){var t=this,n=this.uiContext;return new Promise((function(i,o){var a=t.getDeviceName(e),s=new Xn(n,n.getString(W.ts_session_dm_item_action_dialog_remove_cta));s.setTitle(n.formatString(W.ts_session_dm_item_action_dialog_remove_title,[a])),s.setIcon(x.Remove),s.setMessage(n.getString(W.ts_session_dm_item_action_dialog_remove_message)),s.onSelect((function(n){if(s.close(),n)if(e.getInfo().getIsCurrent()){var o=t.deviceManagementSessionService.removeCurrentDeviceAndFinishSession(t.clientContext).then((function(e){return e&&t.setSuccessMessage(W.ts_session_dm_item_action_remove_result_positive,a),e}));i(o)}else i(t.deviceManagementSessionService.removeDevice(e,t.clientContext));else i(!1)})),Ie.renderModal(s,t.clientContext)}))}},{key:"handleRename",value:function(e){var t=this,n=this.uiContext;return new Promise((function(i,o){var a=t.getDeviceName(e),s=new ni(n,n.getString(W.ts_session_dm_item_action_dialog_rename_cta));s.setTitle(n.formatString(W.ts_session_dm_item_action_dialog_rename_title,[a])),s.setIcon(x.Rename),s.setPlacehoder(n.getString(W.ts_session_dm_details_rename_input_hint)),s.onCancel((function(){s.close(),i(!1)})),s.onSubmit((function(n){s.close();var o=t.deviceManagementSessionService.renameDevice(e,n,t.clientContext).then((function(e){return e&&t.setSuccessMessage(W.ts_session_dm_item_action_rename_result_positive,a,n),e}));i(o)})),Ie.renderModal(s,t.clientContext)}))}},{key:"handleAction",value:function(e,t){var n,i=this;switch(t){case com.ts.mobile.sdk.DeviceManagementAction.Remove:n=this.handleRemove(e);break;case com.ts.mobile.sdk.DeviceManagementAction.Rename:n=this.handleRename(e)}n&&n.then((function(){})).catch((function(n){var o=i.getDeviceName(e),a=i.uiContext.formatString(i.actionToError[t],[o,n.getMessage()]);i.handleError(n,a)}))}},{key:"setSuccessMessage",value:function(e,t,n){this.instructions=this.uiContext.formatString(e,[t,n])}},{key:"handleError",value:function(e,t){var n=this;this.instructions=null,Te.promiseInformationInput(this.username,x.Information,this.uiContext.getString(W.ts_session_dm_error_dialog_title),t,this.uiContext.getString(W.ts_gen_continue),this.uiContext,this.clientContext).then((function(){n.openManageDevice(n.currentSelectedDevice)}))}},{key:"handleCancel",value:function(){this.openSelectDeviceToManage()}},{key:"openManageDevice",value:function(e){var t=e.getInfo(),n=e.getAvailableActions(),i=this.getDeviceName(e),o=this.getDeviceOS(e),a=this.getLastAccessed(e),s=t.getIsCurrent(),r=new Qn(this.uiContext);r.setUserName(this.username),r.setDevice(i,o,a,s,n),r.onAction(this.handleAction.bind(this,e)),r.onCancel(this.handleCancel.bind(this)),Ie.renderPage(r,this.clientContext)}},{key:"openSelectDeviceToManage",value:function(){var e=this;this.currentSelectedDevice=null;var t={},n=new Dn(this.uiContext);n.setUserName(this.username),this.instructions&&n.setInstructions(this.instructions),this.devices.forEach((function(i){var o=i.getInfo(),a=o.getDeviceHwId(),s=e.getDeviceName(i),r=e.getLastAccessed(i),c=o.getIsCurrent();t[a]=i,n.addDevice(a,s,r,c,x.WebBrowser)})),n.onSelect((function(n){e.instructions=null,e.currentSelectedDevice=t[n],e.openManageDevice(t[n])})),n.onBack((function(){e.instructions=null,e.deviceManagementSessionService.finishSession()})),Ie.renderPage(n,this.clientContext)}},{key:"getDeviceName",value:function(e){var t=e.getInfo(),n=t.getName();return Ce.getDeviceName(n,t)}},{key:"getDeviceOS",value:function(e){var t=e.getInfo();return"".concat(t.getOsType(),"  ").concat(t.getOsVersion())}},{key:"getLastAccessed",value:function(e){var t=new Date(e.getInfo().getLastAccess()).toLocaleString();return this.uiContext.formatString(W.ts_session_dm_last_used_date,[t])}}]),e}();!function(e){e.Text="text",e.Email="email",e.MobileNumber="phone"}(Wn||(Wn={}));var oi,ai=/^[a-z]{2}$/i,si=function(){function n(){t(this,n)}return i(n,null,[{key:"getFlagEmoji",value:function(e){return e.name_code?n.countryCodeEmoji(e.name_code):null}},{key:"countryCodeEmoji",value:function(t){if(!ai.test(t)){var n=e(t);throw new TypeError("cc argument must be an ISO 3166-1 alpha-2 string, but got '".concat("string"===n?t:n,"' instead."))}return String.fromCodePoint(t.codePointAt(0)+127365)+String.fromCodePoint(t.codePointAt(1)+127365)}}]),n}(),ri="xmui-country-item-content",ci=function(e){function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t(this,n),(i=u(this,s(n).call(this))).className=ri;var a=new E;a.className="".concat(ri,"_flag");var r=new E;r.className="".concat(ri,"_title");var c=new E;c.className="".concat(ri,"_phone_code"),null!=e&&(a.setText(si.countryCodeEmoji(e.name_code.toLowerCase())),r.setText(e.name),c.setText("+".concat(e.phone_code)));var l=new P;return l.className="".concat(ri,"_space"),o&&i.addClass("".concat(ri,"--selected")),i.appendChildren(a,r,l,c),i}return a(n,P),n}(),ui="xmui-countries-popup-dialog",li=function(e){function n(){var e;return t(this,n),(e=u(this,s(n).call(this))).search="",e.className=ui,e.container=new P,e.container.addClass("".concat(ui,"_container")),e.addToPanel(e.container),e.onClick(e.onDismiss.bind(c(e))),e.onKeypress(De(e.onKeyPressEvent.bind(c(e)),100,!1)),e.onKeydown(De(e.onKeyDownEvent.bind(c(e)),100,!1)),e}return a(n,Zn),i(n,[{key:"onKeyDownEvent",value:function(e,t){t.keyCode===V.Backspace&&(this.search=this.search.slice(0,-1),this.filter())}},{key:"onKeyPressEvent",value:function(e,t){this.search=this.search+t.key,this.filter()}},{key:"filter",value:function(){this.countries&&(this.search&&this.search.length>0?this.createList(this.filteredCountries(this.search)):this.createList(this.countries))}},{key:"filteredCountries",value:function(e){var t=this,n=this.countries.filter((function(e,n,i){return e.name.toLowerCase().startsWith(t.search.toLowerCase())||e.phone_code===t.search.toLowerCase()||e.name_code===t.search.toLowerCase()}));if(n&&n.length>0)return n;this.createList(this.countries)}},{key:"setCountries",value:function(e,t){this.countries=e,this.selectedCountryCode=t,this.createList(e),this.selectedCountryItem&&this.selectedCountryItem.scrollIntoView()}},{key:"createList",value:function(e){var t=this;null!=e&&(this.countriesList=new se(J.None),this.countriesList.focus(),this.container.setContent(this.countriesList),e.forEach((function(e){var n=new ci(e,e.name_code===t.selectedCountryCode);e.name_code===t.selectedCountryCode&&(t.selectedCountryItem=n),t.countriesList.addListItem(e.name_code,!1,n)})),this.countriesList.onItemClicked((function(e){t.onSelectCB&&(t.onSelectCB(e),t.close())})))}},{key:"onSelect",value:function(e){this.onSelectCB=e}},{key:"onDismiss",value:function(e,t){this.close()}}]),n}(),_i=[{name_code:"ad",name:"Andorra",phone_code:"376"},{name_code:"ae",name:"United Arab Emirates (UAE)",phone_code:"971"},{name_code:"af",name:"Afghanistan",phone_code:"93"},{name_code:"ag",name:"Antigua and Barbuda",phone_code:"1"},{name_code:"ai",name:"Anguilla",phone_code:"1"},{name_code:"al",name:"Albania",phone_code:"355"},{name_code:"am",name:"Armenia",phone_code:"374"},{name_code:"ao",name:"Angola",phone_code:"244"},{name_code:"aq",name:"Antarctica",phone_code:"672"},{name_code:"ar",name:"Argentina",phone_code:"54"},{name_code:"as",name:"American Samoa",phone_code:"1"},{name_code:"at",name:"Austria",phone_code:"43"},{name_code:"au",name:"Australia",phone_code:"61"},{name_code:"aw",name:"Aruba",phone_code:"297"},{name_code:"ax",name:"Åland Islands",phone_code:"358"},{name_code:"az",name:"Azerbaijan",phone_code:"994"},{name_code:"ba",name:"Bosnia And Herzegovina",phone_code:"387"},{name_code:"bb",name:"Barbados",phone_code:"1"},{name_code:"bd",name:"Bangladesh",phone_code:"880"},{name_code:"be",name:"Belgium",phone_code:"32"},{name_code:"bf",name:"Burkina Faso",phone_code:"226"},{name_code:"bg",name:"Bulgaria",phone_code:"359"},{name_code:"bh",name:"Bahrain",phone_code:"973"},{name_code:"bi",name:"Burundi",phone_code:"257"},{name_code:"bj",name:"Benin",phone_code:"229"},{name_code:"bl",name:"Saint Barthélemy",phone_code:"590"},{name_code:"bm",name:"Bermuda",phone_code:"1"},{name_code:"bn",name:"Brunei Darussalam",phone_code:"673"},{name_code:"bo",name:"Bolivia, Plurinational State Of",phone_code:"591"},{name_code:"br",name:"Brazil",phone_code:"55"},{name_code:"bs",name:"Bahamas",phone_code:"1"},{name_code:"bt",name:"Bhutan",phone_code:"975"},{name_code:"bw",name:"Botswana",phone_code:"267"},{name_code:"by",name:"Belarus",phone_code:"375"},{name_code:"bz",name:"Belize",phone_code:"501"},{name_code:"ca",name:"Canada",phone_code:"1"},{name_code:"cc",name:"Cocos (keeling) Islands",phone_code:"61"},{name_code:"cd",name:"Congo, The Democratic Republic Of The",phone_code:"243"},{name_code:"cf",name:"Central African Republic",phone_code:"236"},{name_code:"cg",name:"Congo",phone_code:"242"},{name_code:"ch",name:"Switzerland",phone_code:"41"},{name_code:"ci",name:"Côte D'ivoire",phone_code:"225"},{name_code:"ck",name:"Cook Islands",phone_code:"682"},{name_code:"cl",name:"Chile",phone_code:"56"},{name_code:"cm",name:"Cameroon",phone_code:"237"},{name_code:"cn",name:"China",phone_code:"86"},{name_code:"co",name:"Colombia",phone_code:"57"},{name_code:"cr",name:"Costa Rica",phone_code:"506"},{name_code:"cu",name:"Cuba",phone_code:"53"},{name_code:"cv",name:"Cape Verde",phone_code:"238"},{name_code:"cw",name:"Curaçao",phone_code:"599"},{name_code:"cx",name:"Christmas Island",phone_code:"61"},{name_code:"cy",name:"Cyprus",phone_code:"357"},{name_code:"cz",name:"Czech Republic",phone_code:"420"},{name_code:"de",name:"Germany",phone_code:"49"},{name_code:"dj",name:"Djibouti",phone_code:"253"},{name_code:"dk",name:"Denmark",phone_code:"45"},{name_code:"dm",name:"Dominica",phone_code:"1"},{name_code:"do",name:"Dominican Republic",phone_code:"1"},{name_code:"dz",name:"Algeria",phone_code:"213"},{name_code:"ec",name:"Ecuador",phone_code:"593"},{name_code:"ee",name:"Estonia",phone_code:"372"},{name_code:"eg",name:"Egypt",phone_code:"20"},{name_code:"er",name:"Eritrea",phone_code:"291"},{name_code:"es",name:"Spain",phone_code:"34"},{name_code:"et",name:"Ethiopia",phone_code:"251"},{name_code:"fi",name:"Finland",phone_code:"358"},{name_code:"fj",name:"Fiji",phone_code:"679"},{name_code:"fk",name:"Falkland Islands (malvinas)",phone_code:"500"},{name_code:"fm",name:"Micronesia, Federated States Of",phone_code:"691"},{name_code:"fo",name:"Faroe Islands",phone_code:"298"},{name_code:"fr",name:"France",phone_code:"33"},{name_code:"ga",name:"Gabon",phone_code:"241"},{name_code:"gb",name:"United Kingdom",phone_code:"44"},{name_code:"gd",name:"Grenada",phone_code:"1"},{name_code:"ge",name:"Georgia",phone_code:"995"},{name_code:"gf",name:"French Guyana",phone_code:"594"},{name_code:"gg",name:"Guernsey",phone_code:"44"},{name_code:"gh",name:"Ghana",phone_code:"233"},{name_code:"gi",name:"Gibraltar",phone_code:"350"},{name_code:"gl",name:"Greenland",phone_code:"299"},{name_code:"gm",name:"Gambia",phone_code:"220"},{name_code:"gn",name:"Guinea",phone_code:"224"},{name_code:"gp",name:"Guadeloupe",phone_code:"590"},{name_code:"gq",name:"Equatorial Guinea",phone_code:"240"},{name_code:"gr",name:"Greece",phone_code:"30"},{name_code:"gt",name:"Guatemala",phone_code:"502"},{name_code:"gu",name:"Guam",phone_code:"1"},{name_code:"gw",name:"Guinea-bissau",phone_code:"245"},{name_code:"gy",name:"Guyana",phone_code:"592"},{name_code:"hk",name:"Hong Kong",phone_code:"852"},{name_code:"hn",name:"Honduras",phone_code:"504"},{name_code:"hr",name:"Croatia",phone_code:"385"},{name_code:"ht",name:"Haiti",phone_code:"509"},{name_code:"hu",name:"Hungary",phone_code:"36"},{name_code:"id",name:"Indonesia",phone_code:"62"},{name_code:"ie",name:"Ireland",phone_code:"353"},{name_code:"il",name:"Israel",phone_code:"972"},{name_code:"im",name:"Isle Of Man",phone_code:"44"},{name_code:"is",name:"Iceland",phone_code:"354"},{name_code:"in",name:"India",phone_code:"91"},{name_code:"io",name:"British Indian Ocean Territory",phone_code:"246"},{name_code:"iq",name:"Iraq",phone_code:"964"},{name_code:"ir",name:"Iran, Islamic Republic Of",phone_code:"98"},{name_code:"it",name:"Italy",phone_code:"39"},{name_code:"je",name:"Jersey",phone_code:"44"},{name_code:"jm",name:"Jamaica",phone_code:"1"},{name_code:"jo",name:"Jordan",phone_code:"962"},{name_code:"jp",name:"Japan",phone_code:"81"},{name_code:"ke",name:"Kenya",phone_code:"254"},{name_code:"kg",name:"Kyrgyzstan",phone_code:"996"},{name_code:"kh",name:"Cambodia",phone_code:"855"},{name_code:"ki",name:"Kiribati",phone_code:"686"},{name_code:"km",name:"Comoros",phone_code:"269"},{name_code:"kn",name:"Saint Kitts and Nevis",phone_code:"1"},{name_code:"kp",name:"North Korea",phone_code:"850"},{name_code:"kr",name:"South Korea",phone_code:"82"},{name_code:"kw",name:"Kuwait",phone_code:"965"},{name_code:"ky",name:"Cayman Islands",phone_code:"1"},{name_code:"kz",name:"Kazakhstan",phone_code:"7"},{name_code:"la",name:"Lao People's Democratic Republic",phone_code:"856"},{name_code:"lb",name:"Lebanon",phone_code:"961"},{name_code:"lc",name:"Saint Lucia",phone_code:"1"},{name_code:"li",name:"Liechtenstein",phone_code:"423"},{name_code:"lk",name:"Sri Lanka",phone_code:"94"},{name_code:"lr",name:"Liberia",phone_code:"231"},{name_code:"ls",name:"Lesotho",phone_code:"266"},{name_code:"lt",name:"Lithuania",phone_code:"370"},{name_code:"lu",name:"Luxembourg",phone_code:"352"},{name_code:"lv",name:"Latvia",phone_code:"371"},{name_code:"ly",name:"Libya",phone_code:"218"},{name_code:"ma",name:"Morocco",phone_code:"212"},{name_code:"mc",name:"Monaco",phone_code:"377"},{name_code:"md",name:"Moldova, Republic Of",phone_code:"373"},{name_code:"me",name:"Montenegro",phone_code:"382"},{name_code:"mf",name:"Saint Martin",phone_code:"590"},{name_code:"mg",name:"Madagascar",phone_code:"261"},{name_code:"mh",name:"Marshall Islands",phone_code:"692"},{name_code:"mk",name:"Macedonia (FYROM)",phone_code:"389"},{name_code:"ml",name:"Mali",phone_code:"223"},{name_code:"mm",name:"Myanmar",phone_code:"95"},{name_code:"mn",name:"Mongolia",phone_code:"976"},{name_code:"mo",name:"Macau",phone_code:"853"},{name_code:"mp",name:"Northern Mariana Islands",phone_code:"1"},{name_code:"mq",name:"Martinique",phone_code:"596"},{name_code:"mr",name:"Mauritania",phone_code:"222"},{name_code:"ms",name:"Montserrat",phone_code:"1"},{name_code:"mt",name:"Malta",phone_code:"356"},{name_code:"mu",name:"Mauritius",phone_code:"230"},{name_code:"mv",name:"Maldives",phone_code:"960"},{name_code:"mw",name:"Malawi",phone_code:"265"},{name_code:"mx",name:"Mexico",phone_code:"52"},{name_code:"my",name:"Malaysia",phone_code:"60"},{name_code:"mz",name:"Mozambique",phone_code:"258"},{name_code:"na",name:"Namibia",phone_code:"264"},{name_code:"nc",name:"New Caledonia",phone_code:"687"},{name_code:"ne",name:"Niger",phone_code:"227"},{name_code:"nf",name:"Norfolk Islands",phone_code:"672"},{name_code:"ng",name:"Nigeria",phone_code:"234"},{name_code:"ni",name:"Nicaragua",phone_code:"505"},{name_code:"nl",name:"Netherlands",phone_code:"31"},{name_code:"no",name:"Norway",phone_code:"47"},{name_code:"np",name:"Nepal",phone_code:"977"},{name_code:"nr",name:"Nauru",phone_code:"674"},{name_code:"nu",name:"Niue",phone_code:"683"},{name_code:"nz",name:"New Zealand",phone_code:"64"},{name_code:"om",name:"Oman",phone_code:"968"},{name_code:"pa",name:"Panama",phone_code:"507"},{name_code:"pe",name:"Peru",phone_code:"51"},{name_code:"pf",name:"French Polynesia",phone_code:"689"},{name_code:"pg",name:"Papua New Guinea",phone_code:"675"},{name_code:"ph",name:"Philippines",phone_code:"63"},{name_code:"pk",name:"Pakistan",phone_code:"92"},{name_code:"pl",name:"Poland",phone_code:"48"},{name_code:"pm",name:"Saint Pierre And Miquelon",phone_code:"508"},{name_code:"pn",name:"Pitcairn Islands",phone_code:"870"},{name_code:"pr",name:"Puerto Rico",phone_code:"1"},{name_code:"ps",name:"Palestine",phone_code:"970"},{name_code:"pt",name:"Portugal",phone_code:"351"},{name_code:"pw",name:"Palau",phone_code:"680"},{name_code:"py",name:"Paraguay",phone_code:"595"},{name_code:"qa",name:"Qatar",phone_code:"974"},{name_code:"re",name:"Réunion",phone_code:"262"},{name_code:"ro",name:"Romania",phone_code:"40"},{name_code:"rs",name:"Serbia",phone_code:"381"},{name_code:"ru",name:"Russian Federation",phone_code:"7"},{name_code:"rw",name:"Rwanda",phone_code:"250"},{name_code:"sa",name:"Saudi Arabia",phone_code:"966"},{name_code:"sb",name:"Solomon Islands",phone_code:"677"},{name_code:"sc",name:"Seychelles",phone_code:"248"},{name_code:"sd",name:"Sudan",phone_code:"249"},{name_code:"se",name:"Sweden",phone_code:"46"},{name_code:"sg",name:"Singapore",phone_code:"65"},{name_code:"sh",name:"Saint Helena, Ascension And Tristan Da Cunha",phone_code:"290"},{name_code:"si",name:"Slovenia",phone_code:"386"},{name_code:"sk",name:"Slovakia",phone_code:"421"},{name_code:"sl",name:"Sierra Leone",phone_code:"232"},{name_code:"sm",name:"San Marino",phone_code:"378"},{name_code:"sn",name:"Senegal",phone_code:"221"},{name_code:"so",name:"Somalia",phone_code:"252"},{name_code:"sr",name:"Suriname",phone_code:"597"},{name_code:"ss",name:"South Sudan",phone_code:"211"},{name_code:"st",name:"Sao Tome And Principe",phone_code:"239"},{name_code:"sv",name:"El Salvador",phone_code:"503"},{name_code:"sx",name:"Sint Maarten",phone_code:"1"},{name_code:"sy",name:"Syrian Arab Republic",phone_code:"963"},{name_code:"sz",name:"Swaziland",phone_code:"268"},{name_code:"tc",name:"Turks and Caicos Islands",phone_code:"1"},{name_code:"td",name:"Chad",phone_code:"235"},{name_code:"tg",name:"Togo",phone_code:"228"},{name_code:"th",name:"Thailand",phone_code:"66"},{name_code:"tj",name:"Tajikistan",phone_code:"992"},{name_code:"tk",name:"Tokelau",phone_code:"690"},{name_code:"tl",name:"Timor-leste",phone_code:"670"},{name_code:"tm",name:"Turkmenistan",phone_code:"993"},{name_code:"tn",name:"Tunisia",phone_code:"216"},{name_code:"to",name:"Tonga",phone_code:"676"},{name_code:"tr",name:"Turkey",phone_code:"90"},{name_code:"tt",name:"Trinidad & Tobago",phone_code:"1"},{name_code:"tv",name:"Tuvalu",phone_code:"688"},{name_code:"tw",name:"Taiwan",phone_code:"886"},{name_code:"tz",name:"Tanzania, United Republic Of",phone_code:"255"},{name_code:"ua",name:"Ukraine",phone_code:"380"},{name_code:"ug",name:"Uganda",phone_code:"256"},{name_code:"us",name:"United States",phone_code:"1"},{name_code:"uy",name:"Uruguay",phone_code:"598"},{name_code:"uz",name:"Uzbekistan",phone_code:"998"},{name_code:"va",name:"Holy See (vatican City State)",phone_code:"379"},{name_code:"vc",name:"Saint Vincent & The Grenadines",phone_code:"1"},{name_code:"ve",name:"Venezuela, Bolivarian Republic Of",phone_code:"58"},{name_code:"vg",name:"British Virgin Islands",phone_code:"1"},{name_code:"vi",name:"US Virgin Islands",phone_code:"1"},{name_code:"vn",name:"Vietnam",phone_code:"84"},{name_code:"vu",name:"Vanuatu",phone_code:"678"},{name_code:"wf",name:"Wallis And Futuna",phone_code:"681"},{name_code:"ws",name:"Samoa",phone_code:"685"},{name_code:"xk",name:"Kosovo",phone_code:"383"},{name_code:"ye",name:"Yemen",phone_code:"967"},{name_code:"yt",name:"Mayotte",phone_code:"262"},{name_code:"za",name:"South Africa",phone_code:"27"},{name_code:"zm",name:"Zambia",phone_code:"260"},{name_code:"zw",name:"Zimbabwe",phone_code:"263"}],hi="xmui-mobile-phone-input",di="".concat(hi,"_separator"),pi="".concat(hi,"_plus"),mi="".concat(hi,"_country-code-container"),gi="-",vi="+",fi=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t(this,n),(e=u(this,s(n).call(this,qe.PositiveInteger,Q.input_mobile_phone_number))).addClass(hi),e.countries=_i;var a=new E(gi);a.className=di,e.prependToInputRow(a);var r=new P;r.className=mi;var c=new he(Q.input_mobile_phone_coutry_code);c.onClick((function(){if(e.onCountriesCB){var t=e.countries;if(!t)return;var n=new li;n.setCountries(t,e.currentSelectedCountryCode),n.onSelect((function(n){var i=t.find((function(e){return e.name_code===n}));i&&(e.currentSelectedCountryCode=i.name_code,c.label=i.phone_code)})),e.onCountriesCB(n)}})),r.appendChild(c),e.prependToInputRow(r);var l=new E(vi);return l.className=pi,e.prependToInputRow(l),e.countryCodeButton=c,e.addValidator(Ve.mobileNumber),e.value="".concat(i).concat(gi).concat(o),e}return a(n,$e),i(n,[{key:"getRequiredValidator",value:function(){return function(e){var t=e.replace(gi,"");return Ve.required(t)}}},{key:"checkHasValue",value:function(){return!!this.value.replace(gi,"").length}},{key:"onCountries",value:function(e){this.onCountriesCB=e}},{key:"isEmpty",get:function(){return!this.value.trim().replace(gi,"").length}},{key:"value",set:function(e){var t=e.length&&e.split(gi);t&&2===t.length&&(this.countryCodeButton.label=t[0],d(s(n.prototype),"value",t[1],this,!0))},get:function(){return"".concat(this.countryCodeButton.label).concat(gi).concat(_(s(n.prototype),"value",this))}},{key:"countryCode",get:function(){return this.countryCodeButton.label}},{key:"number",get:function(){return _(s(n.prototype),"value",this)}}]),n}(),yi="xmui-dynamic-mobile-phone-input",Ci=function(e){function n(e){var i;t(this,n),(i=u(this,s(n).call(this))).addClass(yi);var o=e.value&&e.value.country_code||"",a=e.value&&e.value.number||"",r=new fi(o,a);return r.name=e.id,r.message=e.hint?e.hint:"",r.required=!0===e.mandatory,r.placeholder=r.required?e.name.trim()+" *":e.name,i.appendChild(r),i.mobilePhoneInput=r,i}return a(n,Ke),i(n,[{key:"validateAndSetErrorMessage",value:function(){return this.mobilePhoneInput.validateAndSetErrorMessage()}},{key:"onCountriesCB",value:function(e){this.mobilePhoneInput.onCountries(e)}},{key:"name",get:function(){return this.mobilePhoneInput.name}},{key:"value",get:function(){return{country_code:this.mobilePhoneInput.countryCode,number:this.mobilePhoneInput.number}}},{key:"required",get:function(){return this.mobilePhoneInput.required}},{key:"isEmpty",get:function(){return this.mobilePhoneInput.isEmpty}}]),n}(),ki=function(e){function n(e,i,o,a,r){var c;return t(this,n),(c=u(this,s(n).call(this,e))).actions=r,c.id=i,c.name=o,c.clientContext=a,c.buildActions(r),c}return a(n,et),i(n,[{key:"buildActions",value:function(e){var t=this;e.forEach((function(e){var n=t.createInputField(e);t.appendChild(n)}))}},{key:"createInputField",value:function(e){var t,n,i;switch(e.type){case Wn.Text:t=qe.Text,i=new $e(t,Q.input_text);break;case Wn.Email:t=qe.Email,i=new $e(t,Q.input_email),n=254;break;case Wn.MobileNumber:var o=new Ci(e);return o.onCountriesCB(this.onCountriesCB.bind(this)),o;default:throw new Error("Unsupported form field type")}return i.name=e.id,i.message=e.hint?e.hint:"",i.required=!0===e.mandatory,i.placeholder=i.required?e.name.trim()+" *":e.name,e.value&&(i.value=e.value),null!=n&&(i.maxlength=n),i}},{key:"onCountriesCB",value:function(e){Ie.renderModal(e,this.clientContext)}}]),n}(),bi="xmui-dynamic-form-page",wi=function(e){function n(e,i,o,a){var r;t(this,n),(r=u(this,s(n).call(this,Q.page_dynamic_form,bi,e))).clientContext=i,r.formId=o,r.payload=a,r.setTitle(r.payload.title||r.formId),r.payload.subtitle&&r.setInstructions(r.payload.subtitle);var c=r.createForm();return r.setContent(c),r}return a(n,de),i(n,[{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"createForm",value:function(){var e=this,t=new he(Q.button_continue);t.label=this.uiContext.getString(W.ts_authenticator_password_cta_positive),this.addRightButton(t);var n=new ki(t,"xmui-dynamic-form","xmui-dynamic-form",this.clientContext,this.payload.actions);return n.onSubmit((function(t){e.onSubmitCB&&e.onSubmitCB({type:e.payload.type,actions:t})})),n.start(),n}}]),n}();!function(e){e[e.Init=0]="Init",e[e.Continue=1]="Continue",e[e.Error=2]="Error"}(oi||(oi={}));var Si,xi=function(){function e(n,i){t(this,e),this.formId=n,this.payload=i,this.state=oi.Init}return i(e,[{key:"startSession",value:function(e,t){this.clientContext=e,this.actionContext=t}},{key:"endSession",value:function(){}},{key:"onContinue",value:function(e){this.payload=e,this.state=oi.Continue}},{key:"onError",value:function(e){this.payload=e,this.state=oi.Error}},{key:"promiseFormInput",value:function(){var e=this;return new Promise((function(t,n){var i=new wi(e.actionContext,e.clientContext,e.formId,e.payload),o=Ie.getUsernameFromClientContext(e.clientContext);o&&i.setUserName(o),i.onSubmit((function(e){t(com.ts.mobile.sdk.FormInput.createFormInputSubmissionRequest(e))})),i.onCancel((function(){t(com.ts.mobile.sdk.FormInput.createFormCancellationRequest())})),i.onEscape((function(e){t(com.ts.mobile.sdk.FormInput.createEscapeRequest(e,{}))})),Ie.renderPage(i,e.clientContext)}))}}]),e}();!function(e){e.Button="button",e.Toggle="toggle",e.Separator="separator"}(Si||(Si={}));var Ii,Ei="xmui-button-user-detail",Ai=function(e){function n(e){var i;t(this,n);var o=new P;return o.className="".concat(Ei,"_more ").concat(x.CircledMore),(i=u(this,s(n).call(this,e.title,e.value,null,o))).addClass(Ei),i}return a(n,ce),n}(),Pi="xmui-switch",Ti="".concat(Pi,"--on"),Ri="".concat(Pi,"_bar"),Mi="".concat(Pi,"_knob"),Bi=function(e){function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t(this,n),(e=u(this,s(n).call(this))).className=Pi,e.value=i;var o=new P;o.className=Ri;var a=new P;return a.className=Mi,e.appendChildren(o,a),e}return a(n,P),i(n,[{key:"updateState",value:function(){this.value?this.addClass(Ti):this.removeClass(Ti)}},{key:"value",set:function(e){d(s(n.prototype),"value",e,this,!0),this.updateState()},get:function(){return _(s(n.prototype),"value",this)}}]),n}(),Ni="xmui-toggle-user-detail",Di=function(e){function n(e){var i;t(this,n);var o=new Bi(e.value);return(i=u(this,s(n).call(this,e.title,null,null,o))).switchComp=o,i.addClass(Ni),i}return a(n,ce),i(n,[{key:"switchState",value:function(){this.switchComp.value=!this.switchComp.value}}]),n}(),qi="xmui-manage-user-details-page",Li=function(e){function n(e,i){var o;t(this,n),(o=u(this,s(n).call(this,Q.page_manage_user_details,qi,!1))).actionContext=e,o.payload=i,o.uiContext=o.actionContext.getUiContext(),o.setTitle(i.title);var a=o.createContent();return o.setContent(a),i.footer_buttons.forEach((function(e){var t=new he(Q.button_dynamic);t.label=e.title,t.onClick((function(){return o.onSubmitCB&&o.onSubmitCB({selected_option:e.id})})),o.addRightButton(t)})),o}return a(n,U),i(n,[{key:"createContent",value:function(){var e=this,t=new se;return this.payload.menu.items.forEach((function(e){switch(e.type){case Si.Button:var n=new Ai(e);t.addListItem(e.id,!1,n);break;case Si.Toggle:var i=new Di(e);t.addListItem(e.id,!1,i),t.onSelectionChanged((function(t){t[0]===e.id&&i.switchState()}));break;case Si.Separator:t.startSection()}})),t.onSelectionChanged((function(t){e.onSubmitCB&&e.onSubmitCB({selected_option:t[0]})})),t.focus(),t}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}}]),n}(),Fi=function(){function e(n,i){t(this,e),this.formId=n,this.payload=i}return i(e,[{key:"startSession",value:function(e,t){this.clientContext=e,this.actionContext=t}},{key:"endSession",value:function(){}},{key:"onContinue",value:function(e){this.payload=e}},{key:"onError",value:function(e){this.payload=e}},{key:"promiseFormInput",value:function(){var e=this;return new Promise((function(t,n){var i=new Li(e.actionContext,e.payload);i.onSubmit((function(e){t(com.ts.mobile.sdk.FormInput.createFormInputSubmissionRequest(e))})),Ie.renderPage(i,e.clientContext)}))}}]),e}(),Oi="xmui-select-question-dialog",ji="".concat(Oi,"_container"),Ui="".concat(Oi,"_message"),Qi=function(e){function n(e,i,o){var a;t(this,n),(a=u(this,s(n).call(this))).addClass(Oi);var r=new he(Q.button_cancel);r.label=e.getString(W.ts_gen_cancel),r.value=!1,r.onClick((function(){a.close()})),a.addLeftButton(r),a.setTitle(e.getString("ts_authenticator_questions_reg_select_question"));var c=new P;return c.className=ji,i.forEach((function(e){var t=new E;t.className=Ui,t.setText(e.getSecurityQuestionText()),t.onClick((function(){o(e),a.close()})),c.appendChild(t)})),a.setContent(c),a}return a(n,$n),n}(),Vi=function(e){function n(){var e;return t(this,n),(e=u(this,s(n).call(this,qe.Text,Q.input_security_question))).answered=!1,e.onChange((function(){e.updateState(e.value)})),e}return a(n,$e),i(n,[{key:"checkHasValue",value:function(){return!0}},{key:"updateState",value:function(e){this.answered!==!!e&&(e&&e.length>this.minlength-1?this.addIcon(x.Checkmark):this.removeIcon(x.Checkmark),this.answered=!!e)}},{key:"maxlength",set:function(e){d(s(n.prototype),"maxlength",e,this,!0)}},{key:"value",set:function(e){d(s(n.prototype),"value",e,this,!0),this.updateState(e)},get:function(){return _(s(n.prototype),"value",this)}}]),n}(),Hi=function(){function e(n,i,o,a){t(this,e),this.input=n,this.container=i,this.parent=o,this.removeButton=a}return i(e,null,[{key:"createByState",value:function(t,n,i,o,a){var s=new P;s.className=Zi;var r=t.getString("ts_authenticator_questions_reg_select_question"),c=new Vi;c.ariaLabel=r,c.maxlength=o.getMaxAnswerLength(),c.minlength=o.getMinAnswerLength();var u=new he(Q.button_remove,ie.Normal);u.addClass(Gi),u.label=t.getString("ts_authenticator_questions_remove_this_question_cta"),s.appendChild(c),s.appendChild(u),i.appendChild(s);var l=new e(c,s,i,u);switch(n.state){case Ii.PROVIDED_REMOVED:case Ii.NEW_REMOVED:throw new Error("can't start with remove");case Ii.PROVIDED_ANSWERED:c.placeholder=n.question.getSecurityQuestionText();var _=t.getString("ts_authenticator_questions_reg_default_answer_placeholder");c.value=_,u.onClick((function(){n.state=Ii.PROVIDED_REMOVED,i.removeChild(s),Ie.log("removed called for answered question ".concat(n.question.getSecurityQuestionText())),a(!0)}));break;default:c.placeholder=r,c.disabled=!0,u.onClick((function(){n.state=Ii.NEW_REMOVED,Ie.log("remove called for new question"),i.removeChild(s),a(!0)}))}return c.onFocusIn((function(){Ie.log("focus on "+c.placeholder),n.state==Ii.PROVIDED_ANSWERED&&(c.value="")})),c.onChange((function(){var e=c.value.length;c.clearError(),e>o.getMinAnswerLength()-1&&(n.state==Ii.PROVIDED_ANSWERED?n.state=Ii.PROVIDED_MODIFIED:n.state=Ii.NEW_ANSWERED,n.answer=c.value,a(!0))})),c.onFocusOut((function(){var e=c.value.length;if(0==e)if(n.state==Ii.PROVIDED_ANSWERED){var i=t.getString("ts_authenticator_questions_reg_default_answer_placeholder");c.value=i}else{var s=t.getString(W.ts_authenticator_questions_error_answer_empty);c.setError(s,!1)}else if(e<o.getMinAnswerLength()){var r=t.formatString(W.ts_authenticator_questions_error_answer_range,[o.getMinAnswerLength().toString(),o.getMaxAnswerLength().toString()]);c.setError(r,!1),a(!1)}})),l}}]),e}(),Ki="xmui-security-questions-reg-page",zi="".concat("xmui-security-questions-reg-form","_progress-indication"),Wi="".concat("xmui-security-questions-reg-form","_form-container"),Gi="".concat("xmui-security-questions-reg-form","_button-remove"),Zi="".concat("xmui-security-questions-reg-form","_question-container"),Yi="xmui-security-questions-reg-form";!function(e){e[e.PROVIDED_ANSWERED=0]="PROVIDED_ANSWERED",e[e.PROVIDED_REMOVED=1]="PROVIDED_REMOVED",e[e.PROVIDED_MODIFIED=2]="PROVIDED_MODIFIED",e[e.NEW_ANSWERED=3]="NEW_ANSWERED",e[e.NEW=4]="NEW",e[e.NEW_REMOVED=5]="NEW_REMOVED"}(Ii||(Ii={}));var $i=function e(n,i,o){t(this,e),this.state=n,this.question=i,this.answer=o},Ji=function(e){function n(e,i,o){var a;t(this,n),(a=u(this,s(n).call(this,Q.input_security_question,Ki,e))).questionsMap=new Map,a.cells=new Array,a.displayModal=o;var r=Array(),c=Array();i.getSecurityQuestions().sort,i.getSecurityQuestions().forEach((function(e){e.getAnswered()?r.push(e):c.push(e)})),a.selectableQuestions=c,a.answeredQuestions=r,a.currentStep=i,a.setTitle(a.getTitle()),a.setInstructions(a.getInstructions()),a.setContent(a.createForm());var l=new he(Q.button_add_question);l.label=a.uiContext.getString(W.ts_authenticator_questions_add_question_cta),l.type=ne.Button,l.form=Yi,l.onClick((function(){a.addQuestion(),a.updateFormState()})),a.addRightButton(l),a.addQuestionButton=l;var _=new he(Q.button_continue);return _.label=a.uiContext.getString(W.ts_authenticator_password_cta_positive),_.type=ne.Submit,_.form=Yi,_.onClick((function(){var e=!1;a.cells.forEach((function(t){if(t.input.error)return Ie.log("Stopped continue click due to having a cell with an error"),void(e=!0);if(t.input.isEmpty){var n=a.uiContext.getString(W.ts_authenticator_questions_error_answer_empty);return t.input.setError(n,!1),void(e=!0)}})),e||a.onSubmitCB(a.collectUserAnswers())})),a.addRightButton(_),a.continueButton=_,a.updateFormState(),a}return a(n,nt),i(n,[{key:"setError",value:function(e){this.error=!0,e&&this.setInstructions(e)}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"collectUserAnswers",value:function(){var e=Array();return this.questionsMap.forEach((function(t){switch(t.state){case Ii.PROVIDED_REMOVED:e.push(com.ts.mobile.sdk.SecurityQuestionAndAnswer.createAnswerRemovalRequest(t.question));break;case Ii.NEW_ANSWERED:case Ii.PROVIDED_MODIFIED:e.push(com.ts.mobile.sdk.SecurityQuestionAndAnswer.createAnswerToQuestion(t.question,com.ts.mobile.sdk.SecurityQuestionAnswer.createWithText(t.answer)));break;default:Ie.log("question not used: "+t)}})),e}},{key:"updateFormState",value:function(){var e=this.countAnsweredQuestions();this.updateUserProgress(e),this.continueButton.disabled=!this.canSendForm(e),this.addQuestionButton.disabled=this.cells.length+1>this.selectableQuestions.length+this.answeredQuestions.length}},{key:"canSendForm",value:function(e){return!(e<this.currentStep.getMinAnswersNeeded())&&(this.cells.forEach((function(e){if(e.input.error)return Ie.log("Stopped continue click due to having a cell with an error"),!1})),!0)}},{key:"countAnsweredQuestions",value:function(){var e=this.answeredQuestions.length;return this.questionsMap.forEach((function(t){switch(t.state){case Ii.NEW_ANSWERED:e++;break;case Ii.PROVIDED_REMOVED:e--}})),e}},{key:"updateUserProgress",value:function(e){var t=this.uiContext.formatString(W.ts_authenticator_questions_left,[e.toString(),(this.selectableQuestions.length+this.answeredQuestions.length).toString()]);this.progressIndication.setText(t)}},{key:"getTitle",value:function(){var e=W.ts_authenticator_questions_title_reg;return this.uiContext.getString(e)}},{key:"getInstructions",value:function(){var e=W.ts_authenticator_questions_intro_reg;return this.uiContext.formatString(e,[this.currentStep.getMinAnswersNeeded().toString(),(this.selectableQuestions.length+this.answeredQuestions.length).toString()])}},{key:"createForm",value:function(){var e=this,t=new et;t.addClass("xmui-security-questions-reg-form"),t.id=Yi;var n=new P;n.className=Wi,this.questionsInputContainer=n,this.answeredQuestions.forEach((function(t){var n=Ii.PROVIDED_ANSWERED,i=new $i(n,t),o=Hi.createByState(e.uiContext,i,e.questionsInputContainer,e.currentStep,(function(t){e.onCellUpdated(i,t)}));e.cells.push(o),e.questionsMap.set(t.getSecurityQuestionId(),i)}));for(var i=this.currentStep.getMinAnswersNeeded()-this.answeredQuestions.length,o=0;o<i;o++)this.addQuestion();return this.progressIndication=new E,this.progressIndication.className=zi,t.appendChildren(n,this.progressIndication),t}},{key:"addQuestion",value:function(){var e=this,t=Ii.NEW,n=new $i(t,null),i=Hi.createByState(this.uiContext,n,this.questionsInputContainer,this.currentStep,(function(t){e.onCellUpdated(n,t)}));i.input.addRightButton(this.uiContext.getString("ts_authenticator_questions_reg_select_question_cta"),(function(){var t=new Array;e.selectableQuestions.forEach((function(n){var i=e.questionsMap.get(n.getSecurityQuestionId());(!i||i.state&&i.state!=Ii.NEW_ANSWERED)&&t.push(n)}));var o=new Qi(e.uiContext,t,(function(t){var o=e.selectableQuestions.indexOf(t);e.selectableQuestions.splice(o,1),n.question=t,i.input.disabled=!1,i.input.focus(),i.input.placeholder=t.getSecurityQuestionText(),i.input.value=null}));e.displayModal(o)})),i.removeButton.onClick(this.updateFormState.bind(this)),this.cells.push(i)}},{key:"onCellUpdated",value:function(e,t){if(Ie.log("new state ('".concat(e.state,"') with answer: ").concat(e.answer)),!t&&e.question&&e.question.getSecurityQuestionId())this.questionsMap.delete(e.question.getSecurityQuestionId()),this.updateFormState();else{switch(e.state){case Ii.PROVIDED_REMOVED:e.question&&e.question.getSecurityQuestionId()&&this.questionsMap.set(e.question.getSecurityQuestionId(),e),this.selectableQuestions.push(e.question);break;case Ii.NEW_REMOVED:e.question&&e.question.getSecurityQuestionId()&&(this.questionsMap.delete(e.question.getSecurityQuestionId()),this.selectableQuestions.push(e.question));break;default:this.questionsMap.set(e.question.getSecurityQuestionId(),e)}this.updateFormState()}}}]),n}(),Xi="xmui-answered-security-question",eo=function(e){function n(e,i){var o;t(this,n),(o=u(this,s(n).call(this))).className=Xi;var a=new E,r=new E;return a.className="".concat(Xi,"_question"),r.className="".concat(Xi,"_answer"),a.setText(e),r.setText(i),o.appendChildren(a,r),o}return a(n,P),n}(),to="xmui-security-questions-auth-page",no="xmui-security-questions-auth-form",io=function(e){function n(e,i,o){var a;t(this,n),(a=u(this,s(n).call(this,Q.page_security_questions_auth,to,e))).nextQuestion=i,a.prevAnsweredQuestions=o,a.setTitle(a.getTitle()),a.setInstructions(a.getInstructions()),a.content=a.createForm(),a.setContent(a.content);var r=new he(Q.button_continue);return r.label=a.uiContext.getString(W.ts_authenticator_password_cta_positive),r.type=ne.Submit,r.form=no,r.onClick((function(){return a.onSubmitCB(a.collectUserAnswer())})),a.addRightButton(r),a.continueButton=r,a.updateFormState(),a}return a(n,nt),i(n,[{key:"setError",value:function(e){this.error=!0,e&&this.setInstructions(e)}},{key:"onSubmit",value:function(e){this.onSubmitCB=e}},{key:"updateFormState",value:function(){this.updateSubmitButton()}},{key:"updateSubmitButton",value:function(){this.continueButton.disabled=!this.nextQuestionInput.value.trim()}},{key:"collectUserAnswer",value:function(){var e=this.nextQuestionInput.value;return com.ts.mobile.sdk.SecurityQuestionAndAnswer.createAnswerToQuestion(this.nextQuestion,com.ts.mobile.sdk.SecurityQuestionAnswer.createWithText(e))}},{key:"getTitle",value:function(){var e=W.ts_authenticator_questions_title_auth;return this.uiContext.getString(e)}},{key:"getInstructions",value:function(){var e=W.ts_authenticator_questions_intro_auth;return this.uiContext.getString(e)}},{key:"createForm",value:function(){var e=new et;e.addClass("xmui-security-questions-auth-form"),e.id=no,this.prevAnsweredQuestions.forEach((function(t){var n=t.getQuestion().getSecurityQuestionText(),i=t.getAnswer().getAnswerText(),o=new eo(n,i);e.appendChild(o)}));var t=new $e(qe.Text,Q.input_security_question),n=this.nextQuestion.getSecurityQuestionText();return t.placeholder=n,t.ariaLabel=n,t.focus(),t.scrollIntoView(),this.nextQuestionInput=t,e.appendChild(t),e.onUserInput(this.updateFormState.bind(this)),e}}]),n}(),oo=function(e){function n(e,i){var o;return t(this,n),(o=u(this,s(n).call(this,e,i))).prevAnsweredQuestions=[],o.supportsInlineError=!0,o}return a(n,Be),i(n,[{key:"showAuthUi",value:function(){this.showSecurityQuestionsAuthPage()}},{key:"showRegUi",value:function(){this.showSecurityQuestionsRegPage()}},{key:"setInputStep",value:function(e,t,n){this.currentStep=n}},{key:"showSecurityQuestionsRegPage",value:function(){var e=this,t=new Ji(this.actionContext,this.currentStep,(function(t){Ie.renderModal(t,e.clientContext)}));this.authError&&t.setError(this.authErrorMessage),t.onSubmit((function(n){t.blockInteraction();var i=com.ts.mobile.sdk.SecurityQuestionInputResponse.createSecurityQuestionAnswersInputResponse(n);e.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(i))})),this.showAuthenticatorPage(t)}},{key:"promiseCancelAction",value:function(e){return this.prevAnsweredQuestions=[],_(s(n.prototype),"promiseCancelAction",this).call(this,e)}},{key:"promiseRecoveryForError",value:function(e,t,i){return _(s(n.prototype),"promiseRecoveryForError",this).call(this,e,t,i)}},{key:"showSecurityQuestionsAuthPage",value:function(){var e=this;this.authError&&(this.prevAnsweredQuestions=[]);var t=new io(this.actionContext,this.currentStep.getSecurityQuestions()[0],this.prevAnsweredQuestions);this.authError&&t.setError(this.authErrorMessage),t.onSubmit((function(n){t.blockInteraction();var i=com.ts.mobile.sdk.SecurityQuestionInputResponse.createSecurityQuestionAnswersInputResponse([n]);e.resolveInputPromise(com.ts.mobile.sdk.InputOrControlResponse.createInputResponse(i)),e.prevAnsweredQuestions.push(n)})),this.showAuthenticatorPage(t)}}]),n}(),ao=function(){function e(){t(this,e),Se.init()}return i(e,[{key:"startActivityIndicator",value:function(e,t){Ie.activityStarted(t)}},{key:"endActivityIndicator",value:function(e,t){Ie.activityEnded(t)}},{key:"controlFlowCancelled",value:function(e){Ie.log("Control flow cancelled"),Ie.clearContainer(e)}},{key:"controlFlowStarting",value:function(e){Ie.log("Control flow started")}},{key:"controlFlowEnded",value:function(e,t){var n=e?" with error: ".concat(e):"";Ie.log("Control flow ended"+n)}},{key:"controlFlowActionStarting",value:function(e,t){Ie.log("Control flow action starting")}},{key:"controlFlowActionEnded",value:function(e,t,n){Ie.log("Control flow action starting")}},{key:"handleAuthenticatorUnregistration",value:function(e,t,n,i){return Promise.resolve(com.ts.mobile.sdk.UnregistrationInput.create(0))}},{key:"selectAuthenticator",value:function(e,t,n){return Te.promiseAuthenticator(e,t,n)}},{key:"selectAuthenticatorFallbackAction",value:function(e,t,n,i,o){var a=Ie.getUsernameFromClientContext(o);return Te.promiseAuthenticatorFallbackAction(a,e,t,n,i,o)}},{key:"controlOptionForCancellationRequestInSession",value:function(e,t){return t instanceof Be?t.promiseCancelAction(e):Te.promiseCancelActionForNonBaseAuthenticatorSession(e)}},{key:"createPasswordAuthSession",value:function(e,t){return new st(e,t)}},{key:"createPinAuthSession",value:function(e,t,n){return new yt(e,t,n)}},{key:"createPatternAuthSession",value:function(e,t,n,i){return new Ft(e,t,n,i)}},{key:"createOtpAuthSession",value:function(e,t,n,i){return new sn(e,t,n,i)}},{key:"createVoiceAuthSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"createSecurityQuestionAuthSession",value:function(e,t){return new oo(e,t)}},{key:"createPlaceholderAuthSession",value:function(e,t,n,i,o,a){throw new Error("Method not implemented by demo application.")}},{key:"createFido2AuthSession",value:function(e,t){return new pn(e,t)}},{key:"getConfirmationInput",value:function(e,t,n,i,o,a){var s=Ie.getUsernameFromClientContext(a);return Te.promiseConfirmationActionInput(s,x.Confirmation,e,t,n,i,o,a)}},{key:"getInformationResponse",value:function(e,t,n,i,o){var a=Ie.getUsernameFromClientContext(o);return Te.promiseInformationActionInput(a,x.Information,e,t,n,i,o)}},{key:"createMobileApproveAuthSession",value:function(e,t,n){return new dt(e,t,n)}},{key:"createTicketWaitSession",value:function(e,t){return new fn}},{key:"createTotpAuthSession",value:function(e,t){return new ln(e,t)}},{key:"createFormSession",value:function(e,t){if(t&&"dynamic_form"===t.type)return new xi(e,t);if(t&&"xm.qs.MenuList"===t.type)return new Fi(e,t);throw new Error("Method not implemented by demo application.")}},{key:"createAuthenticationConfigurationSession",value:function(e){return new Tn(e)}},{key:"createRegistrationPromotionSession",value:function(e,t){return new Bn(e,t)}},{key:"processJsonData",value:function(e,t,n){throw new Error("Method not implemented by demo application.")}},{key:"handlePolicyRejection",value:function(e,t,n,i,o,a){return Te.promisePolicyRejectionInput(e,t,n,i,o,a)}},{key:"handlePolicyRedirect",value:function(e,t,n,i,o){return Ie.log("Policy redirection requested. redirecting to policy: [".concat(t,"] with additionalParameters: [").concat(i,"]")),Promise.resolve(com.ts.mobile.sdk.RedirectInput.create(com.ts.mobile.sdk.RedirectResponseType.RedirectToPolicy))}},{key:"shouldIncludeDisabledAuthenticatorsInMenu",value:function(e,t){return!1}},{key:"createScanQrSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"createFingerprintAuthSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"createApprovalsSession",value:function(e){throw new Error("Method not implemented.")}},{key:"createTotpGenerationSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"createDeviceManagementSession",value:function(e){return Ie.log("Starting device management session"),new ii(e)}},{key:"createNativeFaceAuthSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"createFaceAuthSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"createDeviceBiometricsAuthSession",value:function(e,t){throw new Error("Method not implemented.")}},{key:"localAuthenticatorInvalidated",value:function(e){throw new Error("Method not implemented.")}},{key:"setLogEnabled",value:function(e){Ie.setLogEnabled(e)}}],[{key:"presentUI",value:function(e,t){Ie.presentUI(e,t)}}]),e}();export{ao as XmUIHandler};
